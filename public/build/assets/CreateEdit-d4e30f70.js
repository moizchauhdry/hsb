import{J as h,e as y,v as B,o as f,c as x,i as F,w as p,g as b,a as l,F as M,x as T,b as o,h as v,t as V,u as t,l as n,y as j,z as _,n as I,j as z}from"./app-0973401a.js";import{_ as r}from"./InputError-37c80b81.js";import{_ as A}from"./PrimaryButton-845612e0.js";import{_ as X}from"./SecondaryButton-b3527834.js";import{_ as J}from"./SuccessButton-8db24ace.js";import{_ as L}from"./Modal-293a94c6.js";import{_ as m}from"./InputLabel-82863724.js";import{X as C}from"./vue-datepicker-f9debddb.js";/* empty css             */import{S as g}from"./sweetalert2.all-522fc0ab.js";const P={class:"p-6"},q={class:"text-lg font-medium text-gray-900 flex justify-between items-center"},G={class:"text-sm text-gray-500"},H={key:0,class:"mr-2"},K={class:"mt-6"},O={class:"row g-3"},Q={class:"col-md-6"},R={class:"col-md-6"},W={class:"col-md-6"},Y={class:"col-md-6"},Z={class:"col-md-6"},ss={class:"col-md-6"},es={class:"col-md-12"},ts={class:"mt-6 flex justify-end"},ps={__name:"CreateEdit",props:{create_mode:Boolean},setup(S,{expose:w}){const{props:k}=h(),c=y(!1),d=y(!1),s=B({claim_id:"",policy_id:"",description:"",status:"progress",claim_at:"",intimation_at:"",survivor_name:"",contact_no:"",claim_no:""}),E=()=>{s.policy_id=k.policy.id,c.value=!0,d.value=!1},U=()=>{s.post(route("claim.store"),{preserveScroll:!0,onSuccess:()=>{g.fire("Added!","The claim added successfully.","success"),u()},onError:()=>N(),onFinish:()=>{}})},$=()=>{s.post(route("claim.update"),{preserveScroll:!0,onSuccess:()=>{g.fire("Updated!","The claim update successfully.","success"),u()},onError:i=>{i.status==!1&&g.fire("Error!",i.message,"error")},onFinish:()=>{}})},N=()=>{},u=()=>{c.value=!1},D=i=>{c.value=!0,d.value=!0,T.get(`/claims/fetch/claim/${i}`).then(({data:e})=>{s.claim_id=e.policy_claim.id,s.policy_id=e.policy_claim.policy_id,s.description=e.policy_claim.detail,s.status=e.policy_claim.status,s.claim_at=e.policy_claim.claim_at,s.intimation_at=e.policy_claim.intimation_at,s.survivor_name=e.policy_claim.survivor_name,s.contact_no=e.policy_claim.contact_no})};return w({claimEdit:i=>D(i)}),(i,e)=>(f(),x(M,null,[S.create_mode?(f(),F(A,{key:0,onClick:E,"data-bs-toggle":"modal","data-bs-target":"#claimsLargeModal"},{default:p(()=>e[8]||(e[8]=[o("i",{class:"bx bx-plus mr-1"},null,-1),v(" Claim ")])),_:1})):b("",!0),l(L,{show:c.value,onClose:u},{default:p(()=>[o("form",{onSubmit:e[7]||(e[7]=z(a=>d.value?$():U(),["prevent"]))},[o("div",P,[o("h2",q,[o("span",null,V(d.value?"Edit":"Add")+" Claim",1),o("span",G,[t(s).claim_id?(f(),x("span",H,"ID #"+V(t(s).claim_id),1)):b("",!0)])]),e[12]||(e[12]=o("p",{class:"mt-1 text-sm text-gray-600"},[o("hr")],-1)),o("div",K,[o("div",O,[o("div",Q,[l(m,{for:"",value:"Status",class:"mb-1"}),n(o("select",{id:"input21",class:"form-select","onUpdate:modelValue":e[0]||(e[0]=a=>t(s).status=a)},e[9]||(e[9]=[o("option",{value:"progress"},"In Progress",-1),o("option",{value:"settled"},"Settled",-1)]),512),[[j,t(s).status]]),l(r,{message:t(s).errors.status},null,8,["message"])]),o("div",R,[l(m,{for:"",value:"Claim No",class:"mb-1"}),n(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=a=>t(s).claim_no=a)},null,512),[[_,t(s).claim_no]]),l(r,{message:t(s).errors.claim_no},null,8,["message"])]),o("div",W,[l(m,{for:"",value:"Claim Date",class:"mb-1"}),l(t(C),{modelValue:t(s).claim_at,"onUpdate:modelValue":e[2]||(e[2]=a=>t(s).claim_at=a),"enable-time-picker":!0,"show-time":!0},null,8,["modelValue"]),l(r,{message:t(s).errors.claim_at},null,8,["message"])]),o("div",Y,[l(m,{for:"",value:"Intimation Date",class:"mb-1"}),l(t(C),{modelValue:t(s).intimation_at,"onUpdate:modelValue":e[3]||(e[3]=a=>t(s).intimation_at=a),"enable-time-picker":!0,"show-time":!0},null,8,["modelValue"]),l(r,{message:t(s).errors.intimation_at},null,8,["message"])]),o("div",Z,[l(m,{for:"",value:"Surveyor Name",class:"mb-1"}),n(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=a=>t(s).survivor_name=a)},null,512),[[_,t(s).survivor_name]]),l(r,{message:t(s).errors.survivor_name},null,8,["message"])]),o("div",ss,[l(m,{for:"",value:"Contact No",class:"mb-1"}),n(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=a=>t(s).contact_no=a)},null,512),[[_,t(s).contact_no]]),l(r,{message:t(s).errors.contact_no},null,8,["message"])]),o("div",es,[l(m,{for:"",value:"Description",class:"mb-1"}),n(o("textarea",{class:"form-control",id:"description","onUpdate:modelValue":e[6]||(e[6]=a=>t(s).description=a),rows:"10"},null,512),[[_,t(s).description]]),l(r,{message:t(s).errors.description},null,8,["message"])])])]),o("div",ts,[l(X,{onClick:u},{default:p(()=>e[10]||(e[10]=[v(" Cancel ")])),_:1}),l(J,{class:I(["ml-3",{"opacity-25":t(s).processing}]),disabled:t(s).processing},{default:p(()=>e[11]||(e[11]=[v(" Save ")])),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"])],64))}};export{ps as default};
