import{e as u,J as U,v as j,o as m,c,a as n,w as p,x as C,b as t,h as g,t as b,u as o,g as E,l as x,y as F,F as I,d as h,z as V,n as B,j as M}from"./app-971f6f04.js";import{s as z}from"./multiselect-ecc44505.js";import{_ as A}from"./PrimaryButton-10a61624.js";import{_ as T}from"./Modal-898b0b70.js";import{_}from"./InputError-c4308eb7.js";import{_ as J}from"./SuccessButton-ac18518b.js";import{_ as L}from"./SecondaryButton-a267b138.js";/* empty css                                                         */const O={class:"col"},P={class:"p-6"},q={class:"text-lg font-medium text-gray-900 flex justify-between items-center"},G={class:"text-sm text-gray-500"},H={key:0,class:"mr-2"},K={class:"mt-6"},Q={class:"row g-3"},R={class:"col-md-4"},W=["value"],X={class:"col-md-6"},Y={class:"col-md-2"},Z={class:"col-md-12"},ee={class:"mt-6 flex justify-end"},ue={__name:"CreateUpdate",props:{businessClass:Object},setup(se,{expose:w}){const r=u(!1),i=u(!1);U().props.businessClass;const f=u([]),v=u([]),S=()=>{r.value=!0,i.value=!1,C.get("/cobs/create").then(({data:a})=>{f.value=a.insurances,v.value=a.departments})},s=j({business_class_id:"",class_name:"",percentage:"",insurance_id:[],department_id:""}),$=()=>{s.post(route("cob.store"),{preserveScroll:!0,onSuccess:()=>d(),onError:()=>y(),onFinish:()=>{}})},y=()=>{},d=()=>{r.value=!1,s.reset()},k=a=>{const e=/^[0-9]*$/,l=a.target.value;e.test(l)?s.percentage=l:a.preventDefault()},D=a=>{r.value=!0,i.value=!0,C.get(`/cobs/edit/${a}`).then(({data:e})=>{s.business_class_id=e.cob.id,s.class_name=e.cob.class_name,s.percentage=e.cob.percentage,s.department_id=e.cob.department_id,f.value=e.insurances,s.insurance_id=e.selected_insurers,v.value=e.departments})};w({edit:a=>D(a)});const N=()=>{s.post(route("cob.update"),{preserveScroll:!0,onSuccess:()=>d(),onError:()=>y(),onFinish:()=>{}})};return(a,e)=>(m(),c("div",O,[n(A,{onClick:S},{default:p(()=>e[5]||(e[5]=[t("i",{class:"bx bx-plus text-lg"},null,-1),g("Add Class")])),_:1}),n(T,{show:r.value,onClose:d},{default:p(()=>[t("form",{onSubmit:e[4]||(e[4]=M(l=>i.value?N():$(),["prevent"]))},[t("div",P,[t("h2",q,[t("span",null,b(i.value?"Edit":"Add")+" Client",1),t("span",G,[o(s).user_id?(m(),c("span",H,"ID #"+b(o(s).user_id),1)):E("",!0)])]),e[12]||(e[12]=t("p",{class:"mt-1 text-sm text-gray-600"},[t("hr")],-1)),t("div",K,[t("div",Q,[t("div",R,[e[6]||(e[6]=t("label",{for:"input21",class:"form-label"},"Department",-1)),x(t("select",{id:"input21",class:"form-select","onUpdate:modelValue":e[0]||(e[0]=l=>o(s).department_id=l)},[(m(!0),c(I,null,h(v.value,l=>(m(),c("option",{key:l.id,value:l.id},b(l.name),9,W))),128))],512),[[F,o(s).department_id]]),n(_,{message:o(s).errors.department_id},null,8,["message"])]),t("div",X,[e[7]||(e[7]=t("label",{for:"input13",class:"form-label"},"Class Name",-1)),x(t("input",{type:"text",class:"form-control",id:"input13",placeholder:"","onUpdate:modelValue":e[1]||(e[1]=l=>o(s).class_name=l)},null,512),[[V,o(s).class_name]]),n(_,{message:o(s).errors.class_name},null,8,["message"])]),t("div",Y,[e[8]||(e[8]=t("label",{for:"input13",class:"form-label"},"Percentage",-1)),x(t("input",{type:"number",class:"form-control",id:"input13",placeholder:"","onUpdate:modelValue":e[2]||(e[2]=l=>o(s).percentage=l),onInput:k},null,544),[[V,o(s).percentage]]),n(_,{message:o(s).errors.percentage},null,8,["message"])]),t("div",Z,[e[9]||(e[9]=t("label",{for:"input21",class:"form-label"},"Insurer",-1)),n(o(z),{style:{"margin-top":"3px !important"},mode:"tags",searchable:!1,modelValue:o(s).insurance_id,"onUpdate:modelValue":e[3]||(e[3]=l=>o(s).insurance_id=l),options:f.value},null,8,["modelValue","options"]),n(_,{message:o(s).errors.insurance_id},null,8,["message"])])])]),t("div",ee,[n(L,{onClick:d},{default:p(()=>e[10]||(e[10]=[g(" Cancel ")])),_:1}),n(J,{class:B(["ml-3",{"opacity-25":o(s).processing}]),disabled:o(s).processing},{default:p(()=>e[11]||(e[11]=[g(" Save ")])),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"])]))}};export{ue as default};
