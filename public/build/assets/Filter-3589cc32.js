import{e as S,J as x,v as N,o as i,c as n,a as l,w as d,F as c,b as a,h as f,l as v,y as _,u as o,d as w,t as $,n as V,j as k}from"./app-0973401a.js";import{_ as U}from"./Modal-293a94c6.js";import{_ as A}from"./PrimaryButton-845612e0.js";import{_ as B}from"./SecondaryButton-b3527834.js";import{_ as I}from"./SuccessButton-8db24ace.js";import{_ as y}from"./InputLabel-82863724.js";import"./moment-a9aaa855.js";const O={class:"p-6"},j={class:"mt-6"},q={class:"row g-2"},E={class:"col-md-6"},L={class:"col-md-3"},P=["value"],T={class:"col-md-3"},z=["value"],R={class:"mt-6 flex justify-end"},ee={__name:"Filter",props:{data:Array,filter_route:{type:String,required:!0}},setup(Y){const u=S(!1),g=S(!1),C=x().props.slug,b=x().props.filter;var F=[{id:1,name:"January"},{id:2,name:"February"},{id:3,name:"March"},{id:4,name:"April"},{id:5,name:"May"},{id:6,name:"June"},{id:7,name:"July"},{id:8,name:"August"},{id:9,name:"September"},{id:10,name:"October"},{id:11,name:"November"},{id:12,name:"December"}],D=[{id:1,value:"2023"},{id:2,value:"2024"},{id:3,value:"2025"},{id:4,value:"2026"},{id:5,value:"2027"},{id:6,value:"2028"},{id:7,value:"2029"},{id:8,value:"2030"}],r="";const t=N({date_type:"",month:"",year:""}),J=()=>{u.value=!0,g.value=!1,t.month=b.month,t.year=b.year,t.date_type="claim_at",r=localStorage.getItem("filters"),r&&(r=JSON.parse(r),t.date_type=r.date_type,t.month=r.month,t.year=r.year)},M=()=>{var m={date_type:t.date_type,month:t.month,year:t.year};const e=new URLSearchParams(m).toString();var s;s=`${route("claim.index",C)}?${e}`,t.post(s,{preserveScroll:!0,onSuccess:h=>{p(),localStorage.setItem("filters",JSON.stringify(m))},onError:h=>{console.log(h)},onFinish:()=>{}})},p=()=>{u.value=!1,t.reset()};return(m,e)=>(i(),n(c,null,[l(A,{onClick:J,type:"button",class:"mx-1"},{default:d(()=>e[4]||(e[4]=[a("i",{class:"bx bx-search-alt text-lg mr-1"},null,-1),f(" Filters")])),_:1}),l(U,{show:u.value,onClose:p},{default:d(()=>[a("form",{onSubmit:e[3]||(e[3]=k(s=>g.value?m.update():M(),["prevent"]))},[a("div",O,[e[8]||(e[8]=a("h2",{class:"text-lg font-medium text-gray-900"},"Search Filters",-1)),e[9]||(e[9]=a("p",{class:"mt-1 text-sm text-gray-600"},[a("hr")],-1)),a("div",j,[a("div",q,[a("div",E,[l(y,{for:"",value:"Date Type",class:"mb-1"}),v(a("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>o(t).date_type=s),class:"form-control"},e[5]||(e[5]=[a("option",{value:"claim_at"},"Claim Date",-1),a("option",{value:"intimation_at"},"Intimation Date",-1)]),512),[[_,o(t).date_type]])]),a("div",L,[l(y,{for:"",value:"Month",class:"mb-1"}),v(a("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>o(t).month=s),class:"form-control"},[(i(!0),n(c,null,w(o(F),s=>(i(),n("option",{value:s.id},$(s.name),9,P))),256))],512),[[_,o(t).month]])]),a("div",T,[l(y,{for:"",value:"Year",class:"mb-1"}),v(a("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>o(t).year=s),class:"form-control"},[(i(!0),n(c,null,w(o(D),s=>(i(),n("option",{value:s.value},$(s.value),9,z))),256))],512),[[_,o(t).year]])])])]),a("div",R,[l(B,{onClick:p},{default:d(()=>e[6]||(e[6]=[f(" Cancel ")])),_:1}),l(I,{class:V(["ml-3",{"opacity-25":o(t).processing}]),disabled:o(t).processing},{default:d(()=>e[7]||(e[7]=[f(" Search ")])),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"])],64))}};export{ee as default};
