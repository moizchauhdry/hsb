import{q as r,v as w,e as N,w as _,o as c,b as e,t as a,u as i,c as m,h as C,j as S,s as $,a as u,r as k,F as V,f as v,n as B,g as D}from"./app-da79c77c.js";/* empty css                                               */import{_ as j}from"./InputError-9fbf588d.js";import{a as E,_ as F}from"./SecondaryButton-1b2866e4.js";import{_ as L}from"./SuccessButton-f15f5aeb.js";const M={class:"p-6"},P={class:"text-lg font-medium text-gray-900 flex justify-between items-center"},T={class:"text-sm text-gray-500"},U={key:0,class:"mr-2"},q=e("p",{class:"mt-1 text-sm text-gray-600"},[e("hr")],-1),z={class:"mt-6"},A={class:"row g-3"},I={class:"col-md-12"},O=e("label",{for:"input13",class:"form-label"},"Description",-1),G={class:"card mt-3",style:{height:"300px","overflow-y":"auto"}},H={class:"card-body"},J={class:"table-responsive"},K={id:"example",class:"table table-striped table-bordered",style:{width:"100%"}},Q=e("thead",null,[e("tr",null,[e("th",null,"Sr #"),e("th",null,"Note #"),e("th",null,"Policy/Claim ID"),e("th",null,"Notes")])],-1),R={class:"mt-6 flex justify-end"},te={__name:"Notes",setup(W,{expose:y}){const d=r(!1),n=r(!1),p=r([]),t=w({policy_id:"",policy_claim_id:"",note:""}),b=()=>{t.post(route("claim.store.claim-note"),{preserveScroll:!0,onSuccess:o=>{var s=o.props.flash.data;h(s.policy_claim_id,s.policy_id),t.note=""},onError:()=>{},onFinish:()=>{}})},f=()=>{d.value=!1},x=(o,s)=>{d.value=!0,n.value=!1,t.policy_id=s,t.policy_claim_id=o,t.note="",h(o,s)},h=(o,s)=>{axios.get(`/claims/fetch/claim-notes/${o}/${s}`).then(({data:l})=>{p.value=l.claim_notes})};return y({claimNote:(o,s)=>x(o,s)}),(o,s)=>(c(),N(E,{show:d.value,onClose:f},{default:_(()=>[e("form",{onSubmit:s[1]||(s[1]=D(l=>n.value?o.update():b(),["prevent"]))},[e("div",M,[e("h2",P,[e("span",null,a(n.value?"Edit":"Add")+" Note",1),e("span",T,[i(t).policy_claim_id?(c(),m("span",U,"CLM #"+a(i(t).policy_claim_id),1)):C("",!0),e("span",null,"POL #"+a(i(t).policy_id),1)])]),q,e("div",z,[e("div",A,[e("div",I,[O,S(e("textarea",{class:"form-control",id:"detail","onUpdate:modelValue":s[0]||(s[0]=l=>i(t).note=l),rows:"5"},null,512),[[$,i(t).note]]),u(j,{message:i(t).errors.note},null,8,["message"])])]),e("div",G,[e("div",H,[e("div",J,[e("table",K,[Q,e("tbody",null,[(c(!0),m(V,null,k(p.value,(l,g)=>(c(),m("tr",{key:l.id},[e("td",null,a(++g),1),e("td",null,a(l.id),1),e("td",null,a(l.policy_id)+"/"+a(l.policy_claim_id),1),e("td",null,a(l.note),1)]))),128))])])])])])]),e("div",R,[u(F,{onClick:f},{default:_(()=>[v("Close")]),_:1}),u(L,{class:B(["ml-3",{"opacity-25":i(t).processing}]),disabled:i(t).processing},{default:_(()=>[v(a(n.value?"Save & Update":"Save & Submit"),1)]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"]))}};export{te as default};
