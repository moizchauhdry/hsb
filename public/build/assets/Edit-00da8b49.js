import{J as S,q as b,v as C,e as x,w as E,z as V,o as f,b as s,c as k,g as w,j as a,x as d,u as o,a as r,y as U,t as M,h as N}from"./app-2624773b.js";import{_ as B}from"./AuthenticatedLayout-1bc104e9.js";import{_ as c}from"./InputError-2f2609b1.js";const $={class:"col"},D={key:0,class:"modal fade show",id:"EditLargeModal",tabindex:"-1","aria-hidden":"true",style:{display:"block"}},J={class:"modal fade show",id:"EditLargeModal",tabindex:"-1","aria-hidden":"true",style:{display:"block"}},O={class:"modal-dialog modal-lg"},F={class:"modal-content"},L=s("h5",{class:"modal-title"},"Edit Claims",-1),j={class:"modal-body"},q={class:"row g-3"},z={class:"col-md-4"},P=s("label",{for:"input13",class:"form-label"},"Progress",-1),T={class:"col-md-4"},A=s("label",{for:"input13",class:"form-label"},"Settled",-1),G={class:"col-md-4"},H=s("label",{for:"input21",class:"form-label"},"Status",-1),I=s("option",{value:"open"},"Open",-1),K=s("option",{value:"close"},"Close",-1),Q=[I,K],R={class:"col-md-12"},W=s("label",{for:"input13",class:"form-label"},"Detail",-1),X={class:"modal-footer"},Y={type:"submit",class:"btn btn-primary btn-sm"},os={__name:"Edit",setup(Z,{expose:v}){const{props:u}=S(),m=b(!1),p=b(!1),e=C({policy_id:JSON.parse(JSON.stringify(u.policy.id))??"",claim_id:"",detail:"",progress:"",settled:"",status:""}),y=()=>{e.post(route("policy.claims"),{preserveScroll:!0,onSuccess:()=>n(),onError:()=>_(),onFinish:()=>{}})},_=()=>{},n=()=>{m.value=!1,e.reset()},g=i=>{m.value=!0,p.value=!0,V.get(`/policy/get/claim/${i}`).then(({data:t})=>{e.policy_id=u.policy.id??"",e.claim_id=i,e.detail=t.policyClaim.detail,e.progress=t.policyClaim.progress,e.settled=t.policyClaim.settled,e.status=t.policyClaim.status})};v({claimEdit:i=>g(i)});const h=()=>{e.post(route("policy.updateClaim"),{preserveScroll:!0,onSuccess:()=>n(),onError:()=>_(),onFinish:()=>{}})};return(i,t)=>(f(),x(B,null,{default:E(()=>[s("div",$,[m.value?(f(),k("div",D,[s("div",J,[s("div",O,[s("div",F,[s("form",{onSubmit:t[6]||(t[6]=w(l=>p.value?h():y(),["prevent"]))},[s("div",{class:"modal-header"},[L,s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:n})]),s("div",j,[a(s("input",{type:"hidden","onUpdate:modelValue":t[0]||(t[0]=l=>o(e).policy_id=l)},null,512),[[d,o(e).policy_id]]),a(s("input",{type:"hidden","onUpdate:modelValue":t[1]||(t[1]=l=>o(e).claim_id=l)},null,512),[[d,o(e).claim_id]]),s("div",q,[s("div",z,[P,a(s("input",{type:"text",class:"form-control",id:"input13",placeholder:"","onUpdate:modelValue":t[2]||(t[2]=l=>o(e).progress=l)},null,512),[[d,o(e).progress]]),r(c,{message:o(e).errors.progress},null,8,["message"])]),s("div",T,[A,a(s("input",{type:"text",class:"form-control",id:"input13",placeholder:"","onUpdate:modelValue":t[3]||(t[3]=l=>o(e).settled=l)},null,512),[[d,o(e).settled]]),r(c,{message:o(e).errors.settled},null,8,["message"])]),s("div",G,[H,a(s("select",{id:"input21",class:"form-select","onUpdate:modelValue":t[4]||(t[4]=l=>o(e).status=l)},Q,512),[[U,o(e).status]]),r(c,{message:o(e).errors.status},null,8,["message"])]),s("div",R,[W,a(s("textarea",{class:"form-control",id:"detail","onUpdate:modelValue":t[5]||(t[5]=l=>o(e).detail=l)},null,512),[[d,o(e).detail]]),r(c,{message:o(e).errors.detail},null,8,["message"])])])]),s("div",X,[s("button",{type:"button",class:"btn btn-secondary btn-sm","data-bs-dismiss":"modal",onClick:n},"Close"),s("button",Y,M(p.value?"Save & Update":"Save & Submit"),1)])],32)])])])])):N("",!0)])]),_:1}))}};export{os as default};
