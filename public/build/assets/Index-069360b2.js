import{q as P,v as u,c as _,a as o,u as r,w as c,F as h,o as m,X as B,b as e,x as f,H as D,I as N,j as x,E as j,g as A,s as E,f as b,r as I,t as a,m as M}from"./app-d61d03d3.js";import{_ as V}from"./AuthenticatedLayout-7b7263bf.js";import"./index-b094010e.js";/* empty css             */import F from"./CreateEdit-67da6512.js";import O from"./Import-a6b19ba5.js";import{_ as v}from"./SecondaryButton-d8b319b2.js";import{P as R}from"./Paginate-12aa8ba1.js";import{S as g}from"./sweetalert2.all-5a3d468d.js";import{_ as T}from"./SuccessButton-7c316c35.js";import{_ as y}from"./DangerButton-466b6ffd.js";import U from"./ReportFilter-0e62b22b.js";/* empty css                                                         *//* empty css                                               */import"./InputError-c0c3207b.js";import"./vue-datepicker-3aaf7125.js";import"./PrimaryButton-85ce2f42.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./InputLabel-f2368fe1.js";import"./moment-a9aaa855.js";const Y={class:"page-wrapper"},z={class:"page-content"},L={class:"page-breadcrumb d-sm-flex align-items-center mb-3"},q=e("div",{class:"breadcrumb-title pe-3"},"Manage Reports",-1),H=e("div",{class:"ps-3"},[e("nav",{"aria-label":"breadcrumb"},[e("ol",{class:"breadcrumb mb-0 p-0"},[e("li",{class:"breadcrumb-item"},[e("a",{href:"javascript:;"},[e("i",{class:"bx bx-home-alt"})])]),e("li",{class:"breadcrumb-item active text-capitalize","aria-current":"page"},"Manage Policies ")])])],-1),X=e("div",{class:"ms-auto"},null,-1),G={class:"ms-auto",style:{display:"flex","justify-content":"space-between","align-items":"center"}},J={class:"card"},K={class:"card-body"},Q={class:"row align-items-center mb-3"},W={class:"col-12 col-md-2 d-flex align-items-center mb-2 mb-md-0"},Z=e("span",{class:"mr-2"},"Show",-1),ee=e("option",{value:"10"},"10",-1),se=e("option",{value:"25"},"25",-1),te=e("option",{value:"50"},"50",-1),oe=e("option",{value:"100"},"100",-1),ae=e("option",{value:"500"},"500",-1),ie=[ee,se,te,oe,ae],le=e("span",{class:"ml-2"},"entries",-1),ne={class:"col-12 col-md-10"},ce=["onSubmit"],re={class:"d-flex flex-column flex-md-row align-items-md-center"},de={class:"d-flex"},_e=e("i",{class:"bx bx-reset text-lg"},null,-1),me={class:"table-responsive"},pe={class:"table table-bordered table-sm text-uppercase"},ue=e("thead",{class:"table-light"},[e("tr",null,[e("th",{class:"px-2"},"Sr #"),e("th",{class:"px-2"},"Policy ID"),e("th",{class:"px-2"},"Policy No"),e("th",{class:"px-2"},"Client Name"),e("th",{class:"px-2"},"Agency Name"),e("th",{class:"px-2"},"COB Name"),e("th",{class:"px-2"},"Issuance Date"),e("th",{class:"px-2"},"Inception Date"),e("th",{class:"px-2"},"Expiry Date"),e("th",{class:"px-2"},"Action")])],-1),he={class:"px-2"},fe={class:"px-2"},xe={class:"px-2"},be=["href"],ve=e("i",{class:"bx bx-link-external"},null,-1),ge={class:"px-2"},ye={class:"px-2"},we={class:"px-2"},Se={class:"px-2"},$e={class:"px-2"},ke={class:"px-2"},Ce={class:"px-2"},Pe=e("i",{class:"bx bx-edit"},null,-1),Be=e("i",{class:"bx bxs-collection"},null,-1),De=e("i",{class:"bx bxs-trash"},null,-1),Ne={class:"card-body"},je={class:"float-left"},Ae={class:"float-right"},Ze={__name:"Index",props:{policies:Array,policy:Object,filter:Object,data:Array},setup(l){const p=P(null),w=t=>{p.value.edit(t)},S=t=>{const i=u({id:t});g.fire({title:"Are you sure?",text:"You will not be able to recover this policy!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(async s=>{s.isConfirmed&&i.delete(route("policy.delete"),{preserveScroll:!0,onSuccess:()=>{g.fire("Deleted!","Your policy has been deleted.","success")},onError:()=>{},onFinish:()=>i.reset()})})},n=u({search:"",page_count:10}),d=()=>{new URLSearchParams(n).toString(),n.post(route("policy.index"),{preserveScroll:!0,onSuccess:t=>{},onError:t=>{console.log(t)},onFinish:()=>{}})},$=()=>{n.search="",d()};return(t,i)=>(m(),_(h,null,[o(r(B),{title:"Policies"}),o(V,null,{default:c(()=>[e("div",Y,[e("div",z,[e("div",L,[q,H,X,e("div",G,[o(F,f(t.$props,{ref_key:"create_edit_ref",ref:p}),null,16),o(O,D(N(t.$props)),null,16),o(U,f(t.$props,{filter_route:"policy"}),null,16)])]),e("div",J,[e("div",K,[e("div",Q,[e("div",W,[Z,x(e("select",{"onUpdate:modelValue":i[0]||(i[0]=s=>r(n).page_count=s),class:"form-control",style:{width:"70px"},onChange:i[1]||(i[1]=s=>d())},ie,544),[[j,r(n).page_count]]),le]),e("div",ne,[e("form",{class:"d-flex flex-column flex-md-row justify-content-md-end align-items-md-center",onSubmit:A(d,["prevent"])},[e("div",re,[x(e("input",{type:"text","onUpdate:modelValue":i[2]||(i[2]=s=>r(n).search=s),class:"form-control mr-2 mb-2",placeholder:"Search",style:{width:"100%"}},null,512),[[E,r(n).search]]),e("div",de,[o(T,{class:"mb-2 px-4 py-1 mr-1"},{default:c(()=>[b("Search")]),_:1}),o(y,{class:"mb-2 px-2 py-1",onClick:i[3]||(i[3]=s=>$())},{default:c(()=>[_e]),_:1})])])],40,ce)])]),e("div",me,[e("table",pe,[ue,e("tbody",null,[(m(!0),_(h,null,I(l.policies.data,(s,k)=>(m(),_("tr",null,[e("td",he,a((l.policies.current_page-1)*l.policies.per_page+k+1),1),e("td",fe,a(s.id),1),e("td",xe,[e("a",{href:t.route("policy.detail",s.id),target:"_blank"},[b(a(s.data.policy_no)+" ",1),ve],8,be)]),e("td",ge,a(s.client_name),1),e("td",ye,a(s.agency_name),1),e("td",we,a(s.cob_name),1),e("td",Se,a(s.data.date_of_issuance),1),e("td",$e,a(s.data.policy_period_start),1),e("td",ke,a(s.data.policy_period_end),1),e("td",Ce,[o(v,{onClick:C=>w(s.id)},{default:c(()=>[Pe]),_:2},1032,["onClick"]),o(r(M),{href:t.route("policy.detail",s.id),class:"mx-1"},{default:c(()=>[o(v,null,{default:c(()=>[Be]),_:1})]),_:2},1032,["href"]),o(y,{onClick:C=>S(s.id)},{default:c(()=>[De]),_:2},1032,["onClick"])])]))),256))])])])]),e("div",Ne,[e("div",je,[e("span",null,"Showing "+a(l.policies.from)+" to "+a(l.policies.to)+" of "+a(l.policies.total)+" entries",1)]),e("div",Ae,[o(R,{links:l.policies.links},null,8,["links"])])])])])])]),_:1})],64))}};export{Ze as default};
