import{_ as g}from"./AuthenticatedLayout-0926241e.js";import"./index-361b6181.js";import{q as y,c as r,a,u as _,w as l,F as m,o as n,X as k,b as e,x as p,A as $,B as C,r as P,t as s,f as w,m as B,v as D}from"./app-eba7ec8c.js";import N from"./CreateEdit-c0c400bb.js";import S from"./Import-22575519.js";import{_ as u}from"./SecondaryButton-00c3f269.js";import{P as A}from"./Paginate-9cc3fddc.js";import{S as h}from"./sweetalert2.all-c5e72788.js";import{_ as j}from"./DangerButton-b061c3e9.js";import I from"./ReportFilter-93b3c088.js";import{_ as E}from"./Search-95485651.js";/* empty css                                               */import"./InputError-fea1cead.js";import"./vue-datepicker-f4b7e142.js";/* empty css             */import"./SuccessButton-c82a630c.js";import"./PrimaryButton-3ec58b95.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./InputLabel-1a721d5b.js";import"./moment-a9aaa855.js";const F={class:"page-wrapper"},O={class:"page-content"},V={class:"page-breadcrumb d-sm-flex align-items-center mb-3"},Y=e("div",{class:"breadcrumb-title pe-3"},"Manage Policies",-1),z=e("div",{class:"ps-3"},[e("nav",{"aria-label":"breadcrumb"},[e("ol",{class:"breadcrumb mb-0 p-0"},[e("li",{class:"breadcrumb-item"},[e("a",{href:"javascript:;"},[e("i",{class:"bx bx-home-alt"})])]),e("li",{class:"breadcrumb-item active text-capitalize","aria-current":"page"},"Policy List ")])])],-1),L=e("div",{class:"ms-auto"},null,-1),T={class:"ms-auto",style:{display:"flex","justify-content":"space-between","align-items":"center"}},q={class:"card"},M={class:"card-header"},R={class:"card-body"},X={class:"table-responsive"},G={class:"table table-bordered table-sm text-uppercase"},H=e("thead",{class:"table-light"},[e("tr",null,[e("th",{class:"px-2"},"Sr #"),e("th",{class:"px-2"},"Policy ID"),e("th",{class:"px-2"},"Policy No"),e("th",{class:"px-2"},"Client Name"),e("th",{class:"px-2"},"Agency Name"),e("th",{class:"px-2"},"COB Name"),e("th",{class:"px-2"},"Issuance Date"),e("th",{class:"px-2"},"Inception Date"),e("th",{class:"px-2"},"Expiry Date"),e("th",{class:"px-2"},"Action")])],-1),J={class:"px-2"},K={class:"px-2"},Q={class:"px-2"},U=["href"],W=e("i",{class:"bx bx-link-external"},null,-1),Z={class:"px-2"},ee={class:"px-2"},te={class:"px-2"},se={class:"px-2"},ae={class:"px-2"},oe={class:"px-2"},ie={class:"px-2"},le=e("i",{class:"bx bx-edit"},null,-1),ce=e("i",{class:"bx bxs-collection"},null,-1),re=e("i",{class:"bx bxs-trash"},null,-1),ne={class:"card-footer"},de={class:"float-left"},_e={class:"float-right"},je={__name:"Index",props:{policies:Array,policy:Object,filter:Object,data:Array},setup(i){const d=y(null),f=o=>{d.value.edit(o)},b=o=>{const c=D({id:o});h.fire({title:"Are you sure?",text:"You will not be able to recover this policy!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(async t=>{t.isConfirmed&&c.delete(route("policy.delete"),{preserveScroll:!0,onSuccess:()=>{h.fire("Deleted!","Your policy has been deleted.","success")},onError:()=>{},onFinish:()=>c.reset()})})};return(o,c)=>(n(),r(m,null,[a(_(k),{title:"Policies"}),a(g,null,{default:l(()=>[e("div",F,[e("div",O,[e("div",V,[Y,z,L,e("div",T,[a(N,p(o.$props,{ref_key:"create_edit_ref",ref:d}),null,16),a(S,$(C(o.$props)),null,16),a(I,p(o.$props,{filter_route:"policy"}),null,16)])]),e("div",q,[e("div",M,[a(E,{route_name:o.route("policy.index")},null,8,["route_name"])]),e("div",R,[e("div",X,[e("table",G,[H,e("tbody",null,[(n(!0),r(m,null,P(i.policies.data,(t,x)=>(n(),r("tr",null,[e("td",J,s((i.policies.current_page-1)*i.policies.per_page+x+1),1),e("td",K,s(t.id),1),e("td",Q,[e("a",{href:o.route("policy.detail",t.id),target:"_blank"},[w(s(t.data.policy_no)+" ",1),W],8,U)]),e("td",Z,s(t.client_name),1),e("td",ee,s(t.agency_name),1),e("td",te,s(t.cob_name),1),e("td",se,s(t.data.date_of_issuance),1),e("td",ae,s(t.data.policy_period_start),1),e("td",oe,s(t.data.policy_period_end),1),e("td",ie,[a(u,{onClick:v=>f(t.id)},{default:l(()=>[le]),_:2},1032,["onClick"]),a(_(B),{href:o.route("policy.detail",t.id),class:"mx-1"},{default:l(()=>[a(u,null,{default:l(()=>[ce]),_:1})]),_:2},1032,["href"]),a(j,{onClick:v=>b(t.id)},{default:l(()=>[re]),_:2},1032,["onClick"])])]))),256))])])])]),e("div",ne,[e("div",de,[e("span",null,"Showing "+s(i.policies.from)+" to "+s(i.policies.to)+" of "+s(i.policies.total)+" entries",1)]),e("div",_e,[a(A,{links:i.policies.links},null,8,["links"])])])])])])]),_:1})],64))}};export{je as default};
