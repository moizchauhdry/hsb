import{J as C,q as u,v as k,e as w,w as S,o as d,b as l,c as p,g as F,j as h,x as b,u as a,F as M,r as B,t as _,h as V}from"./app-2bc832bc.js";import{_ as D}from"./AuthenticatedLayout-88504ecd.js";const L={class:"col"},N={key:0,class:"modal fade show",id:"notesUploadLargeModal",tabindex:"-1","aria-hidden":"true",style:{display:"block"}},$={class:"modal fade show",id:"notesUploadLargeModal",tabindex:"-1","aria-hidden":"true",style:{display:"block"}},E={class:"modal-dialog modal-lg"},j={class:"modal-content"},q=l("h5",{class:"modal-title"},"Claim Upload",-1),I={class:"modal-body"},J={class:"row g-3"},T={class:"col-md-12"},z=l("label",{for:"input13",class:"form-label"},"Uploads",-1),A={class:"card"},G={class:"card-body"},H={class:"table-responsive"},K={id:"example",class:"table table-striped table-bordered",style:{width:"100%"}},O=l("thead",null,[l("tr",null,[l("th",null,"Sr No."),l("th",null,"Claim ID"),l("th",null,"File")])],-1),P=["src"],Q={class:"modal-footer"},R={type:"submit",class:"btn btn-primary btn-sm"},Z={__name:"Upload",setup(W,{expose:y}){const{props:i}=C(),m=u([]),n=u(!1),c=u(!1),v=e=>{const s=e.target.files;o.uploads=s},o=k({policy_id:i.policy.id??"",policy_claim_id:"",uploads:null}),f=()=>{o.post(route("policy.claimUpload"),{preserveScroll:!0,onSuccess:()=>r(),onError:()=>g(),onFinish:()=>{}})},g=()=>{},r=()=>{n.value=!1,o.reset()},U=e=>{n.value=!0,c.value=!1,o.policy_id=i.policy.id??"",o.policy_claim_id=e,o.uploads="",axios.get(`/policy/get/claim/upload/${i.policy.id}`).then(({data:s})=>{console.log(s),m.value=s.policyClaimUploads})};return y({claimUpload:e=>U(e)}),(e,s)=>(d(),w(D,null,{default:S(()=>[l("div",L,[n.value?(d(),p("div",N,[l("div",$,[l("div",E,[l("div",j,[l("form",{onSubmit:s[2]||(s[2]=F(t=>c.value?e.update():f(),["prevent"]))},[l("div",{class:"modal-header"},[q,l("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:r})]),l("div",I,[h(l("input",{type:"hidden","onUpdate:modelValue":s[0]||(s[0]=t=>a(o).policy_id=t)},null,512),[[b,a(o).policy_id]]),h(l("input",{type:"hidden","onUpdate:modelValue":s[1]||(s[1]=t=>a(o).policy_claim_id=t)},null,512),[[b,a(o).policy_claim_id]]),l("div",J,[l("div",T,[z,l("input",{type:"file",class:"form-control",id:"input13",onChange:v},null,32)])])]),l("div",A,[l("div",G,[l("div",H,[l("table",K,[O,l("tbody",null,[(d(!0),p(M,null,B(m.value,(t,x)=>(d(),p("tr",{key:t.id},[l("td",null,_(++x),1),l("td",null,_(t.id),1),l("td",null,[l("img",{src:a(i).assetUrl+"/"+t.file_url,alt:"",style:{height:"100px",width:"100px"}},null,8,P)])]))),128))])])])])]),l("div",Q,[l("button",{type:"button",class:"btn btn-secondary btn-sm","data-bs-dismiss":"modal",onClick:r},"Close"),l("button",R,_(c.value?"Save & Update":"Save & Submit"),1)])],32)])])])])):V("",!0)])]),_:1}))}};export{Z as default};
