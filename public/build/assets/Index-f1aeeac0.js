import{q as x,v as D,c as a,a as d,u as l,w as y,F as _,o,X as V,b as e,f as R,g as U,j as k,z as $,r as g,h as b,t as n,k as j}from"./app-4d0731cb.js";import{_ as F}from"./AuthenticatedLayout-5efad441.js";import{_ as C}from"./InputError-2e48b692.js";import{_ as B}from"./PrimaryButton-ce4b2367.js";/* empty css                                               */const E={class:"page-wrapper"},L={class:"page-content"},O={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},P=e("div",{class:"breadcrumb-title pe-3"},"User Management",-1),T=e("div",{class:"ps-3"},[e("nav",{"aria-label":"breadcrumb"},[e("ol",{class:"breadcrumb mb-0 p-0"},[e("li",{class:"breadcrumb-item"},[e("a",{href:"javascript:;"},[e("i",{class:"bx bx-home-alt"})])]),e("li",{class:"breadcrumb-item active","aria-current":"page"},"Role & Permission")])])],-1),q={class:"ms-auto"},z={class:"col"},A=e("i",{class:"bx bx-plus"},null,-1),I={key:0,class:"modal fade show",id:"exampleLargeModal",tabindex:"-1","aria-hidden":"true",style:{display:"block"}},X={class:"modal-dialog modal-md"},G={class:"modal-content"},H=e("h5",{class:"modal-title"},"Role & Permission",-1),J={class:"modal-body"},K={class:"row"},Q={class:"col-md-12"},W=e("label",{for:"input13",class:"form-label"},"Role",-1),Y={class:"position-relative input-icon"},Z=e("span",{class:"position-absolute top-50 translate-middle-y"},[e("i",{class:"bx bx-user"})],-1),ee={class:"row mt-3"},se={class:"col-md-12"},te=e("label",{for:"input13",class:"form-label"},"Permissions",-1),ae={class:"card p-3",style:{height:"400px","overflow-y":"auto"}},oe={key:0},le={key:0},ne={class:"text-uppercase"},ie={key:1,class:"form-check text-uppercase"},de=["value"],ce={class:"form-check-label",for:"flexCheckDefault"},re={class:"modal-footer"},ue={type:"submit",class:"btn btn-primary btn-sm"},me={class:"card"},_e={class:"card-body"},be={class:"table-responsive"},pe={id:"example",class:"table table-striped table-bordered",style:{width:"100%"}},he=e("thead",{class:"text-uppercase"},[e("tr",null,[e("th",null,"SR.NO."),e("th",null,"Name"),e("th",null,"Created Date"),e("th",null,"Updated Date"),e("td")])],-1),ve=e("i",{class:"bx bx-edit"},null,-1),Ce={__name:"Index",props:{roles:Object,permissions:Object},setup(h){const c=x(!1),r=x(!1),t=D({id:"",name:"",permissions:[]}),w=()=>{c.value=!0,r.value=!1},S=()=>{t.post(route("role.create"),{preserveScroll:!0,onSuccess:()=>u(),onError:()=>v(),onFinish:()=>{}})},M=m=>{c.value=!0,r.value=!0,t.id=m.id,t.name=m.name,t.permissions=m.permissions},N=()=>{t.post(route("role.update"),{preserveScroll:!0,onSuccess:()=>u(),onError:()=>v(),onFinish:()=>{}})},v=()=>{},u=()=>{c.value=!1,t.reset()};return(m,i)=>(o(),a(_,null,[d(l(V),{title:"Roles"}),d(F,null,{default:y(()=>[e("div",E,[e("div",L,[e("div",O,[P,T,e("div",q,[e("div",z,[e("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-toggle":"modal","data-bs-target":"#exampleLargeModal",onClick:w},[A,R("Add")]),c.value?(o(),a("div",I,[e("div",X,[e("div",G,[e("form",{onSubmit:i[2]||(i[2]=U(s=>r.value?N():S(),["prevent"]))},[e("div",{class:"modal-header"},[H,e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:u})]),e("div",J,[e("div",K,[e("div",Q,[W,e("div",Y,[k(e("input",{type:"text",class:"form-control",id:"input13",placeholder:"Name","onUpdate:modelValue":i[0]||(i[0]=s=>l(t).name=s)},null,512),[[$,l(t).name]]),Z]),d(C,{message:l(t).errors.name},null,8,["message"])])]),e("div",ee,[e("div",se,[te,e("div",ae,[(o(!0),a(_,null,g(h.permissions,(s,p)=>(o(),a(_,{key:s.id},[s.level==1?(o(),a("div",oe,[p!=0?(o(),a("hr",le)):b("",!0),e("h6",ne,n(s.name),1)])):b("",!0),s.level!=1?(o(),a("div",ie,[k(e("input",{class:"form-check-input",type:"checkbox",value:s.id,id:"flexCheckDefault","onUpdate:modelValue":i[1]||(i[1]=f=>l(t).permissions=f)},null,8,de),[[j,l(t).permissions]]),e("label",ce,n(s.name),1)])):b("",!0)],64))),128))]),d(C,{message:l(t).errors.permissions},null,8,["message"])])])]),e("div",re,[e("button",{type:"button",class:"btn btn-secondary btn-sm","data-bs-dismiss":"modal",onClick:u},"Close"),e("button",ue,n(r.value?"Save & Update":"Save & Submit"),1)])],32)])])])):b("",!0)])])]),e("div",me,[e("div",_e,[e("div",be,[e("table",pe,[he,e("tbody",null,[(o(!0),a(_,null,g(h.roles.data,(s,p)=>(o(),a("tr",null,[e("td",null,n(++p),1),e("td",null,n(s.name),1),e("td",null,n(s.created_at),1),e("td",null,n(s.updated_at),1),e("td",null,[d(B,{onClick:f=>M(s)},{default:y(()=>[ve]),_:2},1032,["onClick"])])]))),256))])])])])])])])]),_:1})],64))}};export{Ce as default};
