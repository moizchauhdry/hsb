import{J as S,q as p,v as C,e as x,w as E,z as k,o as _,b as s,c as w,g as V,j as d,x as r,u as o,y as M,a as b,t as N,h as U}from"./app-2bc832bc.js";import{_ as B}from"./AuthenticatedLayout-88504ecd.js";import{_ as v}from"./InputError-cda08243.js";const $={class:"col"},D={key:0,class:"modal fade show",id:"EditLargeModal",tabindex:"-1","aria-hidden":"true",style:{display:"block"}},J={class:"modal fade show",id:"EditLargeModal",tabindex:"-1","aria-hidden":"true",style:{display:"block"}},O={class:"modal-dialog modal-lg"},F={class:"modal-content"},L=s("h5",{class:"modal-title"},"Edit Claims",-1),j={class:"modal-body"},q={class:"row g-3"},z={class:"col-md-4"},T=s("label",{for:"input21",class:"form-label"},"Status",-1),A=s("option",{value:"open"},"Open",-1),G=s("option",{value:"close"},"Close",-1),H=[A,G],I={class:"col-md-12"},K=s("label",{for:"input13",class:"form-label"},"Detail",-1),P={class:"modal-footer"},Q={type:"submit",class:"btn btn-primary btn-sm"},Z={__name:"Edit",setup(R,{expose:y}){const{props:m}=S(),n=p(!1),c=p(!1),t=C({policy_id:JSON.parse(JSON.stringify(m.policy.id))??"",claim_id:"",detail:"",status:""}),f=()=>{t.post(route("policy.claims"),{preserveScroll:!0,onSuccess:()=>i(),onError:()=>u(),onFinish:()=>{}})},u=()=>{},i=()=>{n.value=!1,t.reset()},h=a=>{n.value=!0,c.value=!0,k.get(`/policy/get/claim/${a}`).then(({data:e})=>{t.policy_id=m.policy.id??"",t.claim_id=a,t.detail=e.policyClaim.detail,t.status=e.policyClaim.status})};y({claimEdit:a=>h(a)});const g=()=>{t.post(route("policy.updateClaim"),{preserveScroll:!0,onSuccess:()=>i(),onError:()=>u(),onFinish:()=>{}})};return(a,e)=>(_(),x(B,null,{default:E(()=>[s("div",$,[n.value?(_(),w("div",D,[s("div",J,[s("div",O,[s("div",F,[s("form",{onSubmit:e[4]||(e[4]=V(l=>c.value?g():f(),["prevent"]))},[s("div",{class:"modal-header"},[L,s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:i})]),s("div",j,[d(s("input",{type:"hidden","onUpdate:modelValue":e[0]||(e[0]=l=>o(t).policy_id=l)},null,512),[[r,o(t).policy_id]]),d(s("input",{type:"hidden","onUpdate:modelValue":e[1]||(e[1]=l=>o(t).claim_id=l)},null,512),[[r,o(t).claim_id]]),s("div",q,[s("div",z,[T,d(s("select",{id:"input21",class:"form-select","onUpdate:modelValue":e[2]||(e[2]=l=>o(t).status=l)},H,512),[[M,o(t).status]]),b(v,{message:o(t).errors.status},null,8,["message"])]),s("div",I,[K,d(s("textarea",{class:"form-control",id:"detail","onUpdate:modelValue":e[3]||(e[3]=l=>o(t).detail=l)},null,512),[[r,o(t).detail]]),b(v,{message:o(t).errors.detail},null,8,["message"])])])]),s("div",P,[s("button",{type:"button",class:"btn btn-secondary btn-sm","data-bs-dismiss":"modal",onClick:i},"Close"),s("button",Q,N(c.value?"Save & Update":"Save & Submit"),1)])],32)])])])])):U("",!0)])]),_:1}))}};export{Z as default};
