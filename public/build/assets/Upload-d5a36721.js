import{q as r,J as S,v as U,e as k,w as _,o as n,b as s,t as o,u as i,c as p,h as F,r as $,F as B,a as f,f as y,n as N,g as V}from"./app-09f6f740.js";/* empty css                                               */import{a as E,_ as L}from"./SecondaryButton-dbbde70c.js";import{_ as j}from"./SuccessButton-91d70cf8.js";const D={class:"p-6"},M={class:"text-lg font-medium text-gray-900 flex justify-between items-center"},P={class:"text-sm text-gray-500"},q={key:0,class:"mr-2"},z=s("p",{class:"mt-1 text-sm text-gray-600"},[s("hr")],-1),A={class:"mt-6"},I={class:"row g-3"},J={class:"col-md-12"},O=s("label",{for:"input13",class:"form-label"},"Uploads",-1),T={class:"card mt-3",style:{height:"300px","overflow-y":"auto"}},G={class:"card-body"},H={class:"table-responsive"},K={id:"example",class:"table table-striped table-bordered",style:{width:"100%"}},Q=s("thead",null,[s("tr",null,[s("th",null,"Sr #"),s("th",null,"Upload #"),s("th",null,"Policy/Claim ID"),s("th",null,"File")])],-1),R=["src"],W={class:"mt-6 flex justify-end"},ts={__name:"Upload",setup(X,{expose:v}){const d=r(!1),c=r(!1),u=r([]),g=S().props.asset_url,b=t=>{const e=t.target.files;l.uploads=e},l=U({policy_id:"",policy_claim_id:"",uploads:""}),x=()=>{l.post(route("claim.store.claim-upload"),{preserveScroll:!0,onSuccess:t=>{var e=t.props.flash.data;h(e.policy_claim_id,e.policy_id),l.uploads=""},onError:()=>{},onFinish:()=>{}})},m=()=>{d.value=!1,l.reset()},C=(t,e)=>{d.value=!0,c.value=!1,l.policy_claim_id=t,l.policy_id=e,h(t,e)},h=(t,e)=>{axios.get(`/claims/fetch/claim-uploads/${t}/${e}`).then(({data:a})=>{console.log(a),u.value=a.claim_uploads})};return v({claimUpload:(t,e)=>C(t,e)}),(t,e)=>(n(),k(E,{show:d.value,onClose:m},{default:_(()=>[s("form",{onSubmit:e[0]||(e[0]=V(a=>c.value?t.update():x(),["prevent"]))},[s("div",D,[s("h2",M,[s("span",null,o(c.value?"Edit":"Add")+" Upload",1),s("span",P,[i(l).policy_claim_id?(n(),p("span",q,"CLM #"+o(i(l).policy_claim_id),1)):F("",!0),s("span",null,"POL #"+o(i(l).policy_id),1)])]),z,s("div",A,[s("div",I,[s("div",J,[O,s("input",{type:"file",class:"form-control",id:"input13",onChange:b},null,32)])]),s("div",T,[s("div",G,[s("div",H,[s("table",K,[Q,s("tbody",null,[(n(!0),p(B,null,$(u.value,(a,w)=>(n(),p("tr",{key:a.id},[s("td",null,o(++w),1),s("td",null,o(a.id),1),s("td",null,o(a.policy_id)+"/"+o(a.policy_claim_id),1),s("td",null,[s("img",{src:i(g)+"/"+a.file_url,alt:"",style:{height:"100px",width:"100px"}},null,8,R)])]))),128))])])])])])]),s("div",W,[f(L,{onClick:m},{default:_(()=>[y("Close")]),_:1}),f(j,{class:N(["ml-3",{"opacity-25":i(l).processing}]),disabled:i(l).processing},{default:_(()=>[y(o(c.value?"Save & Update":"Save & Submit"),1)]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"]))}};export{ts as default};
