import{q as x,J as D,v as F,c,a as i,w as f,F as b,z as U,o as p,f as g,b as s,t as h,u as o,h as v,j as n,y,r as j,s as r,n as I,g as M}from"./app-eba7ec8c.js";import{a as O,_ as T}from"./SecondaryButton-00c3f269.js";import{_ as a}from"./InputError-fea1cead.js";import{s as z}from"./multiselect-ddb9975b.js";import{_ as A}from"./PrimaryButton-3ec58b95.js";import{_ as P}from"./SuccessButton-c82a630c.js";/* empty css                                                         */const G=s("i",{class:"bx bx-plus text-lg mr-1"},null,-1),J={class:"p-6"},L={class:"text-lg font-medium text-gray-900 flex justify-between items-center"},Q={class:"text-sm text-gray-500"},R={key:0,class:"mr-2"},H=s("p",{class:"mt-1 text-sm text-gray-600"},[s("hr")],-1),K={class:"mt-6"},W={class:"row g-3"},X={class:"col-md-6"},Y=s("label",{for:"input21",class:"form-label"},"Role",-1),Z=s("option",{value:""},"Choose...",-1),ss=["value"],es={class:"col-md-6"},os=s("label",{for:"input16",class:"form-label"},"Type",-1),ts=s("option",{value:""},"Choose...",-1),ls=s("option",{value:"individual"},"Individual",-1),is=s("option",{value:"business"},"Business",-1),ns=[ts,ls,is],as={key:0,class:"col-md-12"},rs=s("label",{for:"input21",class:"form-label"},"Class of Business",-1),ds={class:"col-md-6"},cs=s("label",{for:"input13",class:"form-label"},"Name",-1),ps={class:"position-relative input-icon"},us=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-user"})],-1),ms={class:"col-md-6"},_s=s("label",{for:"input13",class:"form-label"},"Father Name",-1),fs={class:"position-relative input-icon"},bs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-user"})],-1),hs={class:"col-md-6"},vs=s("label",{for:"input15",class:"form-label"},"Phone",-1),xs={class:"position-relative input-icon"},gs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-phone"})],-1),ys={class:"col-md-6"},Vs={for:"input16",class:"form-label"},ws={class:"position-relative input-icon"},Cs=["placeholder"],Us=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-id-card"})],-1),ks={class:"col-md-6"},Ns=s("label",{for:"input16",class:"form-label"},"Email",-1),Ss={class:"position-relative input-icon"},qs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-envelope"})],-1),Es={class:"col-md-6"},$s=s("label",{for:"input16",class:"form-label"},"CNIC Expiry Date",-1),Bs={class:"position-relative input-icon"},Ds=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-id-card"})],-1),Fs={class:"col-md-6"},js=s("label",{for:"input16",class:"form-label"},"Gender",-1),Is=s("option",{selected:"",disabled:""},"Choose Gender",-1),Ms=s("option",{value:"male"},"Male",-1),Os=s("option",{value:"female"},"Female",-1),Ts=s("option",{value:"others"},"Others",-1),zs=[Is,Ms,Os,Ts],As={class:"col-md-6"},Ps=s("label",{for:"input16",class:"form-label"},"Date Of Birth",-1),Gs={class:"position-relative input-icon"},Js=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-id-card"})],-1),Ls={class:"col-md-6"},Qs=s("label",{for:"input16",class:"form-label"},"Designation",-1),Rs={class:"position-relative input-icon"},Hs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-chair"})],-1),Ks={class:"col-md-6"},Ws=s("label",{for:"input16",class:"form-label"},"Qualification",-1),Xs={class:"position-relative input-icon"},Ys=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-book-reader"})],-1),Zs={class:"col-md-12"},se=s("label",{for:"input16",class:"form-label"},"Address",-1),ee={class:"col-md-6"},oe=s("label",{for:"input17",class:"form-label"},"Password",-1),te={class:"position-relative input-icon"},le=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-lock-alt"})],-1),ie={class:"col-md-6"},ne=s("label",{for:"input17",class:"form-label"},"Confirm Password",-1),ae={class:"position-relative input-icon"},re=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-lock-alt"})],-1),de={class:"mt-6 flex justify-end"},he={__name:"CreateEdit",props:{roles:Object,slug:Object},setup(k,{expose:N}){const m=x(!1),u=x(!1),S=D().props.slug,V=x([]),e=F({user_id:"",name:"",phone:"",email:"",address:"",cnic_name:"",cnic_no:"",cnic_expiry_date:"",father_name:"",gender:"",dob:"",type:"",designation:"",qualification:"",password:"",password_confirmation:"",role:"",cob_id:[]}),q=()=>{m.value=!0,u.value=!1,C()},E=()=>{e.post(route("user.create"),{preserveScroll:!0,onSuccess:()=>_(),onError:()=>w(),onFinish:()=>{}})},$=d=>{m.value=!0,u.value=!0,C(),U.get(`/users/edit/${d}`).then(({data:t})=>{console.log(t),e.user_id=t.user.id,e.name=t.user.name,e.phone=t.user.phone,e.email=t.user.email,e.address=t.user.address,e.cnic_name=t.user.cnic_name,e.cnic_no=t.user.cnic_no,e.cnic_expiry_date=t.user.cnic_expiry_date,e.father_name=t.user.father_name,e.gender=t.user.gender,e.dob=t.user.dob,e.type=t.user.type,e.designation=t.user.designation,e.qualification=t.user.qualification,e.role=t.role_id,e.cob_id=t.selected_cobs})},B=()=>{e.post(route("user.update"),{preserveScroll:!0,onSuccess:()=>_(),onError:()=>w(),onFinish:()=>{}})},w=()=>{},_=()=>{m.value=!1,e.reset()},C=()=>{U.get("/axios/fetch/cobs").then(({data:d})=>{console.log(d),V.value=d.cobs})};return N({edit:d=>$(d)}),(d,t)=>(p(),c(b,null,[i(A,{onClick:q},{default:f(()=>[G,g("Add")]),_:1}),i(O,{show:m.value,onClose:_},{default:f(()=>[s("form",{onSubmit:t[16]||(t[16]=M(l=>u.value?B():E(),["prevent"]))},[s("div",J,[s("h2",L,[s("span",null,h(u.value?"Edit":"Add")+" User",1),s("span",Q,[o(e).user_id?(p(),c("span",R,"ID #"+h(o(e).user_id),1)):v("",!0)])]),H,s("div",K,[s("div",W,[s("div",X,[Y,n(s("select",{id:"input21",class:"form-select text-capitalize","onUpdate:modelValue":t[0]||(t[0]=l=>o(e).role=l)},[Z,(p(!0),c(b,null,j(k.roles,l=>(p(),c("option",{key:l.id,value:l.id},h(l.name),9,ss))),128))],512),[[y,o(e).role]]),i(a,{message:o(e).errors.role},null,8,["message"])]),s("div",es,[os,n(s("select",{id:"input21",class:"form-select","onUpdate:modelValue":t[1]||(t[1]=l=>o(e).type=l)},ns,512),[[y,o(e).type]]),i(a,{message:o(e).errors.type},null,8,["message"])]),o(S)=="users"?(p(),c("div",as,[rs,i(o(z),{style:{"margin-top":"3px !important"},mode:"tags",modelValue:o(e).cob_id,"onUpdate:modelValue":t[2]||(t[2]=l=>o(e).cob_id=l),options:V.value,searchable:!0},null,8,["modelValue","options"]),i(a,{message:o(e).errors.cob_id},null,8,["message"])])):v("",!0),s("div",ds,[cs,s("div",ps,[n(s("input",{type:"text",class:"form-control",id:"input13",placeholder:"","onUpdate:modelValue":t[3]||(t[3]=l=>o(e).name=l)},null,512),[[r,o(e).name]]),us]),i(a,{message:o(e).errors.name},null,8,["message"])]),s("div",ms,[_s,s("div",fs,[n(s("input",{type:"text",class:"form-control",id:"input13",placeholder:"","onUpdate:modelValue":t[4]||(t[4]=l=>o(e).father_name=l)},null,512),[[r,o(e).father_name]]),bs]),i(a,{message:o(e).errors.father_name},null,8,["message"])]),s("div",hs,[vs,s("div",xs,[n(s("input",{type:"text",class:"form-control",id:"input15",placeholder:"","onUpdate:modelValue":t[5]||(t[5]=l=>o(e).phone=l)},null,512),[[r,o(e).phone]]),gs]),i(a,{message:o(e).errors.phone},null,8,["message"])]),s("div",ys,[s("label",Vs,h(o(e).type=="individual"?"CNIC":"NTN")+" #",1),s("div",ws,[n(s("input",{type:"text",class:"form-control",id:"input16",placeholder:o(e).type==1?"xxxxx-xxxxxxx-x":"","onUpdate:modelValue":t[6]||(t[6]=l=>o(e).cnic_no=l)},null,8,Cs),[[r,o(e).cnic_no]]),Us]),i(a,{message:o(e).errors.cnic_no},null,8,["message"])]),s("div",ks,[Ns,s("div",Ss,[n(s("input",{type:"text",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":t[7]||(t[7]=l=>o(e).email=l)},null,512),[[r,o(e).email]]),qs]),i(a,{message:o(e).errors.email},null,8,["message"])]),o(e).type=="individual"?(p(),c(b,{key:1},[s("div",Es,[$s,s("div",Bs,[n(s("input",{type:"date",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":t[8]||(t[8]=l=>o(e).cnic_expiry_date=l)},null,512),[[r,o(e).cnic_expiry_date]]),Ds]),i(a,{message:o(e).errors.cnic_expiry_date},null,8,["message"])]),s("div",Fs,[js,n(s("select",{id:"input21",class:"form-select","onUpdate:modelValue":t[9]||(t[9]=l=>o(e).gender=l)},zs,512),[[y,o(e).gender]]),i(a,{message:o(e).errors.gender},null,8,["message"])]),s("div",As,[Ps,s("div",Gs,[n(s("input",{type:"date",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":t[10]||(t[10]=l=>o(e).dob=l)},null,512),[[r,o(e).dob]]),Js]),i(a,{message:o(e).errors.dob},null,8,["message"])]),s("div",Ls,[Qs,s("div",Rs,[n(s("input",{type:"text",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":t[11]||(t[11]=l=>o(e).designation=l)},null,512),[[r,o(e).designation]]),Hs]),i(a,{message:o(e).errors.designation},null,8,["message"])]),s("div",Ks,[Ws,s("div",Xs,[n(s("input",{type:"text",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":t[12]||(t[12]=l=>o(e).qualification=l)},null,512),[[r,o(e).qualification]]),Ys]),i(a,{message:o(e).errors.qualification},null,8,["message"])])],64)):v("",!0),s("div",Zs,[se,n(s("textarea",{"onUpdate:modelValue":t[13]||(t[13]=l=>o(e).address=l),class:"form-control",rows:"4"},null,512),[[r,o(e).address]]),i(a,{message:o(e).errors.address},null,8,["message"])]),!u.value&&o(e).role!=2?(p(),c(b,{key:2},[s("div",ee,[oe,s("div",te,[n(s("input",{type:"password",class:"form-control",id:"input17",placeholder:"","onUpdate:modelValue":t[14]||(t[14]=l=>o(e).password=l)},null,512),[[r,o(e).password]]),le]),i(a,{message:o(e).errors.password},null,8,["message"])]),s("div",ie,[ne,s("div",ae,[n(s("input",{type:"password",class:"form-control",id:"input17",placeholder:"","onUpdate:modelValue":t[15]||(t[15]=l=>o(e).password_confirmation=l)},null,512),[[r,o(e).password_confirmation]]),re])])],64)):v("",!0)])]),s("div",de,[i(T,{onClick:_},{default:f(()=>[g(" Cancel ")]),_:1}),i(P,{class:I(["ml-3",{"opacity-25":o(e).processing}]),disabled:o(e).processing},{default:f(()=>[g(" Save ")]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"])],64))}};export{he as default};
