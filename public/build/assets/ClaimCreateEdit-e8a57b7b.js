import{J as B,q as h,v as D,c as x,e as M,w as u,h as b,a,F,G as T,o as p,f,b as t,t as v,u as e,j as _,E as j,s as g,n as L,g as A}from"./app-e9e1eee3.js";import{_ as r}from"./InputError-0c9a98e6.js";import{_ as P}from"./PrimaryButton-ce9bdf6a.js";import{a as Z,_ as q}from"./SecondaryButton-bc4ed020.js";import{_ as z}from"./SuccessButton-7a1f7e52.js";import{_ as c}from"./InputLabel-f659a307.js";import{Z as C}from"./vue-datepicker-c30f5a86.js";/* empty css             */import{S as y}from"./sweetalert2.all-85a89735.js";const G=t("i",{class:"bx bx-plus mr-1"},null,-1),I={class:"p-6"},J={class:"text-lg font-medium text-gray-900 flex justify-between items-center"},O={class:"text-sm text-gray-500"},H={key:0,class:"mr-2"},K=t("p",{class:"mt-1 text-sm text-gray-600"},[t("hr")],-1),Q={class:"mt-6"},R={class:"row g-3"},W={class:"col-md-6"},X=t("option",{value:"progress"},"Progress",-1),Y=t("option",{value:"settled"},"Settled",-1),ss=t("option",{value:"close"},"Close",-1),es=[X,Y,ss],ts={class:"col-md-6"},os={class:"col-md-6"},as={class:"col-md-6"},ls={class:"col-md-6"},is={class:"col-md-12"},rs={class:"mt-6 flex justify-end"},gs={__name:"ClaimCreateEdit",props:{create_mode:Boolean},setup(V,{expose:S}){const{props:w}=B(),n=h(!1),m=h(!1),s=D({claim_id:"",policy_id:"",description:"",status:"progress",claim_at:"",intimation_at:"",survivor_name:"",contact_no:""}),k=()=>{s.policy_id=w.policy.id,n.value=!0,m.value=!1},E=()=>{s.post(route("claim.store"),{preserveScroll:!0,onSuccess:()=>{y.fire("Added!","The claim added successfully.","success"),d()},onError:()=>U(),onFinish:()=>{}})},$=()=>{s.post(route("claim.update"),{preserveScroll:!0,onSuccess:()=>{y.fire("Updated!","The claim update successfully.","success"),d()},onError:i=>{i.status==!1&&y.fire("Error!",i.message,"error")},onFinish:()=>{}})},U=()=>{},d=()=>{n.value=!1},N=i=>{n.value=!0,m.value=!0,T.get(`/claims/fetch/claim/${i}`).then(({data:o})=>{s.claim_id=o.policy_claim.id,s.policy_id=o.policy_claim.policy_id,s.description=o.policy_claim.detail,s.status=o.policy_claim.status,s.claim_at=o.policy_claim.claim_at,s.intimation_at=o.policy_claim.intimation_at,s.survivor_name=o.policy_claim.survivor_name,s.contact_no=o.policy_claim.contact_no})};return S({claimEdit:i=>N(i)}),(i,o)=>(p(),x(F,null,[V.create_mode?(p(),M(P,{key:0,onClick:k,"data-bs-toggle":"modal","data-bs-target":"#claimsLargeModal"},{default:u(()=>[G,f(" Claim ")]),_:1})):b("",!0),a(Z,{show:n.value,onClose:d},{default:u(()=>[t("form",{onSubmit:o[6]||(o[6]=A(l=>m.value?$():E(),["prevent"]))},[t("div",I,[t("h2",J,[t("span",null,v(m.value?"Edit":"Add")+" Claim",1),t("span",O,[e(s).claim_id?(p(),x("span",H,"CLM #"+v(e(s).claim_id),1)):b("",!0),t("span",null,"POL #"+v(e(s).policy_id),1)])]),K,t("div",Q,[t("div",R,[t("div",W,[a(c,{for:"",value:"Status",class:"mb-1"}),_(t("select",{id:"input21",class:"form-select","onUpdate:modelValue":o[0]||(o[0]=l=>e(s).status=l)},es,512),[[j,e(s).status]]),a(r,{message:e(s).errors.status},null,8,["message"])]),t("div",ts,[a(c,{for:"",value:"Claim Date",class:"mb-1"}),a(e(C),{modelValue:e(s).claim_at,"onUpdate:modelValue":o[1]||(o[1]=l=>e(s).claim_at=l),"enable-time-picker":!0,"show-time":!0},null,8,["modelValue"]),a(r,{message:e(s).errors.claim_at},null,8,["message"])]),t("div",os,[a(c,{for:"",value:"Intimation Date",class:"mb-1"}),a(e(C),{modelValue:e(s).intimation_at,"onUpdate:modelValue":o[2]||(o[2]=l=>e(s).intimation_at=l),"enable-time-picker":!0,"show-time":!0},null,8,["modelValue"]),a(r,{message:e(s).errors.intimation_at},null,8,["message"])]),t("div",as,[a(c,{for:"",value:"Survivor Name",class:"mb-1"}),_(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[3]||(o[3]=l=>e(s).survivor_name=l)},null,512),[[g,e(s).survivor_name]]),a(r,{message:e(s).errors.survivor_name},null,8,["message"])]),t("div",ls,[a(c,{for:"",value:"Contact No",class:"mb-1"}),_(t("input",{type:"text",class:"form-control","onUpdate:modelValue":o[4]||(o[4]=l=>e(s).contact_no=l)},null,512),[[g,e(s).contact_no]]),a(r,{message:e(s).errors.contact_no},null,8,["message"])]),t("div",is,[a(c,{for:"",value:"Description",class:"mb-1"}),_(t("textarea",{class:"form-control",id:"description","onUpdate:modelValue":o[5]||(o[5]=l=>e(s).description=l),rows:"10"},null,512),[[g,e(s).description]]),a(r,{message:e(s).errors.description},null,8,["message"])])])]),t("div",rs,[a(q,{onClick:d},{default:u(()=>[f(" Cancel ")]),_:1}),a(z,{class:L(["ml-3",{"opacity-25":e(s).processing}]),disabled:e(s).processing},{default:u(()=>[f(" Save ")]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"])],64))}};export{gs as default};
