import{q as v,J as D,v as F,c,a as i,w as f,F as h,x as C,o as p,f as x,b as s,t as b,u as o,h as g,j as n,y,r as j,z as r,n as B,g as I}from"./app-539b0ff2.js";import{_ as M,a as O}from"./SecondaryButton-b7b2c45c.js";import{_ as a}from"./InputError-0c1eaed2.js";import{_ as T}from"./PrimaryButton-ff84bcf3.js";import{_ as z}from"./SuccessButton-b3702d6d.js";/* empty css                                                         */const A=s("i",{class:"bx bx-plus text-lg mr-1"},null,-1),P={class:"p-6"},G={class:"text-lg font-medium text-gray-900 flex justify-between items-center"},J={class:"text-sm text-gray-500"},L={key:0,class:"mr-2"},Q=s("p",{class:"mt-1 text-sm text-gray-600"},[s("hr")],-1),R={class:"mt-6"},H={class:"row g-3"},K={class:"col-md-6"},W=s("label",{for:"input21",class:"form-label"},"Role",-1),X=s("option",{value:""},"Choose...",-1),Y=["value"],Z={class:"col-md-6"},ss=s("label",{for:"input16",class:"form-label"},"Type",-1),es=s("option",{value:""},"Choose...",-1),os=s("option",{value:"individual"},"Individual",-1),ts=s("option",{value:"business"},"Business",-1),ls=[es,os,ts],is={class:"col-md-6"},ns=s("label",{for:"input13",class:"form-label"},"Name",-1),as={class:"position-relative input-icon"},rs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-user"})],-1),ds={class:"col-md-6"},cs=s("label",{for:"input13",class:"form-label"},"Father Name",-1),ps={class:"position-relative input-icon"},us=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-user"})],-1),_s={class:"col-md-6"},ms=s("label",{for:"input15",class:"form-label"},"Phone",-1),fs={class:"position-relative input-icon"},hs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-phone"})],-1),bs={class:"col-md-6"},vs={for:"input16",class:"form-label"},xs={class:"position-relative input-icon"},gs=["placeholder"],ys=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-id-card"})],-1),ws={class:"col-md-6"},Vs=s("label",{for:"input16",class:"form-label"},"Email",-1),Cs={class:"position-relative input-icon"},Us=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-envelope"})],-1),ks={class:"col-md-6"},Ns=s("label",{for:"input16",class:"form-label"},"CNIC Expiry Date",-1),Ss={class:"position-relative input-icon"},qs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-id-card"})],-1),Es={class:"col-md-6"},$s=s("label",{for:"input16",class:"form-label"},"Gender",-1),Ds=s("option",{selected:"",disabled:""},"Choose Gender",-1),Fs=s("option",{value:"male"},"Male",-1),js=s("option",{value:"female"},"Female",-1),Bs=s("option",{value:"others"},"Others",-1),Is=[Ds,Fs,js,Bs],Ms={class:"col-md-6"},Os=s("label",{for:"input16",class:"form-label"},"Date Of Birth",-1),Ts={class:"position-relative input-icon"},zs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-id-card"})],-1),As={class:"col-md-6"},Ps=s("label",{for:"input16",class:"form-label"},"Designation",-1),Gs={class:"position-relative input-icon"},Js=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-chair"})],-1),Ls={class:"col-md-6"},Qs=s("label",{for:"input16",class:"form-label"},"Qualification",-1),Rs={class:"position-relative input-icon"},Hs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-book-reader"})],-1),Ks={class:"col-md-12"},Ws=s("label",{for:"input16",class:"form-label"},"Address",-1),Xs={class:"col-md-6"},Ys=s("label",{for:"input17",class:"form-label"},"Password",-1),Zs={class:"position-relative input-icon"},se=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-lock-alt"})],-1),ee={class:"col-md-6"},oe=s("label",{for:"input17",class:"form-label"},"Confirm Password",-1),te={class:"position-relative input-icon"},le=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-lock-alt"})],-1),ie={class:"mt-6 flex justify-end"},ue={__name:"CreateEdit",props:{roles:Object,slug:Object},setup(U,{expose:k}){const _=v(!1),u=v(!1);D().props.slug;const N=v([]),e=F({user_id:"",name:"",phone:"",email:"",address:"",cnic_name:"",cnic_no:"",cnic_expiry_date:"",father_name:"",gender:"",dob:"",type:"",designation:"",qualification:"",password:"",password_confirmation:"",role:"",cob_id:[]}),S=()=>{_.value=!0,u.value=!1,V()},q=()=>{e.post(route("user.create"),{preserveScroll:!0,onSuccess:()=>m(),onError:()=>w(),onFinish:()=>{}})},E=d=>{_.value=!0,u.value=!0,V(),C.get(`/users/edit/${d}`).then(({data:t})=>{console.log(t),e.user_id=t.user.id,e.name=t.user.name,e.phone=t.user.phone,e.email=t.user.email,e.address=t.user.address,e.cnic_name=t.user.cnic_name,e.cnic_no=t.user.cnic_no,e.cnic_expiry_date=t.user.cnic_expiry_date,e.father_name=t.user.father_name,e.gender=t.user.gender,e.dob=t.user.dob,e.type=t.user.type,e.designation=t.user.designation,e.qualification=t.user.qualification,e.role=t.role_id,e.cob_id=t.selected_cobs})},$=()=>{e.post(route("user.update"),{preserveScroll:!0,onSuccess:()=>m(),onError:()=>w(),onFinish:()=>{}})},w=()=>{},m=()=>{_.value=!1,e.reset()},V=()=>{C.get("/axios/fetch/cobs").then(({data:d})=>{console.log(d),N.value=d.cobs})};return k({edit:d=>E(d)}),(d,t)=>(p(),c(h,null,[i(T,{onClick:S},{default:f(()=>[A,x("Add")]),_:1}),i(M,{show:_.value,onClose:m},{default:f(()=>[s("form",{onSubmit:t[15]||(t[15]=I(l=>u.value?$():q(),["prevent"]))},[s("div",P,[s("h2",G,[s("span",null,b(u.value?"Edit":"Add")+" User",1),s("span",J,[o(e).user_id?(p(),c("span",L,"ID #"+b(o(e).user_id),1)):g("",!0)])]),Q,s("div",R,[s("div",H,[s("div",K,[W,n(s("select",{id:"input21",class:"form-select text-capitalize","onUpdate:modelValue":t[0]||(t[0]=l=>o(e).role=l)},[X,(p(!0),c(h,null,j(U.roles,l=>(p(),c("option",{key:l.id,value:l.id},b(l.name),9,Y))),128))],512),[[y,o(e).role]]),i(a,{message:o(e).errors.role},null,8,["message"])]),s("div",Z,[ss,n(s("select",{id:"input21",class:"form-select","onUpdate:modelValue":t[1]||(t[1]=l=>o(e).type=l)},ls,512),[[y,o(e).type]]),i(a,{message:o(e).errors.type},null,8,["message"])]),s("div",is,[ns,s("div",as,[n(s("input",{type:"text",class:"form-control",id:"input13",placeholder:"","onUpdate:modelValue":t[2]||(t[2]=l=>o(e).name=l)},null,512),[[r,o(e).name]]),rs]),i(a,{message:o(e).errors.name},null,8,["message"])]),s("div",ds,[cs,s("div",ps,[n(s("input",{type:"text",class:"form-control",id:"input13",placeholder:"","onUpdate:modelValue":t[3]||(t[3]=l=>o(e).father_name=l)},null,512),[[r,o(e).father_name]]),us]),i(a,{message:o(e).errors.father_name},null,8,["message"])]),s("div",_s,[ms,s("div",fs,[n(s("input",{type:"text",class:"form-control",id:"input15",placeholder:"","onUpdate:modelValue":t[4]||(t[4]=l=>o(e).phone=l)},null,512),[[r,o(e).phone]]),hs]),i(a,{message:o(e).errors.phone},null,8,["message"])]),s("div",bs,[s("label",vs,b(o(e).type=="individual"?"CNIC":"NTN")+" #",1),s("div",xs,[n(s("input",{type:"text",class:"form-control",id:"input16",placeholder:o(e).type==1?"xxxxx-xxxxxxx-x":"","onUpdate:modelValue":t[5]||(t[5]=l=>o(e).cnic_no=l)},null,8,gs),[[r,o(e).cnic_no]]),ys]),i(a,{message:o(e).errors.cnic_no},null,8,["message"])]),s("div",ws,[Vs,s("div",Cs,[n(s("input",{type:"text",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":t[6]||(t[6]=l=>o(e).email=l)},null,512),[[r,o(e).email]]),Us]),i(a,{message:o(e).errors.email},null,8,["message"])]),o(e).type=="individual"?(p(),c(h,{key:0},[s("div",ks,[Ns,s("div",Ss,[n(s("input",{type:"date",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":t[7]||(t[7]=l=>o(e).cnic_expiry_date=l)},null,512),[[r,o(e).cnic_expiry_date]]),qs]),i(a,{message:o(e).errors.cnic_expiry_date},null,8,["message"])]),s("div",Es,[$s,n(s("select",{id:"input21",class:"form-select","onUpdate:modelValue":t[8]||(t[8]=l=>o(e).gender=l)},Is,512),[[y,o(e).gender]]),i(a,{message:o(e).errors.gender},null,8,["message"])]),s("div",Ms,[Os,s("div",Ts,[n(s("input",{type:"date",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":t[9]||(t[9]=l=>o(e).dob=l)},null,512),[[r,o(e).dob]]),zs]),i(a,{message:o(e).errors.dob},null,8,["message"])]),s("div",As,[Ps,s("div",Gs,[n(s("input",{type:"text",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":t[10]||(t[10]=l=>o(e).designation=l)},null,512),[[r,o(e).designation]]),Js]),i(a,{message:o(e).errors.designation},null,8,["message"])]),s("div",Ls,[Qs,s("div",Rs,[n(s("input",{type:"text",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":t[11]||(t[11]=l=>o(e).qualification=l)},null,512),[[r,o(e).qualification]]),Hs]),i(a,{message:o(e).errors.qualification},null,8,["message"])])],64)):g("",!0),s("div",Ks,[Ws,n(s("textarea",{"onUpdate:modelValue":t[12]||(t[12]=l=>o(e).address=l),class:"form-control",rows:"4"},null,512),[[r,o(e).address]]),i(a,{message:o(e).errors.address},null,8,["message"])]),!u.value&&o(e).role!=2?(p(),c(h,{key:1},[s("div",Xs,[Ys,s("div",Zs,[n(s("input",{type:"password",class:"form-control",id:"input17",placeholder:"","onUpdate:modelValue":t[13]||(t[13]=l=>o(e).password=l)},null,512),[[r,o(e).password]]),se]),i(a,{message:o(e).errors.password},null,8,["message"])]),s("div",ee,[oe,s("div",te,[n(s("input",{type:"password",class:"form-control",id:"input17",placeholder:"","onUpdate:modelValue":t[14]||(t[14]=l=>o(e).password_confirmation=l)},null,512),[[r,o(e).password_confirmation]]),le])])],64)):g("",!0)])]),s("div",ie,[i(O,{onClick:m},{default:f(()=>[x(" Cancel ")]),_:1}),i(z,{class:B(["ml-3",{"opacity-25":o(e).processing}]),disabled:o(e).processing},{default:f(()=>[x(" Save ")]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"])],64))}};export{ue as default};
