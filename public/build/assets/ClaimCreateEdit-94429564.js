import{J as E,q as g,v as $,c as U,a,w as u,F as k,G as D,o as N,f as p,b as o,t as F,j as _,E as M,u as t,s as f,n as T,g as B}from"./app-1a2ef22b.js";import{_ as r}from"./InputError-fa885d88.js";import{_ as j}from"./PrimaryButton-ff9aa7c5.js";import{_ as A,a as Z}from"./SecondaryButton-98f88989.js";import{_ as q}from"./SuccessButton-43e0432a.js";import{_ as c}from"./InputLabel-9b4ea5e3.js";import{Z as y}from"./vue-datepicker-a3e737b5.js";/* empty css             */import{S as v}from"./sweetalert2.all-f0596258.js";const z=o("i",{class:"bx bx-plus mr-1"},null,-1),G={class:"p-6"},I={class:"text-lg font-medium text-gray-900"},J=o("p",{class:"mt-1 text-sm text-gray-600"},[o("hr")],-1),L={class:"mt-6"},P={class:"row g-3"},H={class:"col-md-6"},K=o("option",{value:"progress"},"Progress",-1),O=o("option",{value:"settled"},"Settled",-1),Q=o("option",{value:"close"},"Close",-1),R=[K,O,Q],W={class:"col-md-6"},X={class:"col-md-6"},Y={class:"col-md-6"},ss={class:"col-md-6"},es={class:"col-md-12"},ts={class:"mt-6 flex justify-end"},_s={__name:"ClaimCreateEdit",setup(os,{expose:h}){const{props:b}=E(),n=g(!1),m=g(!1),s=$({claim_id:"",policy_id:"",description:"",status:"progress",claim_at:"",intimation_at:"",survivor_name:"",contact_no:""}),x=()=>{s.policy_id=b.policy.id,n.value=!0,m.value=!1},C=()=>{s.post(route("claim.store"),{preserveScroll:!0,onSuccess:()=>{v.fire("Added!","The claim added successfully.","success"),d()},onError:()=>V(),onFinish:()=>{}})},S=()=>{s.post(route("claim.update"),{preserveScroll:!0,onSuccess:()=>{v.fire("Updated!","The claim update successfully.","success"),d()},onError:i=>{i.status==!1&&v.fire("Error!",i.message,"error")},onFinish:()=>{}})},V=()=>{},d=()=>{n.value=!1},w=i=>{n.value=!0,m.value=!0,D.get(`/claims/fetch/claim/${i}`).then(({data:e})=>{s.claim_id=e.policy_claim.id,s.policy_id=e.policy_claim.policy_id,s.description=e.policy_claim.detail,s.status=e.policy_claim.status,s.claim_at=e.policy_claim.claim_at,s.intimation_at=e.policy_claim.intimation_at,s.survivor_name=e.policy_claim.survivor_name,s.contact_no=e.policy_claim.contact_no})};return h({claimEdit:i=>w(i)}),(i,e)=>(N(),U(k,null,[a(j,{onClick:x,"data-bs-toggle":"modal","data-bs-target":"#claimsLargeModal"},{default:u(()=>[z,p(" Claim ")]),_:1}),a(A,{show:n.value,onClose:d},{default:u(()=>[o("form",{onSubmit:e[6]||(e[6]=B(l=>m.value?S():C(),["prevent"]))},[o("div",G,[o("h2",I,F(m.value?"Edit":"Add")+" Claim",1),J,o("div",L,[o("div",P,[o("div",H,[a(c,{for:"",value:"Status",class:"mb-1"}),_(o("select",{id:"input21",class:"form-select","onUpdate:modelValue":e[0]||(e[0]=l=>t(s).status=l)},R,512),[[M,t(s).status]]),a(r,{message:t(s).errors.status},null,8,["message"])]),o("div",W,[a(c,{for:"",value:"Claim Date",class:"mb-1"}),a(t(y),{modelValue:t(s).claim_at,"onUpdate:modelValue":e[1]||(e[1]=l=>t(s).claim_at=l),"enable-time-picker":!0,"show-time":!0},null,8,["modelValue"]),a(r,{message:t(s).errors.claim_at},null,8,["message"])]),o("div",X,[a(c,{for:"",value:"Intimation Date",class:"mb-1"}),a(t(y),{modelValue:t(s).intimation_at,"onUpdate:modelValue":e[2]||(e[2]=l=>t(s).intimation_at=l),"enable-time-picker":!0,"show-time":!0},null,8,["modelValue"]),a(r,{message:t(s).errors.intimation_at},null,8,["message"])]),o("div",Y,[a(c,{for:"",value:"Survivor Name",class:"mb-1"}),_(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=l=>t(s).survivor_name=l)},null,512),[[f,t(s).survivor_name]]),a(r,{message:t(s).errors.survivor_name},null,8,["message"])]),o("div",ss,[a(c,{for:"",value:"Contact No",class:"mb-1"}),_(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=l=>t(s).contact_no=l)},null,512),[[f,t(s).contact_no]]),a(r,{message:t(s).errors.contact_no},null,8,["message"])]),o("div",es,[a(c,{for:"",value:"Description",class:"mb-1"}),_(o("textarea",{class:"form-control",id:"description","onUpdate:modelValue":e[5]||(e[5]=l=>t(s).description=l),rows:"10"},null,512),[[f,t(s).description]]),a(r,{message:t(s).errors.description},null,8,["message"])])])]),o("div",ts,[a(Z,{onClick:d},{default:u(()=>[p(" Cancel ")]),_:1}),a(q,{class:T(["ml-3",{"opacity-25":t(s).processing}]),disabled:t(s).processing},{default:u(()=>[p(" Save ")]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"])],64))}};export{_s as default};
