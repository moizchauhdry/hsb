import{q as V,J as O,v as S,c,a,u as t,w as f,F as v,o as p,X as P,b as s,f as k,g as N,j as n,E as w,r as E,t as _,s as r,h as m,n as z}from"./app-1a2ef22b.js";import{_ as I}from"./AuthenticatedLayout-0b637b6a.js";import{_ as d}from"./InputError-fa885d88.js";import{P as T}from"./Paginate-1cd59f36.js";import{_ as M}from"./PrimaryButton-ff9aa7c5.js";import{_ as L}from"./SuccessButton-43e0432a.js";import{_ as R}from"./DangerButton-bffe511d.js";/* empty css                                               */import"./_plugin-vue_export-helper-c27b6911.js";const A={class:"page-wrapper"},G={class:"page-content"},J={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},Q=s("div",{class:"breadcrumb-title pe-3"},"User Management",-1),X=s("div",{class:"ps-3"},[s("nav",{"aria-label":"breadcrumb"},[s("ol",{class:"breadcrumb mb-0 p-0"},[s("li",{class:"breadcrumb-item"},[s("a",{href:"javascript:;"},[s("i",{class:"bx bx-home-alt"})])]),s("li",{class:"breadcrumb-item active","aria-current":"page"},"User List")])])],-1),H={class:"ms-auto"},K={class:"col"},W=s("i",{class:"bx bx-plus text-lg mr-1"},null,-1),Y={key:0,class:"modal fade show",id:"exampleLargeModal",tabindex:"-1","aria-hidden":"true",style:{display:"block"}},Z={class:"modal-dialog modal-md"},ss={class:"modal-content"},es=s("h5",{class:"modal-title"},"Manage Users",-1),ts={class:"modal-body"},os={class:"row g-3"},ls={class:"col-md-6"},as=s("label",{for:"input21",class:"form-label"},"Role",-1),is=s("option",{value:""},"Choose...",-1),ns=["value"],ds={class:"col-md-6"},rs=s("label",{for:"input16",class:"form-label"},"Type",-1),cs=s("option",{value:1},"Individual",-1),ps=s("option",{value:2},"Business",-1),_s=[cs,ps],ms={class:"col-md-12"},us=s("label",{for:"input13",class:"form-label"},"Name",-1),hs={class:"position-relative input-icon"},bs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-user"})],-1),fs={class:"col-md-12"},vs=s("label",{for:"input13",class:"form-label"},"Father Name",-1),xs={class:"position-relative input-icon"},gs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-user"})],-1),ys={class:"col-md-12"},ks=s("label",{for:"input16",class:"form-label"},"Email",-1),ws={class:"position-relative input-icon"},Us=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-envelope"})],-1),Cs={class:"col-md-6"},Vs=s("label",{for:"input15",class:"form-label"},"Phone",-1),Ss={class:"position-relative input-icon"},Ns=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-phone"})],-1),Es={class:"col-md-6"},Ms={for:"input16",class:"form-label"},$s={class:"position-relative input-icon"},qs=["placeholder"],Fs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-id-card"})],-1),Ds={class:"col-md-6"},js=s("label",{for:"input16",class:"form-label"},"CNIC Expiry Date",-1),Bs={class:"position-relative input-icon"},Os=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-id-card"})],-1),Ps={class:"col-md-6"},zs=s("label",{for:"input16",class:"form-label"},"Gender",-1),Is=s("option",{selected:"",disabled:""},"Choose Gender",-1),Ts=s("option",{value:"male"},"Male",-1),Ls=s("option",{value:"female"},"Female",-1),Rs=s("option",{value:"others"},"Others",-1),As=[Is,Ts,Ls,Rs],Gs={class:"col-md-6"},Js=s("label",{for:"input16",class:"form-label"},"Date Of Birth",-1),Qs={class:"position-relative input-icon"},Xs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-id-card"})],-1),Hs={class:"col-md-6"},Ks=s("label",{for:"input16",class:"form-label"},"Designation",-1),Ws={class:"position-relative input-icon"},Ys=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-chair"})],-1),Zs={class:"col-md-6"},se=s("label",{for:"input16",class:"form-label"},"Qualification",-1),ee={class:"position-relative input-icon"},te=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-book-reader"})],-1),oe={class:"col-md-12"},le=s("label",{for:"input16",class:"form-label"},"Address",-1),ae={class:"col-md-6"},ie=s("label",{for:"input17",class:"form-label"},"Password",-1),ne={class:"position-relative input-icon"},de=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-lock-alt"})],-1),re={class:"col-md-6"},ce=s("label",{for:"input17",class:"form-label"},"Confirm Password",-1),pe={class:"position-relative input-icon"},_e=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-lock-alt"})],-1),me={class:"modal-footer"},ue={type:"submit",class:"btn btn-primary btn-sm"},he={class:"card"},be={class:"card-body"},fe=["onSubmit"],ve={class:"row mb-3 d-flex align-items-center"},xe={class:"col-md-3"},ge={class:"col-md-3"},ye={class:"table-responsive"},ke={id:"example",class:"table table-striped table-bordered",style:{width:"100%"}},we={class:"text-uppercase"},Ue=s("th",null,"Sr.No.",-1),Ce={key:0},Ve=s("th",null,"Name",-1),Se={key:1},Ne=s("th",null,"Role",-1),Ee=s("th",null,"Register Date",-1),Me=s("th",null,null,-1),$e={key:0},qe={class:"text-capitalize"},Fe={key:1},De={class:"text-capitalize"},je=s("i",{class:"bx bx-edit mr-1"},null,-1),Be={class:"card-footer"},Oe={class:"float-right"},Xe={__name:"Index",props:{users:Object,roles:Object,slug:Object},setup(u){const x=V(!1),h=V(!1),b=O().props.slug,e=S({user_id:"",name:"",phone:"",email:"",address:"",cnic_name:"",cnic_no:"",cnic_expiry_date:"",father_name:"",gender:"",dob:"",type:"",designation:"",qualification:"",password:"",password_confirmation:"",role:""}),$=()=>{x.value=!0,h.value=!1},q=()=>{e.post(route("user.create"),{preserveScroll:!0,onSuccess:()=>g(),onError:()=>U(),onFinish:()=>{}})},F=i=>{x.value=!0,h.value=!0,e.user_id=i.id,e.name=i.name,e.phone=i.phone,e.email=i.email,e.address=i.address,e.cnic_name=i.cnic_name,e.cnic_no=i.cnic_no,e.cnic_expiry_date=i.cnic_expiry_date,e.father_name=i.father_name,e.gender=i.gender,e.dob=i.dob,e.type=i.type,e.designation=i.designation,e.qualification=i.qualification,e.role=i.role_id},D=()=>{e.post(route("user.update"),{preserveScroll:!0,onSuccess:()=>g(),onError:()=>U(),onFinish:()=>{}})},U=()=>{},g=()=>{x.value=!1,e.reset()},y=S({search:""}),C=()=>{y.post(route("user.index",b),{preserveScroll:!0,onSuccess:i=>{},onError:i=>{console.log(i)},onFinish:()=>{}})},j=()=>{y.search="",C()};return(i,l)=>(p(),c(v,null,[a(t(P),{title:"Users"}),a(I,null,{default:f(()=>[s("div",A,[s("div",G,[s("div",J,[Q,X,s("div",H,[s("div",K,[a(M,{onClick:$},{default:f(()=>[W,k("Add")]),_:1}),x.value?(p(),c("div",Y,[s("div",Z,[s("div",ss,[s("form",{onSubmit:l[15]||(l[15]=N(o=>h.value?D():q(),["prevent"]))},[s("div",{class:"modal-header"},[es,s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:g})]),s("div",ts,[s("div",os,[s("div",ls,[as,n(s("select",{id:"input21",class:"form-select text-capitalize","onUpdate:modelValue":l[0]||(l[0]=o=>t(e).role=o)},[is,(p(!0),c(v,null,E(u.roles,o=>(p(),c("option",{key:o.id,value:o.id},_(o.name),9,ns))),128))],512),[[w,t(e).role]]),a(d,{message:t(e).errors.role},null,8,["message"])]),s("div",ds,[rs,n(s("select",{id:"input21",class:"form-select","onUpdate:modelValue":l[1]||(l[1]=o=>t(e).type=o)},_s,512),[[w,t(e).type]]),a(d,{message:t(e).errors.type},null,8,["message"])]),s("div",ms,[us,s("div",hs,[n(s("input",{type:"text",class:"form-control",id:"input13",placeholder:"","onUpdate:modelValue":l[2]||(l[2]=o=>t(e).name=o)},null,512),[[r,t(e).name]]),bs]),a(d,{message:t(e).errors.name},null,8,["message"])]),s("div",fs,[vs,s("div",xs,[n(s("input",{type:"text",class:"form-control",id:"input13",placeholder:"","onUpdate:modelValue":l[3]||(l[3]=o=>t(e).father_name=o)},null,512),[[r,t(e).father_name]]),gs]),a(d,{message:t(e).errors.father_name},null,8,["message"])]),s("div",ys,[ks,s("div",ws,[n(s("input",{type:"text",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":l[4]||(l[4]=o=>t(e).email=o)},null,512),[[r,t(e).email]]),Us]),a(d,{message:t(e).errors.email},null,8,["message"])]),s("div",Cs,[Vs,s("div",Ss,[n(s("input",{type:"text",class:"form-control",id:"input15",placeholder:"","onUpdate:modelValue":l[5]||(l[5]=o=>t(e).phone=o)},null,512),[[r,t(e).phone]]),Ns]),a(d,{message:t(e).errors.phone},null,8,["message"])]),s("div",Es,[s("label",Ms,_(t(e).type==1?"CNIC":"NTN")+" #",1),s("div",$s,[n(s("input",{type:"text",class:"form-control",id:"input16",placeholder:t(e).type==1?"xxxxx-xxxxxxx-x":"","onUpdate:modelValue":l[6]||(l[6]=o=>t(e).cnic_no=o)},null,8,qs),[[r,t(e).cnic_no]]),Fs]),a(d,{message:t(e).errors.cnic_no},null,8,["message"])]),t(e).type==1?(p(),c(v,{key:0},[s("div",Ds,[js,s("div",Bs,[n(s("input",{type:"date",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":l[7]||(l[7]=o=>t(e).cnic_expiry_date=o)},null,512),[[r,t(e).cnic_expiry_date]]),Os]),a(d,{message:t(e).errors.cnic_expiry_date},null,8,["message"])]),s("div",Ps,[zs,n(s("select",{id:"input21",class:"form-select","onUpdate:modelValue":l[8]||(l[8]=o=>t(e).gender=o)},As,512),[[w,t(e).gender]]),a(d,{message:t(e).errors.gender},null,8,["message"])]),s("div",Gs,[Js,s("div",Qs,[n(s("input",{type:"date",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":l[9]||(l[9]=o=>t(e).dob=o)},null,512),[[r,t(e).dob]]),Xs]),a(d,{message:t(e).errors.dob},null,8,["message"])]),s("div",Hs,[Ks,s("div",Ws,[n(s("input",{type:"text",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":l[10]||(l[10]=o=>t(e).designation=o)},null,512),[[r,t(e).designation]]),Ys]),a(d,{message:t(e).errors.designation},null,8,["message"])]),s("div",Zs,[se,s("div",ee,[n(s("input",{type:"text",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":l[11]||(l[11]=o=>t(e).qualification=o)},null,512),[[r,t(e).qualification]]),te]),a(d,{message:t(e).errors.qualification},null,8,["message"])])],64)):m("",!0),s("div",oe,[le,n(s("textarea",{"onUpdate:modelValue":l[12]||(l[12]=o=>t(e).address=o),class:"form-control",rows:"4"},null,512),[[r,t(e).address]]),a(d,{message:t(e).errors.address},null,8,["message"])]),!h.value&&t(e).role!=2?(p(),c(v,{key:1},[s("div",ae,[ie,s("div",ne,[n(s("input",{type:"password",class:"form-control",id:"input17",placeholder:"","onUpdate:modelValue":l[13]||(l[13]=o=>t(e).password=o)},null,512),[[r,t(e).password]]),de]),a(d,{message:t(e).errors.password},null,8,["message"])]),s("div",re,[ce,s("div",pe,[n(s("input",{type:"password",class:"form-control",id:"input17",placeholder:"","onUpdate:modelValue":l[14]||(l[14]=o=>t(e).password_confirmation=o)},null,512),[[r,t(e).password_confirmation]]),_e])])],64)):m("",!0)])]),s("div",me,[s("button",{type:"button",class:"btn btn-secondary btn-sm","data-bs-dismiss":"modal",onClick:g},"Close"),s("button",ue,_(h.value?"Save & Update":"Save & Submit"),1)])],32)])])])):m("",!0)])])]),s("div",he,[s("div",be,[s("form",{onSubmit:N(C,["prevent"])},[s("div",ve,[s("div",xe,[n(s("input",{type:"text","onUpdate:modelValue":l[16]||(l[16]=o=>t(y).search=o),class:"form-control",placeholder:"Search"},null,512),[[r,t(y).search]])]),s("div",ge,[a(L,{class:z(["px-4 py-1 mr-1",{"opacity-25":t(e).processing}]),disabled:t(e).processing},{default:f(()=>[k(" Search ")]),_:1},8,["class","disabled"]),a(R,{class:"px-4 py-1 mr-1",onClick:l[17]||(l[17]=o=>j())},{default:f(()=>[k("Cancel")]),_:1})])])],40,fe),s("div",ye,[s("table",ke,[s("thead",null,[s("tr",we,[Ue,t(b)=="clients"?(p(),c("th",Ce,"Code")):m("",!0),Ve,t(b)=="users"?(p(),c("th",Se,"Email")):m("",!0),Ne,Ee,Me])]),s("tbody",null,[(p(!0),c(v,null,E(u.users.data,(o,B)=>(p(),c("tr",null,[s("td",null,_((u.users.current_page-1)*u.users.per_page+B+1),1),t(b)=="clients"?(p(),c("td",$e,_(o.code),1)):m("",!0),s("td",qe,_(o.name),1),t(b)=="users"?(p(),c("td",Fe,_(o.email),1)):m("",!0),s("td",De,_(o.role),1),s("td",null,_(o.created_at),1),s("td",null,[a(M,{onClick:Pe=>F(o),title:"Edit"},{default:f(()=>[je,k(" Edit")]),_:2},1032,["onClick"])])]))),256))])])])]),s("div",Be,[s("div",Oe,[a(T,{links:u.users.links,scroll:!0},null,8,["links"])])])])])])]),_:1})],64))}};export{Xe as default};
