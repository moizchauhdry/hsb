import{J as k,q as u,v as x,e as w,w as C,o as i,b as t,c as _,g as S,j as p,x as b,u as l,a as V,F as M,r as B,t as d,h as U}from"./app-2624773b.js";import{_ as $}from"./AuthenticatedLayout-1bc104e9.js";import{_ as D}from"./InputError-2f2609b1.js";const F={class:"col"},L={key:0,class:"modal fade show",id:"notesLargeModal",tabindex:"-1","aria-hidden":"true",style:{display:"block"}},E={class:"modal fade show",id:"notesLargeModal",tabindex:"-1","aria-hidden":"true",style:{display:"block"}},j={class:"modal-dialog modal-lg"},q={class:"modal-content"},I=t("h5",{class:"modal-title"},"Claim Notes",-1),J={class:"modal-body"},T={class:"row g-3"},z={class:"col-md-12"},A=t("label",{for:"input13",class:"form-label"},"Note",-1),G={class:"card"},H={class:"card-body"},K={class:"table-responsive"},O={id:"example",class:"table table-striped table-bordered",style:{width:"100%"}},P=t("thead",null,[t("tr",null,[t("th",null,"Sr No."),t("th",null,"Claim ID"),t("th",null,"Notes")])],-1),Q={class:"modal-footer"},R={type:"submit",class:"btn btn-primary btn-sm"},tt={__name:"Notes",setup(W,{expose:v}){const{props:n}=k(),y=u([]),c=u(!1),r=u(!1),e=x({policy_id:n.policy.id??"",policy_claim_id:"",note:""}),h=()=>{e.post(route("policy.claimNote"),{preserveScroll:!0,onSuccess:()=>m(),onError:()=>f(),onFinish:()=>{}})},f=()=>{},m=()=>{c.value=!1,e.reset()},g=a=>{c.value=!0,r.value=!1,e.policy_id=n.policy.id??"",e.policy_claim_id=a,e.note="",axios.get(`/policy/get/claim/note/${n.policy.id}`).then(({data:o})=>{console.log(o),y.value=o.policyClaimNotes})};return v({claimNote:a=>g(a)}),(a,o)=>(i(),w($,null,{default:C(()=>[t("div",F,[c.value?(i(),_("div",L,[t("div",E,[t("div",j,[t("div",q,[t("form",{onSubmit:o[3]||(o[3]=S(s=>r.value?a.update():h(),["prevent"]))},[t("div",{class:"modal-header"},[I,t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:m})]),t("div",J,[p(t("input",{type:"hidden","onUpdate:modelValue":o[0]||(o[0]=s=>l(e).policy_id=s)},null,512),[[b,l(e).policy_id]]),p(t("input",{type:"hidden","onUpdate:modelValue":o[1]||(o[1]=s=>l(e).policy_claim_id=s)},null,512),[[b,l(e).policy_claim_id]]),t("div",T,[t("div",z,[A,p(t("textarea",{class:"form-control",id:"detail","onUpdate:modelValue":o[2]||(o[2]=s=>l(e).note=s)},null,512),[[b,l(e).note]]),V(D,{message:l(e).errors.note},null,8,["message"])])])]),t("div",G,[t("div",H,[t("div",K,[t("table",O,[P,t("tbody",null,[(i(!0),_(M,null,B(y.value,(s,N)=>(i(),_("tr",{key:s.id},[t("td",null,d(++N),1),t("td",null,d(s.id),1),t("td",null,d(s.note),1)]))),128))])])])])]),t("div",Q,[t("button",{type:"button",class:"btn btn-secondary btn-sm","data-bs-dismiss":"modal",onClick:m},"Close"),t("button",R,d(r.value?"Save & Update":"Save & Submit"),1)])],32)])])])])):U("",!0)])]),_:1}))}};export{tt as default};
