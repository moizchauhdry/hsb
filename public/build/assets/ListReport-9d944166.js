import{_ as J}from"./AuthenticatedLayout-cfcba6e2.js";import{J as O,c as d,a as m,u as o,w as z,F as c,o as n,X as U,b as s,t as e,x as X,f as q,h as _,r as H,n as l,d as K}from"./app-d456894c.js";import Q from"./ReportFilter-6b39d873.js";import{_ as W}from"./SuccessButton-11ffc6ac.js";import{P as Y}from"./Paginate-d09eb4e3.js";/* empty css                                                         *//* empty css                                               */import"./SecondaryButton-9d36caa5.js";import"./PrimaryButton-d325bc80.js";import"./InputLabel-d68dd06a.js";import"./InputError-00dbcb17.js";import"./vue-datepicker-b5b032d5.js";/* empty css             */import"./moment-a9aaa855.js";import"./_plugin-vue_export-helper-c27b6911.js";const Z={class:"page-wrapper"},y={class:"page-content"},ss={class:"page-breadcrumb d-sm-flex align-items-center mb-3"},ts=s("div",{class:"breadcrumb-title pe-3"},"Manage Reports",-1),es={class:"ps-3"},as={"aria-label":"breadcrumb"},os={class:"breadcrumb mb-0 p-0"},ds=s("li",{class:"breadcrumb-item"},[s("a",{href:"javascript:;"},[s("i",{class:"bx bx-home-alt"})])],-1),ns={class:"breadcrumb-item active text-capitalize","aria-current":"page"},rs=s("div",{class:"ms-auto"},null,-1),_s={class:"ms-auto"},is={class:"row row-cols-1 row-cols-md-2 row-cols-xxl-4"},cs={class:"col"},ms={class:"card radius-10"},hs={class:"card-body"},ls={class:"d-flex align-items-center"},us=s("p",{class:"mb-0 text-secondary"},"Total Sum Insured",-1),xs={class:"my-1"},gs=s("div",{class:"widgets-icons bg-light-info text-info ms-auto"},[s("i",{class:"bx bx-dollar"})],-1),bs={class:"col"},vs={class:"card radius-10"},fs={class:"card-body"},ks={class:"d-flex align-items-center"},ws=s("p",{class:"mb-0 text-secondary"},"Total Gross Premium",-1),Ps={class:"my-1"},Ns=s("div",{class:"widgets-icons bg-light-warning text-warning ms-auto"},[s("i",{class:"bx bx-dollar"})],-1),Bs={class:"col"},ps={class:"card radius-10"},Ds={class:"card-body"},Is={class:"d-flex align-items-center"},Ss=s("p",{class:"mb-0 text-secondary"},"Total Net Premium",-1),As={class:"my-1"},Cs=s("div",{class:"widgets-icons bg-light-success text-success ms-auto"},[s("i",{class:"bx bx-dollar"})],-1),Rs={class:"card"},Es={class:"card-header"},Fs={class:"text-center mt-1"},Ts={class:"card-body"},Gs={class:"table-responsive"},Vs={class:"table table-bordered table-sm text-uppercase",style:{"font-size":"12px"}},$s={class:"table-light"},zs=s("th",{class:"px-2"},"Sr #",-1),Ms=s("th",{class:"px-2"},"Policy Number",-1),Ls=s("th",{class:"px-2"},"Client Name",-1),js=s("th",{class:"px-2"},"Insurer Name",-1),Js=s("th",{class:"px-2"},"Agency Name",-1),Os=s("th",{class:"px-2"},"Class of Business",-1),Us=s("th",{class:"px-2"},"Policy Type",-1),Xs=s("th",{class:"px-2"},"Inception Date",-1),qs=s("th",{class:"px-2"},"Expiry Date",-1),Hs=s("th",{class:"px-2"},"Issuance Date",-1),Ks=s("th",{class:"px-2"},"Brokerage amount",-1),Qs=s("th",{class:"px-2"},"Brokerage Paid Date ",-1),Ws=s("th",{class:"px-2"},"Brokerage Percentage",-1),Ys=s("th",{class:"px-2"},"Brokerage Received Amount",-1),Zs=s("th",{class:"px-2"},"Brokerage Status",-1),ys={key:3,class:"px-2"},st=s("th",{class:"px-2"},"Sum Insured",-1),tt=s("th",{class:"px-2"},"Gross Premium",-1),et=s("th",{class:"px-2"},"Gross Premium Received",-1),at=s("th",{class:"px-2"},"Gross Premium OutStanding",-1),ot=s("th",{class:"px-2"},"Net Premium",-1),dt={class:"px-2"},nt={class:"px-2"},rt={class:"px-2"},_t={class:"px-2"},it={class:"px-2"},ct={class:"px-2"},mt={class:"px-2"},ht={class:"px-2"},lt={class:"px-2"},ut={class:"px-2"},xt={class:"px-2"},gt={class:"px-2"},bt={key:3,class:"px-2"},vt={class:"px-2"},ft={class:"px-2"},kt={class:"px-2"},wt={class:"px-2"},Pt={class:"px-2"},Nt={key:0},Bt=s("td",{class:"text-center",colspan:"5"},"No record",-1),pt=[Bt],Dt={class:"card-body"},It={class:"float-right"},Ut={__name:"ListReport",props:{policies:Array,data:Array,filter:Array,grand_total:Array},setup(r){const a=O().props.slug,i=h=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(h),M=()=>{window.location.href=route("report.export",a)};return(h,St)=>{const L=K("InvoiceDetailModal");return n(),d(c,null,[m(o(U),{title:"Sales Report"}),m(J,null,{default:z(()=>[s("div",Z,[s("div",y,[s("div",ss,[ts,s("div",es,[s("nav",as,[s("ol",os,[ds,s("li",ns,e(o(a))+" Report ",1)])])]),rs,s("div",_s,[m(Q,X(h.$props,{filter_route:"report"}),null,16),m(W,{onClick:M},{default:z(()=>[q("Excel Export")]),_:1})])]),s("div",is,[s("div",cs,[s("div",ms,[s("div",hs,[s("div",ls,[s("div",null,[us,s("h4",xs,e(i(r.grand_total.sum_insured)),1)]),gs])])])]),s("div",bs,[s("div",vs,[s("div",fs,[s("div",ks,[s("div",null,[ws,s("h4",Ps,e(i(r.grand_total.gross_premium)),1)]),Ns])])])]),s("div",Bs,[s("div",ps,[s("div",Ds,[s("div",Is,[s("div",null,[Ss,s("h4",As,e(i(r.grand_total.net_premium)),1)]),Cs])])])])]),s("div",Rs,[s("div",Es,[s("h5",Fs,[s("b",null,e(r.filter.month_name)+" "+e(r.filter.year),1)])]),s("div",Ts,[s("div",Gs,[s("table",Vs,[s("thead",$s,[s("tr",null,[zs,Ms,Ls,js,Js,Os,Us,o(a)=="renewal"||o(a)=="outstanding"?(n(),d(c,{key:0},[Xs,qs,Hs],64)):_("",!0),o(a)=="commission-recovery"||o(a)=="commission-outstanding-recovery"?(n(),d(c,{key:1},[Ks,Qs],64)):_("",!0),o(a)=="commission-recovery"?(n(),d(c,{key:2},[Ws,Ys,Zs],64)):_("",!0),o(a)=="commission-outstanding-recovery"?(n(),d("th",ys,"Balance Amount")):_("",!0),st,tt,o(a)=="outstanding"?(n(),d(c,{key:4},[et,at],64)):_("",!0),ot])]),s("tbody",null,[(n(!0),d(c,null,H(r.policies.data,(t,j)=>{var u,x,g,b,v,f,k,w,P,N,B,p,D,I,S,A,C,R,E,F,T,G,V,$;return n(),d("tr",null,[s("td",dt,e((r.policies.current_page-1)*r.policies.per_page+j+1),1),s("td",nt,e((u=t==null?void 0:t.data)==null?void 0:u.policy_no),1),s("td",rt,e((g=(x=t==null?void 0:t.data)==null?void 0:x.client)==null?void 0:g.name),1),s("td",_t,e((v=(b=t==null?void 0:t.data)==null?void 0:b.insurer)==null?void 0:v.name),1),s("td",it,e((k=(f=t==null?void 0:t.data)==null?void 0:f.agency)==null?void 0:k.name),1),s("td",ct,e((P=(w=t==null?void 0:t.data)==null?void 0:w.cob)==null?void 0:P.class_name),1),s("td",mt,e((N=t==null?void 0:t.data)==null?void 0:N.policy_type),1),o(a)=="renewal"||o(a)=="outstanding"?(n(),d(c,{key:0},[s("td",{class:l([{"bg-info":r.filter.date_type==="policy_period_start"},"px-2"])},e((B=t==null?void 0:t.data)==null?void 0:B.policy_period_start),3),s("td",{class:l([{"bg-info":r.filter.date_type==="policy_period_end"},"px-2"])},e((p=t==null?void 0:t.data)==null?void 0:p.policy_period_end),3),s("td",{class:l([{"bg-info":r.filter.date_type==="date_of_issuance"},"px-2"])},e((D=t==null?void 0:t.data)==null?void 0:D.date_of_issuance),3)],64)):_("",!0),o(a)=="commission-recovery"||o(a)=="commission-outstanding-recovery"?(n(),d(c,{key:1},[s("td",ht,e(i((I=t==null?void 0:t.data)==null?void 0:I.brokerage_amount)),1),s("td",lt,e((S=t==null?void 0:t.data)==null?void 0:S.brokerage_paid_date),1)],64)):_("",!0),o(a)=="commission-recovery"?(n(),d(c,{key:2},[s("td",ut,e((A=t==null?void 0:t.data)==null?void 0:A.brokerage_percentage)+"%",1),s("td",xt,e(i((C=t==null?void 0:t.data)==null?void 0:C.brokerage_received_amount)),1),s("td",gt,e((R=t==null?void 0:t.data)==null?void 0:R.brokerage_status),1)],64)):_("",!0),o(a)=="commission-outstanding-recovery"?(n(),d("td",bt,e((E=t==null?void 0:t.data)==null?void 0:E.balance_amount),1)):_("",!0),s("td",vt,e(i((F=t==null?void 0:t.data)==null?void 0:F.sum_insured)),1),s("td",ft,e(i((T=t==null?void 0:t.data)==null?void 0:T.gross_premium)),1),o(a)=="outstanding"?(n(),d(c,{key:4},[s("td",kt,e(i((G=t==null?void 0:t.data)==null?void 0:G.gross_premium_received)),1),s("td",wt,e(i((V=t==null?void 0:t.data)==null?void 0:V.gross_premium_outstanding)),1)],64)):_("",!0),s("td",Pt,e(i(($=t==null?void 0:t.data)==null?void 0:$.net_premium)),1)])}),256)),r.policies.data.length==0?(n(),d("tr",Nt,pt)):_("",!0)])])])]),s("div",Dt,[s("div",It,[m(Y,{links:r.policies.links},null,8,["links"])])])])])]),m(L,{ref:"invoice_detail_ref"},null,512)]),_:1})],64)}}};export{Ut as default};
