import{q as $,J as v,v as M,c as n,a,w as h,F as m,o as r,f as S,b as t,j as c,E as d,u as o,r as _,t as p,n as E,g as k}from"./app-0991505c.js";import{a as B,_ as O}from"./SecondaryButton-181067a9.js";import{_ as T}from"./PrimaryButton-fc3f89f9.js";import{_ as q}from"./SuccessButton-4288c0b5.js";import{_ as u}from"./InputLabel-090943d6.js";import{_ as g}from"./InputError-5f757f33.js";import"./vue-datepicker-96857d51.js";/* empty css             */import"./moment-a9aaa855.js";const P=t("i",{class:"bx bx-search-alt text-lg mr-1"},null,-1),R={class:"p-6"},j=t("h2",{class:"text-lg font-medium text-gray-900"},"Search Filters",-1),L=t("p",{class:"mt-1 text-sm text-gray-600"},[t("hr")],-1),z={class:"mt-6"},W={class:"row g-2"},Y={class:"col-md-6"},G=t("option",{value:"date_of_issuance"},"Issuance Date",-1),H=t("option",{value:"policy_period_start"},"Inception Date",-1),K=t("option",{value:"policy_period_end"},"Expiry Date",-1),Q=t("option",{value:"created_at"},"Created At",-1),X=[G,H,K,Q],Z={class:"col-md-3"},ee=["value"],se={class:"col-md-3"},te=["value"],oe={class:"col-md-6"},le=t("option",{value:""},"All Types",-1),ae=t("option",{value:"new"},"New",-1),ne=t("option",{value:"renewal"},"Renewal",-1),re=t("option",{value:"endorsement"},"Endorsement",-1),ie=t("option",{value:"others"},"Others",-1),ce=[le,ae,ne,re,ie],de={class:"col-md-6"},ue=t("option",{value:""},"All Clients",-1),me=["value"],_e={class:"col-md-6"},pe=t("option",{value:""},"All Agencies",-1),ve=["value"],fe={class:"col-md-6"},ye=t("option",{value:""},"All Insurers",-1),he=["value"],ge={class:"col-md-6"},be=t("option",{value:""},"All Classes",-1),xe=["value"],Se={class:"mt-6 flex justify-end"},Ie={__name:"ReportFilter",props:{data:Array,filter_route:{type:String,required:!0}},setup(U){const w=U,b=$(!1),A=$(!1),f=v().props.data,F=v().props.slug,C=v().props.filter;v().props.filter_route,console.log(v().props);var D=[{id:1,name:"January"},{id:2,name:"February"},{id:3,name:"March"},{id:4,name:"April"},{id:5,name:"May"},{id:6,name:"June"},{id:7,name:"July"},{id:8,name:"August"},{id:9,name:"September"},{id:10,name:"October"},{id:11,name:"November"},{id:12,name:"December"}],N=[{id:1,value:"2023"},{id:2,value:"2024"},{id:3,value:"2025"},{id:4,value:"2026"},{id:5,value:"2027"},{id:6,value:"2028"},{id:7,value:"2029"},{id:8,value:"2030"}],i="";const e=M({date_type:"",month:"",year:"",policy_type:"",client:"",agency:"",insurer:"",cob:""}),I=()=>{b.value=!0,A.value=!1,e.month=C.month,e.year=C.year,e.date_type="date_of_insurance",i=localStorage.getItem("filters"),i&&(i=JSON.parse(i),e.date_type=i.date_type,e.month=i.month,e.year=i.year,e.policy_type=i.policy_type,e.client=i.client,e.agency=i.agency,e.cob=i.cob,e.insurer=i.insurer)},J=()=>{var y={date_type:e.date_type,month:e.month,year:e.year,policy_type:e.policy_type,client:e.client,agency:e.agency,cob:e.cob,insurer:e.insurer};const l=new URLSearchParams(y).toString();var s;w.filter_route==="report"&&(s=`${route("report.index",F)}?${l}`),w.filter_route==="policy"&&(s=`${route("policy.index")}?${l}`),e.post(s,{preserveScroll:!0,onSuccess:V=>{x(),localStorage.setItem("filters",JSON.stringify(y))},onError:V=>{console.log(V)},onFinish:()=>{}})},x=()=>{b.value=!1,e.reset()};return(y,l)=>(r(),n(m,null,[a(T,{onClick:I,type:"button",class:"mx-1"},{default:h(()=>[P,S(" Filters ")]),_:1}),a(B,{show:b.value,onClose:x},{default:h(()=>[t("form",{onSubmit:l[8]||(l[8]=k(s=>A.value?y.update():J(),["prevent"]))},[t("div",R,[j,L,t("div",z,[t("div",W,[t("div",Y,[a(u,{for:"",value:"Date Type",class:"mb-1"}),c(t("select",{"onUpdate:modelValue":l[0]||(l[0]=s=>o(e).date_type=s),class:"form-control"},X,512),[[d,o(e).date_type]])]),t("div",Z,[a(u,{for:"",value:"Month",class:"mb-1"}),c(t("select",{"onUpdate:modelValue":l[1]||(l[1]=s=>o(e).month=s),class:"form-control"},[(r(!0),n(m,null,_(o(D),s=>(r(),n("option",{value:s.id},p(s.name),9,ee))),256))],512),[[d,o(e).month]])]),t("div",se,[a(u,{for:"",value:"Year",class:"mb-1"}),c(t("select",{"onUpdate:modelValue":l[2]||(l[2]=s=>o(e).year=s),class:"form-control"},[(r(!0),n(m,null,_(o(N),s=>(r(),n("option",{value:s.value},p(s.value),9,te))),256))],512),[[d,o(e).year]])]),t("div",oe,[a(u,{for:"",value:"Policy Type",class:"mb-1"}),c(t("select",{"onUpdate:modelValue":l[3]||(l[3]=s=>o(e).policy_type=s),class:"form-control"},ce,512),[[d,o(e).policy_type]])]),t("div",de,[a(u,{for:"",value:"Client",class:"mb-1"}),c(t("select",{"onUpdate:modelValue":l[4]||(l[4]=s=>o(e).client=s),class:"form-control"},[ue,(r(!0),n(m,null,_(o(f).clients,s=>(r(),n("option",{value:s.id},p(s.name),9,me))),256))],512),[[d,o(e).client]]),a(g,{message:o(e).errors.client},null,8,["message"])]),t("div",_e,[a(u,{for:"",value:"Agency",class:"mb-1"}),c(t("select",{"onUpdate:modelValue":l[5]||(l[5]=s=>o(e).agency=s),class:"form-control"},[pe,(r(!0),n(m,null,_(o(f).agencies,s=>(r(),n("option",{value:s.id},p(s.name),9,ve))),256))],512),[[d,o(e).agency]]),a(g,{message:o(e).errors.agency},null,8,["message"])]),t("div",fe,[a(u,{for:"",value:"Insurer",class:"mb-1"}),c(t("select",{"onUpdate:modelValue":l[6]||(l[6]=s=>o(e).insurer=s),class:"form-control"},[ye,(r(!0),n(m,null,_(o(f).insurers,s=>(r(),n("option",{value:s.id},p(s.name),9,he))),256))],512),[[d,o(e).insurer]]),a(g,{message:o(e).errors.insurer},null,8,["message"])]),t("div",ge,[a(u,{for:"",value:"Class of Business",class:"mb-1"}),c(t("select",{"onUpdate:modelValue":l[7]||(l[7]=s=>o(e).cob=s),class:"form-control"},[be,(r(!0),n(m,null,_(o(f).cobs,s=>(r(),n("option",{value:s.id},p(s.class_name),9,xe))),256))],512),[[d,o(e).cob]]),a(g,{message:o(e).errors.cob},null,8,["message"])])])]),t("div",Se,[a(O,{onClick:x},{default:h(()=>[S(" Cancel ")]),_:1}),a(q,{class:E(["ml-3",{"opacity-25":o(e).processing}]),disabled:o(e).processing},{default:h(()=>[S(" Search ")]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"])],64))}};export{Ie as default};
