import{o as p,c as u,p as $,q as y,v as w,a as n,u as t,w as U,F as f,X as B,b as s,f as V,g as C,j as i,D as g,r as S,t as c,E as r,h as k,n as I}from"./app-e39a982c.js";import{_ as P}from"./AuthenticatedLayout-67d1012e.js";import{_ as d}from"./InputError-eb85f195.js";import{P as j}from"./Paginate-63820723.js";import"./_plugin-vue_export-helper-c27b6911.js";const L=["type"],O={__name:"SuccessButton",props:{type:{type:String,default:"submit"}},setup(m){return(_,b)=>(p(),u("button",{type:m.type,class:"inline-flex items-center px-3 py-2 bg-green-800 border border-transparent rounded-md font-semibold text-xs text-white tracking-widest hover:bg-green-700 focus:bg-green-700 active:bg-green-900 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition ease-in-out duration-150"},[$(_.$slots,"default")],8,L))}},T={class:"page-wrapper"},R={class:"page-content"},A={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},G=s("div",{class:"breadcrumb-title pe-3"},"User Management",-1),z=s("div",{class:"ps-3"},[s("nav",{"aria-label":"breadcrumb"},[s("ol",{class:"breadcrumb mb-0 p-0"},[s("li",{class:"breadcrumb-item"},[s("a",{href:"javascript:;"},[s("i",{class:"bx bx-home-alt"})])]),s("li",{class:"breadcrumb-item active","aria-current":"page"},"User List")])])],-1),Q={class:"ms-auto"},X={class:"col"},H=s("i",{class:"bx bx-plus"},null,-1),J={key:0,class:"modal fade show",id:"exampleLargeModal",tabindex:"-1","aria-hidden":"true",style:{display:"block"}},K={class:"modal-dialog modal-md"},W={class:"modal-content"},Y=s("h5",{class:"modal-title"},"Manage Users",-1),Z={class:"modal-body"},ss={class:"row g-3"},es={class:"col-md-4"},ts=s("label",{for:"input21",class:"form-label"},"Role",-1),os=s("option",{value:""},"Choose...",-1),ls=["value"],as={class:"col-md-8"},ns=s("label",{for:"input13",class:"form-label"},"Name",-1),is={class:"position-relative input-icon"},ds=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-user"})],-1),rs={class:"col-md-6"},cs=s("label",{for:"input13",class:"form-label"},"Father Name",-1),ps={class:"position-relative input-icon"},us=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-user"})],-1),ms={class:"col-md-6"},_s=s("label",{for:"input16",class:"form-label"},"Email",-1),bs={class:"position-relative input-icon"},hs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-envelope"})],-1),fs={class:"col-md-6"},vs=s("label",{for:"input15",class:"form-label"},"Phone",-1),gs={class:"position-relative input-icon"},xs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-phone"})],-1),ys={class:"col-md-6"},ws=s("label",{for:"input16",class:"form-label"},"CNIC Name",-1),Us={class:"position-relative input-icon"},Vs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-id-card"})],-1),Cs={class:"col-md-6"},Ss=s("label",{for:"input16",class:"form-label"},"CNIC No.",-1),ks={class:"position-relative input-icon"},Ns=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-id-card"})],-1),Es={class:"col-md-6"},Ms=s("label",{for:"input16",class:"form-label"},"CNIC Expiry Date",-1),Ds={class:"position-relative input-icon"},qs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-id-card"})],-1),Fs={class:"col-md-6"},$s=s("label",{for:"input16",class:"form-label"},"Gender",-1),Bs=s("option",{selected:"",disabled:""},"Choose Gender",-1),Is=s("option",{value:"male"},"Male",-1),Ps=s("option",{value:"female"},"Female",-1),js=s("option",{value:"others"},"Others",-1),Ls=[Bs,Is,Ps,js],Os={class:"col-md-6"},Ts=s("label",{for:"input16",class:"form-label"},"Date Of Birth",-1),Rs={class:"position-relative input-icon"},As=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-id-card"})],-1),Gs={class:"col-md-4"},zs=s("label",{for:"input16",class:"form-label"},"Type",-1),Qs=s("option",{selected:"",disabled:""},"Choose Type",-1),Xs=s("option",{value:"individual"},"Individual",-1),Hs=s("option",{value:"business"},"Business",-1),Js=[Qs,Xs,Hs],Ks={class:"col-md-4"},Ws=s("label",{for:"input16",class:"form-label"},"Designation",-1),Ys={class:"position-relative input-icon"},Zs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-chair"})],-1),se={class:"col-md-4"},ee=s("label",{for:"input16",class:"form-label"},"Qualification",-1),te={class:"position-relative input-icon"},oe=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-book-reader"})],-1),le={class:"col-md-12"},ae=s("label",{for:"input16",class:"form-label"},"Address",-1),ne={class:"col-md-6"},ie=s("label",{for:"input17",class:"form-label"},"Password",-1),de={class:"position-relative input-icon"},re=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-lock-alt"})],-1),ce={class:"col-md-6"},pe=s("label",{for:"input17",class:"form-label"},"Confirm Password",-1),ue={class:"position-relative input-icon"},me=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-lock-alt"})],-1),_e={class:"modal-footer"},be={type:"submit",class:"btn btn-primary btn-sm"},he={class:"card"},fe={class:"card-body"},ve=["onSubmit"],ge={class:"row mb-3"},xe={class:"col-md-3"},ye={class:"col-md-3"},we={class:"table-responsive"},Ue={id:"example",class:"table table-striped table-bordered",style:{width:"100%"}},Ve=s("thead",null,[s("tr",{class:"text-uppercase"},[s("th",null,"Sr.No."),s("th",null,"User ID"),s("th",null,"Name"),s("th",null,"Email"),s("th",null,"Role"),s("th",null,"Register Date"),s("th")])],-1),Ce=["onClick"],Se=s("i",{class:"bx bx-edit"},null,-1),ke=[Se],Ne={class:"card-body"},Ee={class:"float-right"},Ie={__name:"Index",props:{users:Object,roles:Object},setup(m){const _=y(!1),b=y(!1),e=w({user_id:"",name:"",phone:"",email:"",address:"",cnic_name:"",cnic_no:"",cnic_expiry_date:"",father_name:"",gender:"",dob:"",type:"",designation:"",qualification:"",password:"",password_confirmation:"",role:""}),N=()=>{_.value=!0,b.value=!1},E=()=>{e.post(route("user.create"),{preserveScroll:!0,onSuccess:()=>h(),onError:()=>x(),onFinish:()=>{}})},M=a=>{_.value=!0,b.value=!0,e.user_id=a.id,e.name=a.name,e.phone=a.phone,e.email=a.email,e.address=a.address,e.cnic_name=a.cnic_name,e.cnic_no=a.cnic_no,e.cnic_expiry_date=a.cnic_expiry_date,e.father_name=a.father_name,e.gender=a.gender,e.dob=a.dob,e.type=a.type,e.designation=a.designation,e.qualification=a.qualification,e.role=a.role_id},D=()=>{e.post(route("user.update"),{preserveScroll:!0,onSuccess:()=>h(),onError:()=>x(),onFinish:()=>{}})},x=()=>{},h=()=>{_.value=!1,e.reset()},v=w({search:""}),q=()=>{v.post(route("user.index"),{preserveScroll:!0,onSuccess:a=>{},onError:a=>{console.log(a)},onFinish:()=>{}})};return(a,l)=>(p(),u(f,null,[n(t(B),{title:"Users"}),n(P,null,{default:U(()=>[s("div",T,[s("div",R,[s("div",A,[G,z,s("div",Q,[s("div",X,[s("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-toggle":"modal","data-bs-target":"#exampleLargeModal",onClick:N},[H,V("Add")]),_.value?(p(),u("div",J,[s("div",K,[s("div",W,[s("form",{onSubmit:l[16]||(l[16]=C(o=>b.value?D():E(),["prevent"]))},[s("div",{class:"modal-header"},[Y,s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:h})]),s("div",Z,[s("div",ss,[s("div",es,[ts,i(s("select",{id:"input21",class:"form-select","onUpdate:modelValue":l[0]||(l[0]=o=>t(e).role=o)},[os,(p(!0),u(f,null,S(m.roles,o=>(p(),u("option",{key:o.id,value:o.id},c(o.name),9,ls))),128))],512),[[g,t(e).role]]),n(d,{message:t(e).errors.role},null,8,["message"])]),s("div",as,[ns,s("div",is,[i(s("input",{type:"text",class:"form-control",id:"input13",placeholder:"","onUpdate:modelValue":l[1]||(l[1]=o=>t(e).name=o)},null,512),[[r,t(e).name]]),ds]),n(d,{message:t(e).errors.name},null,8,["message"])]),s("div",rs,[cs,s("div",ps,[i(s("input",{type:"text",class:"form-control",id:"input13",placeholder:"","onUpdate:modelValue":l[2]||(l[2]=o=>t(e).father_name=o)},null,512),[[r,t(e).father_name]]),us]),n(d,{message:t(e).errors.father_name},null,8,["message"])]),s("div",ms,[_s,s("div",bs,[i(s("input",{type:"text",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":l[3]||(l[3]=o=>t(e).email=o)},null,512),[[r,t(e).email]]),hs]),n(d,{message:t(e).errors.email},null,8,["message"])]),s("div",fs,[vs,s("div",gs,[i(s("input",{type:"text",class:"form-control",id:"input15",placeholder:"","onUpdate:modelValue":l[4]||(l[4]=o=>t(e).phone=o)},null,512),[[r,t(e).phone]]),xs]),n(d,{message:t(e).errors.phone},null,8,["message"])]),s("div",ys,[ws,s("div",Us,[i(s("input",{type:"text",class:"form-control",id:"input16","onUpdate:modelValue":l[5]||(l[5]=o=>t(e).cnic_name=o)},null,512),[[r,t(e).cnic_name]]),Vs]),n(d,{message:t(e).errors.cnic_name},null,8,["message"])]),s("div",Cs,[Ss,s("div",ks,[i(s("input",{type:"text",class:"form-control",id:"input16",placeholder:"xxxxx-xxxxxxx-x","onUpdate:modelValue":l[6]||(l[6]=o=>t(e).cnic_no=o)},null,512),[[r,t(e).cnic_no]]),Ns]),n(d,{message:t(e).errors.cnic_no},null,8,["message"])]),s("div",Es,[Ms,s("div",Ds,[i(s("input",{type:"date",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":l[7]||(l[7]=o=>t(e).cnic_expiry_date=o)},null,512),[[r,t(e).cnic_expiry_date]]),qs]),n(d,{message:t(e).errors.cnic_expiry_date},null,8,["message"])]),s("div",Fs,[$s,i(s("select",{id:"input21",class:"form-select","onUpdate:modelValue":l[8]||(l[8]=o=>t(e).gender=o)},Ls,512),[[g,t(e).gender]]),n(d,{message:t(e).errors.gender},null,8,["message"])]),s("div",Os,[Ts,s("div",Rs,[i(s("input",{type:"date",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":l[9]||(l[9]=o=>t(e).dob=o)},null,512),[[r,t(e).dob]]),As]),n(d,{message:t(e).errors.dob},null,8,["message"])]),s("div",Gs,[zs,i(s("select",{id:"input21",class:"form-select","onUpdate:modelValue":l[10]||(l[10]=o=>t(e).type=o)},Js,512),[[g,t(e).type]]),n(d,{message:t(e).errors.type},null,8,["message"])]),s("div",Ks,[Ws,s("div",Ys,[i(s("input",{type:"text",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":l[11]||(l[11]=o=>t(e).designation=o)},null,512),[[r,t(e).designation]]),Zs]),n(d,{message:t(e).errors.designation},null,8,["message"])]),s("div",se,[ee,s("div",te,[i(s("input",{type:"text",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":l[12]||(l[12]=o=>t(e).qualification=o)},null,512),[[r,t(e).qualification]]),oe]),n(d,{message:t(e).errors.qualification},null,8,["message"])]),s("div",le,[ae,i(s("textarea",{"onUpdate:modelValue":l[13]||(l[13]=o=>t(e).address=o),class:"form-control",rows:"4"},null,512),[[r,t(e).address]]),n(d,{message:t(e).errors.address},null,8,["message"])]),!b.value&&t(e).role==1?(p(),u(f,{key:0},[s("div",ne,[ie,s("div",de,[i(s("input",{type:"password",class:"form-control",id:"input17",placeholder:"","onUpdate:modelValue":l[14]||(l[14]=o=>t(e).password=o)},null,512),[[r,t(e).password]]),re]),n(d,{message:t(e).errors.password},null,8,["message"])]),s("div",ce,[pe,s("div",ue,[i(s("input",{type:"password",class:"form-control",id:"input17",placeholder:"","onUpdate:modelValue":l[15]||(l[15]=o=>t(e).password_confirmation=o)},null,512),[[r,t(e).password_confirmation]]),me])])],64)):k("",!0)])]),s("div",_e,[s("button",{type:"button",class:"btn btn-secondary btn-sm","data-bs-dismiss":"modal",onClick:h},"Close"),s("button",be,c(b.value?"Save & Update":"Save & Submit"),1)])],32)])])])):k("",!0)])])]),s("div",he,[s("div",fe,[s("form",{onSubmit:C(q,["prevent"])},[s("div",ge,[s("div",xe,[i(s("input",{type:"text","onUpdate:modelValue":l[17]||(l[17]=o=>t(v).search=o),class:"form-control",placeholder:"Search"},null,512),[[r,t(v).search]])]),s("div",ye,[n(O,{class:I(["px-4 py-1",{"opacity-25":t(e).processing}]),disabled:t(e).processing},{default:U(()=>[V(" Search ")]),_:1},8,["class","disabled"])])])],40,ve),s("div",we,[s("table",Ue,[Ve,s("tbody",null,[(p(!0),u(f,null,S(m.users.data,(o,F)=>(p(),u("tr",null,[s("td",null,c((m.users.current_page-1)*m.users.per_page+F+1),1),s("td",null," 00"+c(o.id),1),s("td",null,c(o.name),1),s("td",null,c(o.email),1),s("td",null,c(o.role),1),s("td",null,c(o.created_at),1),s("td",null,[s("button",{type:"button",onClick:Me=>M(o),title:"Edit",clas:"btn btn-primary"},ke,8,Ce)])]))),256))])])])]),s("div",Ne,[s("div",Ee,[n(j,{links:m.users.links,scroll:!0},null,8,["links"])])])])])])]),_:1})],64))}};export{Ie as default};
