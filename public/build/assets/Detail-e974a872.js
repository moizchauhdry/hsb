import{_ as O}from"./AuthenticatedLayout-1bc104e9.js";import{J as S,q as u,c as i,a as d,u as _,w as C,F as h,o as a,X as D,b as t,A as m,B as p,t as l,h as w,r as y,n as B,s as f}from"./app-2624773b.js";import E from"./Uploads-2dcaafb6.js";import U from"./AdditionalNotes-eaf1b2f4.js";import A from"./Claim-29ff4327.js";import I from"./Notes-751c1a29.js";import j from"./Upload-e1b3a5cc.js";import z from"./Edit-00da8b49.js";import"./InputError-2f2609b1.js";const J={class:"page-wrapper"},L={class:"page-content"},F=t("div",{class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},[t("div",{class:"breadcrumb-title pe-3"},"Policies "),t("div",{class:"ps-3"},[t("nav",{"aria-label":"breadcrumb"},[t("ol",{class:"breadcrumb mb-0 p-0"},[t("li",{class:"breadcrumb-item"},[t("a",{href:"javascript:;"},[t("i",{class:"bx bx-home-alt"})])]),t("li",{class:"breadcrumb-item active","aria-current":"page"},"Policies Detail")])])])],-1),M={class:"card"},T={class:"card-body"},V={class:"d-lg-flex align-items-center mb-4 gap-3"},q={class:"ms-auto d-flex",style:{width:"310px"}},G={class:"table-responsive"},R={class:"border p-4 mb-4",id:"partner"},X=t("h5",{class:"w-auto title"},"Policy Info",-1),H={class:"row"},K={class:"table table-bordered"},Q=t("th",null,"ID",-1),W=t("th",null,"Client",-1),Y=t("th",null,"Insurance",-1),Z=t("th",null,"Co Insurance",-1),tt=t("th",null,"Takefull type",-1),lt={key:0},et={key:1},st=t("th",null,"Policy No.",-1),ot=t("th",null,"Agency",-1),nt=t("th",null,"Agency code",-1),it=t("th",null,"Class business",-1),at=t("th",null,"Orignal Endorsment",-1),dt=t("th",null,"Date of insurance",-1),ct=t("th",null,"Policy start period",-1),rt=t("th",null,"Policy end period",-1),ut={class:"border p-4 mb-4",id:"partner"},_t=t("h5",{class:"w-auto"},"Policy Amount",-1),ht={class:"row"},bt={class:"table table-bordered"},mt=t("th",null,"Sum insured ",-1),pt=t("th",null,"Gross Premium ",-1),yt=t("th",null,"Net Premium ",-1),ft=t("th",null," Cover Note No ",-1),gt=t("th",null,"Installment Plan ",-1),vt=t("th",null,"Leader ",-1),kt=t("th",null,"leader_policy_no ",-1),wt=t("th",null,"branch ",-1),xt=t("th",null,"Brokerage Amount ",-1),Pt=t("th",null,"User ",-1),$t=t("th",null,"Tax",-1),Nt=t("th",null,"Percentage",-1),Ot={class:"border p-4 mb-4",id:"partner"},St=t("h5",{class:"w-auto"},"Notes",-1),Ct={class:"row"},Dt={class:"table-responsive"},Bt={class:"table mb-0"},Et={class:"accordion accordion-flush",id:"accordionExample"},Ut=["id"],At=["onClick","aria-expanded","aria-controls"],It=["id","aria-labelledby"],jt={class:"accordion-body"},zt={class:"border p-4 mb-4",id:"partner"},Jt=t("h5",{class:"w-auto"},"Policy Claims",-1),Lt={class:"row"},Ft={class:"table-responsive"},Mt={class:"ms-auto"},Tt={class:"table mb-0"},Vt=t("thead",{class:"table-light"},[t("tr",null,[t("th",null,"Sr No."),t("th",null,"ID"),t("th",null,"Progress"),t("th",null,"Settled"),t("th",null,"Detail"),t("th",null,"Status"),t("th")])],-1),qt={class:"badge bg-primary"},Gt={class:"d-lg-flex align-items-center mb-4 gap-3"},Rt={class:"ms-auto d-flex"},Xt=["onClick"],Ht=t("i",{class:"bx bxs-note"},null,-1),Kt=[Ht],Qt=["onClick"],Wt=t("i",{class:"bx bx-cloud-upload"},null,-1),Yt=[Wt],Zt=["onClick"],tl=t("i",{class:"bx bx-edit"},null,-1),ll=[tl],el={class:"border p-4 mb-4",id:"partner"},sl=t("h5",{class:"w-auto"},"Uploads",-1),ol={class:"row"},nl={class:"table-responsive"},il={class:"table mb-0"},al=t("thead",{class:"table-light"},[t("tr",null,[t("th",null,"Sr No."),t("th",null,"Type"),t("th",null,"File")])],-1),dl=["src"],gl={__name:"Detail",props:{policy:Object,policyNotes:Object,policyClaims:Object,assetUrl:Object,desiredSingleOpenBehavior:{type:Boolean,default:!1}},setup(e){const{props:r}=S(),c=u(new Array(r.policyNotes.length).fill(!1)),x=o=>{c.value[o]=!c.value[o],r.desiredSingleOpenBehavior&&(c.value.fill(!1,0,o),c.value.fill(!1,o+1))},g=u(null),v=u(null),k=u(null),P=o=>{g.value.claimNote(o)},$=o=>{v.value.claimUpload(o)},N=o=>{k.value.claimEdit(o)};return(o,cl)=>(a(),i(h,null,[d(_(D),{title:"Policies"}),d(O,null,{default:C(()=>[t("div",J,[t("div",L,[F,t("div",M,[t("div",T,[t("div",V,[t("div",q,[d(E,m(p(o.$props)),null,16),d(U,m(p(o.$props)),null,16),d(A,m(p(o.$props)),null,16)])]),t("div",G,[t("fieldset",R,[X,t("div",H,[t("table",K,[t("tr",null,[Q,t("td",null,l(e.policy.id),1),W,t("td",null,l(e.policy.client_name),1)]),t("tr",null,[Y,t("td",null,l(e.policy.insurance_id),1),Z,t("td",null,l(e.policy.co_insurance),1)]),t("tr",null,[tt,e.policy.takeful_type==0?(a(),i("td",lt,"Direct 100%")):w("",!0),e.policy.takeful_type==1?(a(),i("td",et,"Our lead")):w("",!0),st,t("td",null,l(e.policy.policy_no),1)]),t("tr",null,[ot,t("td",null,l(e.policy.agency_id),1),nt,t("td",null,l(e.policy.agency_code),1)]),t("tr",null,[it,t("td",null,l(e.policy.class_of_business_id),1),at,t("td",null,l(e.policy.orignal_endorsment),1)]),t("tr",null,[dt,t("td",null,l(e.policy.date_of_insurance),1),ct,t("td",null,l(e.policy.policy_start_period),1)]),t("tr",null,[rt,t("td",null,l(e.policy.policy_end_period),1)])])])]),t("fieldset",ut,[_t,t("div",ht,[t("table",bt,[t("tr",null,[mt,t("td",null,l(e.policy.sum_insured),1),pt,t("td",null,l(e.policy.gross_premium),1)]),t("tr",null,[yt,t("td",null,l(e.policy.net_premium),1),ft,t("td",null,l(e.policy.cover_note_no),1)]),t("tr",null,[gt,t("td",null,l(e.policy.installment_plan),1),vt,t("td",null,l(e.policy.leader),1)]),t("tr",null,[kt,t("td",null,l(e.policy.leader_policy_no),1),wt,t("td",null,l(e.policy.branch),1)]),t("tr",null,[xt,t("td",null,l(e.policy.brokerage_amount),1),Pt,t("td",null,l(e.policy.user_id),1)]),t("tr",null,[$t,t("td",null,l(e.policy.tax),1),Nt,t("td",null,l(e.policy.percentage),1)])])])]),t("fieldset",Ot,[St,t("div",Ct,[t("div",Dt,[t("table",Bt,[t("tbody",null,[t("div",Et,[(a(!0),i(h,null,y(e.policyNotes,(s,n)=>(a(),i("div",{key:n,class:"accordion-item"},[t("h2",{class:"accordion-header",id:"heading-"+s.id},[t("button",{class:"accordion-button",type:"button",onClick:b=>x(n),"aria-expanded":c.value[n],"aria-controls":"collapse-"+s.id},l(s.additional_notes),9,At)],8,Ut),t("div",{id:"collapse-"+s.id,class:B(["accordion-collapse",{show:c.value[n]}]),"aria-labelledby":"heading-"+s.id,"data-bs-parent":"#accordionExample2"},[t("div",jt,[t("p",null,l(s.additional_notes),1)])],10,It)]))),128))])])])])])]),t("fieldset",zt,[Jt,t("div",Lt,[t("div",Ft,[t("div",Mt,[d(I,f(o.$props,{ref_key:"claim_note_ref",ref:g}),null,16),d(j,f(o.$props,{ref_key:"claim_upload_ref",ref:v}),null,16),d(z,f(o.$props,{ref_key:"claim_edit_ref",ref:k}),null,16)]),t("table",Tt,[Vt,t("tbody",null,[(a(!0),i(h,null,y(JSON.parse(JSON.stringify(_(r).policyClaims)),(s,n)=>(a(),i("tr",{key:n},[t("td",null,l(++n),1),t("td",null,l(s.id),1),t("td",null,l(s.progress),1),t("td",null,l(s.settled),1),t("td",null,l(s.detail),1),t("td",null,[t("span",qt,l(s.status),1)]),t("td",null,[t("div",Gt,[t("div",Rt,[t("button",{type:"button",onClick:b=>P(s.id),title:"Note","data-bs-toggle":"modal","data-bs-target":"#notesLargeModal",class:"btn btn-primary btn-sm",style:{"margin-inline":"5px","font-size":"10px",width:"40px"}},Kt,8,Xt),t("button",{type:"button",onClick:b=>$(s.id),title:"Uploads","data-bs-toggle":"modal","data-bs-target":"#notesUploadLargeModal",class:"btn btn-primary btn-sm",style:{"margin-inline":"5px","font-size":"10px",width:"40px"}},Yt,8,Qt),t("button",{type:"button",onClick:b=>N(s.id),title:"Edit","data-bs-toggle":"modal","data-bs-target":"#EditLargeModal",class:"btn btn-primary btn-sm",style:{"font-size":"10px",width:"40px"}},ll,8,Zt)])])])]))),128))])])])])]),t("fieldset",el,[sl,t("div",ol,[t("div",nl,[t("table",il,[al,t("tbody",null,[(a(!0),i(h,null,y(JSON.parse(JSON.stringify(_(r).policyUploads)),(s,n)=>(a(),i("tr",{key:n},[t("td",null,l(++n),1),t("td",null,l(s.type),1),t("td",null,[t("img",{src:_(r).assetUrl+"/"+s.upload,alt:"",style:{height:"100px",width:"100px"}},null,8,dl)])]))),128))])])])])])])])])])])]),_:1})],64))}};export{gl as default};
