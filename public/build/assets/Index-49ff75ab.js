import{y as x,v as S,f as a,a as n,u as o,w as V,F as h,o as i,X as M,b as s,d as E,e as N,i as c,B as u,g as y,D as P,C as g,t as d}from"./app-002dd84c.js";import{_ as D}from"./AuthenticatedLayout-4b195055.js";import{_ as p}from"./InputError-1fad1fa8.js";const B={class:"page-wrapper"},F={class:"page-content"},L={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},$=s("div",{class:"breadcrumb-title pe-3"},"User Management",-1),j=s("div",{class:"ps-3"},[s("nav",{"aria-label":"breadcrumb"},[s("ol",{class:"breadcrumb mb-0 p-0"},[s("li",{class:"breadcrumb-item"},[s("a",{href:"javascript:;"},[s("i",{class:"bx bx-home-alt"})])]),s("li",{class:"breadcrumb-item active","aria-current":"page"},"User List")])])],-1),R={class:"ms-auto"},I={class:"col"},O=s("i",{class:"bx bx-plus"},null,-1),T={key:0,class:"modal fade show",id:"exampleLargeModal",tabindex:"-1","aria-hidden":"true",style:{display:"block"}},A={class:"modal-dialog modal-md"},X={class:"modal-content"},q=s("h5",{class:"modal-title"},"Manage Users",-1),z={class:"modal-body"},G={class:"row g-3"},H={class:"col-md-12"},J=s("label",{for:"input13",class:"form-label"},"Name",-1),K={class:"position-relative input-icon"},Q=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-user"})],-1),W={class:"col-md-12"},Y=s("label",{for:"input15",class:"form-label"},"Phone",-1),Z={class:"position-relative input-icon"},ss=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-phone"})],-1),es={class:"col-md-12"},ts=s("label",{for:"input16",class:"form-label"},"Email",-1),os={class:"position-relative input-icon"},ls=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-envelope"})],-1),as={class:"col-md-6"},ns=s("label",{for:"input17",class:"form-label"},"Password",-1),is={class:"position-relative input-icon"},ds=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-lock-alt"})],-1),rs={class:"col-md-6"},cs=s("label",{for:"input17",class:"form-label"},"Confirm Password",-1),ms={class:"position-relative input-icon"},us=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-lock-alt"})],-1),ps={class:"col-md-12"},_s=s("label",{for:"input21",class:"form-label"},"Role",-1),bs=s("option",{value:""},"Choose...",-1),hs=["value"],vs={class:"modal-footer"},fs={type:"submit",class:"btn btn-primary btn-sm"},xs={class:"card"},ys={class:"card-body"},gs={class:"table-responsive"},ws={id:"example",class:"table table-striped table-bordered",style:{width:"100%"}},ks=s("thead",null,[s("tr",null,[s("th",null,"ID"),s("th",null,"Name"),s("th",null,"Email"),s("th",null,"Role"),s("th",null,"Register Date"),s("th")])],-1),Cs=["onClick"],Us=s("i",{class:"bx bx-edit"},null,-1),Ss=[Us],Ds={__name:"Index",props:{users:Object,roles:Object},setup(v){const _=x(!1),m=x(!1),e=S({user_id:"",name:"",phone:"",email:"",password:"",password_confirmation:"",role:""}),w=()=>{_.value=!0,m.value=!1},k=()=>{e.post(route("user.create"),{preserveScroll:!0,onSuccess:()=>b(),onError:()=>f(),onFinish:()=>{}})},C=r=>{_.value=!0,m.value=!0,e.user_id=r.id,e.name=r.name,e.phone=r.phone,e.email=r.email,e.role=r.role_id},U=()=>{e.post(route("user.update"),{preserveScroll:!0,onSuccess:()=>b(),onError:()=>f(),onFinish:()=>{}})},f=()=>{},b=()=>{_.value=!1,e.reset()};return(r,l)=>(i(),a(h,null,[n(o(M),{title:"Users"}),n(D,null,{default:V(()=>[s("div",B,[s("div",F,[s("div",L,[$,j,s("div",R,[s("div",I,[s("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-toggle":"modal","data-bs-target":"#exampleLargeModal",onClick:w},[O,E("Add")]),_.value?(i(),a("div",T,[s("div",A,[s("div",X,[s("form",{onSubmit:l[6]||(l[6]=N(t=>m.value?U():k(),["prevent"]))},[s("div",{class:"modal-header"},[q,s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:b})]),s("div",z,[s("div",G,[s("div",H,[J,s("div",K,[c(s("input",{type:"text",class:"form-control",id:"input13",placeholder:"Name","onUpdate:modelValue":l[0]||(l[0]=t=>o(e).name=t)},null,512),[[u,o(e).name]]),Q]),n(p,{message:o(e).errors.name},null,8,["message"])]),s("div",W,[Y,s("div",Z,[c(s("input",{type:"text",class:"form-control",id:"input15",placeholder:"Phone","onUpdate:modelValue":l[1]||(l[1]=t=>o(e).phone=t)},null,512),[[u,o(e).phone]]),ss]),n(p,{message:o(e).errors.name},null,8,["message"])]),s("div",es,[ts,s("div",os,[c(s("input",{type:"text",class:"form-control",id:"input16",placeholder:"Email","onUpdate:modelValue":l[2]||(l[2]=t=>o(e).email=t)},null,512),[[u,o(e).email]]),ls]),n(p,{message:o(e).errors.email},null,8,["message"])]),m.value?y("",!0):(i(),a(h,{key:0},[s("div",as,[ns,s("div",is,[c(s("input",{type:"password",class:"form-control",id:"input17",placeholder:"Password","onUpdate:modelValue":l[3]||(l[3]=t=>o(e).password=t)},null,512),[[u,o(e).password]]),ds]),n(p,{message:o(e).errors.password},null,8,["message"])]),s("div",rs,[cs,s("div",ms,[c(s("input",{type:"password",class:"form-control",id:"input17",placeholder:"Password","onUpdate:modelValue":l[4]||(l[4]=t=>o(e).password_confirmation=t)},null,512),[[u,o(e).password_confirmation]]),us])])],64)),s("div",ps,[_s,c(s("select",{id:"input21",class:"form-select","onUpdate:modelValue":l[5]||(l[5]=t=>o(e).role=t)},[bs,(i(!0),a(h,null,g(v.roles,t=>(i(),a("option",{key:t.id,value:t.id},d(t.name),9,hs))),128))],512),[[P,o(e).role]]),n(p,{message:o(e).errors.role},null,8,["message"])])])]),s("div",vs,[s("button",{type:"button",class:"btn btn-secondary btn-sm","data-bs-dismiss":"modal",onClick:b},"Close"),s("button",fs,d(m.value?"Save & Update":"Save & Submit"),1)])],32)])])])):y("",!0)])])]),s("div",xs,[s("div",ys,[s("div",gs,[s("table",ws,[ks,s("tbody",null,[(i(!0),a(h,null,g(v.users.data,(t,Vs)=>(i(),a("tr",null,[s("td",null,d(t.id),1),s("td",null,d(t.name),1),s("td",null,d(t.email),1),s("td",null,d(t.role),1),s("td",null,d(t.created_at),1),s("td",null,[s("button",{type:"button",onClick:Ms=>C(t),title:"Edit",clas:"btn btn-primary"},Ss,8,Cs)])]))),256))])])])])])])])]),_:1})],64))}};export{Ds as default};
