import{q as U,J as v,v as M,c as n,a as l,w as h,F as m,o as r,f as w,b as t,j as c,E as d,u as o,r as _,t as p,h as k,n as E,g as B}from"./app-cd546fce.js";import{a as O,_ as T}from"./SecondaryButton-8bc00f80.js";import{_ as q}from"./PrimaryButton-a494e05b.js";import{_ as P}from"./SuccessButton-7c6606f5.js";import{_ as u}from"./InputLabel-9d61dce0.js";import{_ as g}from"./InputError-23d3ae35.js";import"./vue-datepicker-2544dda7.js";/* empty css             */import"./moment-36af5c0a.js";const R={class:"p-6"},j=t("h2",{class:"text-lg font-medium text-gray-900"},"Search Filters",-1),L=t("p",{class:"mt-1 text-sm text-gray-600"},[t("hr")],-1),z={class:"mt-6"},W={class:"row g-2"},Y={class:"col-md-6"},G=t("option",{value:"date_of_issuance"},"Issuance Date",-1),H=t("option",{value:"policy_period_start"},"Inception Date",-1),K=t("option",{value:"policy_period_end"},"Expiry Date",-1),Q=t("option",{value:"created_at"},"Created At",-1),X=[G,H,K,Q],Z={class:"col-md-3"},ee=["value"],se={class:"col-md-3"},te=["value"],oe={key:0,class:"col-md-6"},ae=t("option",{value:""},"All Types",-1),le=t("option",{value:"new"},"New",-1),ne=t("option",{value:"renewal"},"Renewal",-1),re=t("option",{value:"endorsement"},"Endorsement",-1),ie=t("option",{value:"others"},"Others",-1),ce=[ae,le,ne,re,ie],de={class:"col-md-6"},ue=t("option",{value:""},"All Clients",-1),me=["value"],_e={class:"col-md-6"},pe=t("option",{value:""},"All Agencies",-1),ve=["value"],fe={class:"col-md-6"},ye=t("option",{value:""},"All Insurers",-1),he=["value"],ge={class:"col-md-6"},be=t("option",{value:""},"All Classes",-1),Se=["value"],we={class:"mt-6 flex justify-end"},Ie={__name:"ReportFilter",props:{data:Array,filter_route:{type:String,required:!0}},setup(N){const x=N,b=U(!1),C=U(!1),f=v().props.data,V=v().props.slug,A=v().props.filter;v().props.filter_route,console.log(v().props);var D=[{id:1,name:"January"},{id:2,name:"February"},{id:3,name:"March"},{id:4,name:"April"},{id:5,name:"May"},{id:6,name:"June"},{id:7,name:"July"},{id:8,name:"August"},{id:9,name:"September"},{id:10,name:"October"},{id:11,name:"November"},{id:12,name:"December"}],F=[{id:1,value:"2023"},{id:2,value:"2024"},{id:3,value:"2025"},{id:4,value:"2026"},{id:5,value:"2027"},{id:6,value:"2028"},{id:7,value:"2029"},{id:8,value:"2030"}],i="";const e=M({date_type:"",month:"",year:"",policy_type:"",client:"",agency:"",insurer:"",cob:""}),I=()=>{b.value=!0,C.value=!1,e.month=A.month,e.year=A.year,e.date_type="date_of_insurance",i=localStorage.getItem("filters"),i&&(i=JSON.parse(i),e.date_type=i.date_type,e.month=i.month,e.year=i.year,e.policy_type=i.policy_type,e.client=i.client,e.agency=i.agency,e.cob=i.cob,e.insurer=i.insurer)},J=()=>{var y={date_type:e.date_type,month:e.month,year:e.year,policy_type:e.policy_type,client:e.client,agency:e.agency,cob:e.cob,insurer:e.insurer};const a=new URLSearchParams(y).toString();var s;x.filter_route==="report"&&(s=`${route("report.index",V)}?${a}`),x.filter_route==="policy"&&(s=`${route("policy.index")}?${a}`),e.post(s,{preserveScroll:!0,onSuccess:$=>{S(),localStorage.setItem("filters",JSON.stringify(y))},onError:$=>{console.log($)},onFinish:()=>{}})},S=()=>{b.value=!1,e.reset()};return(y,a)=>(r(),n(m,null,[l(q,{onClick:I,type:"button",class:"mx-1"},{default:h(()=>[w("Search")]),_:1}),l(O,{show:b.value,onClose:S},{default:h(()=>[t("form",{onSubmit:a[8]||(a[8]=B(s=>C.value?y.update():J(),["prevent"]))},[t("div",R,[j,L,t("div",z,[t("div",W,[t("div",Y,[l(u,{for:"",value:"Date Type",class:"mb-1"}),c(t("select",{"onUpdate:modelValue":a[0]||(a[0]=s=>o(e).date_type=s),class:"form-control"},X,512),[[d,o(e).date_type]])]),t("div",Z,[l(u,{for:"",value:"Month",class:"mb-1"}),c(t("select",{"onUpdate:modelValue":a[1]||(a[1]=s=>o(e).month=s),class:"form-control"},[(r(!0),n(m,null,_(o(D),s=>(r(),n("option",{value:s.id},p(s.name),9,ee))),256))],512),[[d,o(e).month]])]),t("div",se,[l(u,{for:"",value:"Year",class:"mb-1"}),c(t("select",{"onUpdate:modelValue":a[2]||(a[2]=s=>o(e).year=s),class:"form-control"},[(r(!0),n(m,null,_(o(F),s=>(r(),n("option",{value:s.value},p(s.value),9,te))),256))],512),[[d,o(e).year]])]),o(V)=="sales"?(r(),n("div",oe,[l(u,{for:"",value:"Policy Type",class:"mb-1"}),c(t("select",{"onUpdate:modelValue":a[3]||(a[3]=s=>o(e).policy_type=s),class:"form-control"},ce,512),[[d,o(e).policy_type]])])):k("",!0),t("div",de,[l(u,{for:"",value:"Client",class:"mb-1"}),c(t("select",{"onUpdate:modelValue":a[4]||(a[4]=s=>o(e).client=s),class:"form-control"},[ue,(r(!0),n(m,null,_(o(f).clients,s=>(r(),n("option",{value:s.id},p(s.name),9,me))),256))],512),[[d,o(e).client]]),l(g,{message:o(e).errors.client},null,8,["message"])]),t("div",_e,[l(u,{for:"",value:"Agency",class:"mb-1"}),c(t("select",{"onUpdate:modelValue":a[5]||(a[5]=s=>o(e).agency=s),class:"form-control"},[pe,(r(!0),n(m,null,_(o(f).agencies,s=>(r(),n("option",{value:s.id},p(s.name),9,ve))),256))],512),[[d,o(e).agency]]),l(g,{message:o(e).errors.agency},null,8,["message"])]),t("div",fe,[l(u,{for:"",value:"Insurer",class:"mb-1"}),c(t("select",{"onUpdate:modelValue":a[6]||(a[6]=s=>o(e).insurer=s),class:"form-control"},[ye,(r(!0),n(m,null,_(o(f).insurers,s=>(r(),n("option",{value:s.id},p(s.name),9,he))),256))],512),[[d,o(e).insurer]]),l(g,{message:o(e).errors.insurer},null,8,["message"])]),t("div",ge,[l(u,{for:"",value:"Class of Business",class:"mb-1"}),c(t("select",{"onUpdate:modelValue":a[7]||(a[7]=s=>o(e).cob=s),class:"form-control"},[be,(r(!0),n(m,null,_(o(f).cobs,s=>(r(),n("option",{value:s.id},p(s.class_name),9,Se))),256))],512),[[d,o(e).cob]]),l(g,{message:o(e).errors.cob},null,8,["message"])])])]),t("div",we,[l(T,{onClick:S},{default:h(()=>[w(" Cancel ")]),_:1}),l(P,{class:E(["ml-3",{"opacity-25":o(e).processing}]),disabled:o(e).processing},{default:h(()=>[w(" Search ")]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"])],64))}};export{Ie as default};
