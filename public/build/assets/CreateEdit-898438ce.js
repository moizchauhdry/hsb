import{m as g,Q as F,T as j,o as p,c as u,a as i,w as b,F as v,q as U,b as e,f as y,t as x,u as l,h as _,j as n,s as w,d as B,x as r,n as T,g as I}from"./app-af507bfe.js";import{_ as M,a as O}from"./SecondaryButton-13ebe2c5.js";import{_ as a}from"./InputError-37dddbdd.js";import{_ as A}from"./PrimaryButton-9c50d3ed.js";import{_ as P}from"./SuccessButton-ba3e303f.js";/* empty css                                                         */const z={class:"p-6"},G={class:"text-lg font-medium text-gray-900 flex justify-between items-center"},Q={class:"text-sm text-gray-500"},L={key:0,class:"mr-2"},R={class:"mt-6"},H={class:"row g-3"},J={class:"col-md-6",style:{display:"none"}},K=["value"],W={class:"col-md-6"},X={class:"col-md-6"},Y={class:"position-relative input-icon"},Z={class:"col-md-6"},h={class:"position-relative input-icon"},ss={class:"col-md-6"},es={class:"position-relative input-icon"},os={class:"col-md-6"},ls={for:"input16",class:"form-label"},ts={class:"position-relative input-icon"},is=["placeholder"],ns={class:"col-md-6"},as={class:"position-relative input-icon"},rs={class:"col-md-6"},ds={class:"position-relative input-icon"},ps={class:"col-md-6"},us={class:"col-md-6"},ms={class:"position-relative input-icon"},cs={class:"col-md-6"},fs={class:"position-relative input-icon"},bs={class:"col-md-6"},vs={class:"position-relative input-icon"},xs={class:"col-md-12"},gs={class:"col-md-6"},ys={class:"position-relative input-icon"},_s={class:"col-md-6"},ws={class:"position-relative input-icon"},Cs={class:"mt-6 flex justify-end"},Es={__name:"CreateEdit",props:{roles:Object,slug:Object},setup(k,{expose:N}){const c=g(!1),m=g(!1);F().props.slug;const S=g([]),o=j({user_id:"",name:"",phone:"",email:"",address:"",cnic_name:"",cnic_no:"",cnic_expiry_date:"",father_name:"",gender:"",dob:"",type:"",designation:"",qualification:"",password:"",password_confirmation:"",role:"",cob_id:[]}),q=()=>{c.value=!0,m.value=!1,V()},E=()=>{o.post(route("user.create"),{preserveScroll:!0,onSuccess:()=>f(),onError:()=>C(),onFinish:()=>{}})},$=d=>{c.value=!0,m.value=!0,V(),U.get(`/users/edit/${d}`).then(({data:s})=>{console.log(s),o.user_id=s.user.id,o.name=s.user.name,o.phone=s.user.phone,o.email=s.user.email,o.address=s.user.address,o.cnic_name=s.user.cnic_name,o.cnic_no=s.user.cnic_no,o.cnic_expiry_date=s.user.cnic_expiry_date,o.father_name=s.user.father_name,o.gender=s.user.gender,o.dob=s.user.dob,o.type=s.user.type,o.designation=s.user.designation,o.qualification=s.user.qualification,o.role=s.role_id,o.cob_id=s.selected_cobs})},D=()=>{o.post(route("user.update"),{preserveScroll:!0,onSuccess:()=>f(),onError:()=>C(),onFinish:()=>{}})},C=()=>{},f=()=>{c.value=!1,o.reset()},V=()=>{U.get("/axios/fetch/cobs").then(({data:d})=>{console.log(d),S.value=d.cobs})};return N({edit:d=>$(d)}),(d,s)=>(p(),u(v,null,[i(A,{onClick:q},{default:b(()=>s[16]||(s[16]=[e("i",{class:"bx bx-plus text-lg"},null,-1),y("Add Client")])),_:1}),i(M,{show:c.value,onClose:f},{default:b(()=>[e("form",{onSubmit:s[15]||(s[15]=I(t=>m.value?D():E(),["prevent"]))},[e("div",z,[e("h2",G,[e("span",null,x(m.value?"Edit":"Add")+" Client",1),e("span",Q,[l(o).user_id?(p(),u("span",L,"ID #"+x(l(o).user_id),1)):_("",!0)])]),s[47]||(s[47]=e("p",{class:"mt-1 text-sm text-gray-600"},[e("hr")],-1)),e("div",R,[e("div",H,[e("div",J,[s[18]||(s[18]=e("label",{for:"input21",class:"form-label"},"Role",-1)),n(e("select",{id:"input21",class:"form-select text-capitalize","onUpdate:modelValue":s[0]||(s[0]=t=>l(o).role=t)},[s[17]||(s[17]=e("option",{value:""},"Choose...",-1)),(p(!0),u(v,null,B(k.roles,t=>(p(),u("option",{key:t.id,value:t.id},x(t.name),9,K))),128))],512),[[w,l(o).role]]),i(a,{message:l(o).errors.role},null,8,["message"])]),e("div",W,[s[20]||(s[20]=e("label",{for:"input16",class:"form-label"},"Type",-1)),n(e("select",{id:"input21",class:"form-select","onUpdate:modelValue":s[1]||(s[1]=t=>l(o).type=t)},s[19]||(s[19]=[e("option",{value:""},"Choose...",-1),e("option",{value:"individual"},"Individual",-1),e("option",{value:"business"},"Business",-1)]),512),[[w,l(o).type]]),i(a,{message:l(o).errors.type},null,8,["message"])]),e("div",X,[s[22]||(s[22]=e("label",{for:"input13",class:"form-label"},"Name",-1)),e("div",Y,[n(e("input",{type:"text",class:"form-control",id:"input13",placeholder:"","onUpdate:modelValue":s[2]||(s[2]=t=>l(o).name=t)},null,512),[[r,l(o).name]]),s[21]||(s[21]=e("span",{class:"position-absolute top-50 translate-middle-y"},[e("i",{class:"bx bx-user"})],-1))]),i(a,{message:l(o).errors.name},null,8,["message"])]),e("div",Z,[s[24]||(s[24]=e("label",{for:"input13",class:"form-label"},"Father Name",-1)),e("div",h,[n(e("input",{type:"text",class:"form-control",id:"input13",placeholder:"","onUpdate:modelValue":s[3]||(s[3]=t=>l(o).father_name=t)},null,512),[[r,l(o).father_name]]),s[23]||(s[23]=e("span",{class:"position-absolute top-50 translate-middle-y"},[e("i",{class:"bx bx-user"})],-1))]),i(a,{message:l(o).errors.father_name},null,8,["message"])]),e("div",ss,[s[26]||(s[26]=e("label",{for:"input15",class:"form-label"},"Phone",-1)),e("div",es,[n(e("input",{type:"text",class:"form-control",id:"input15",placeholder:"","onUpdate:modelValue":s[4]||(s[4]=t=>l(o).phone=t)},null,512),[[r,l(o).phone]]),s[25]||(s[25]=e("span",{class:"position-absolute top-50 translate-middle-y"},[e("i",{class:"bx bx-phone"})],-1))]),i(a,{message:l(o).errors.phone},null,8,["message"])]),e("div",os,[e("label",ls,x(l(o).type=="individual"?"CNIC":"NTN")+" #",1),e("div",ts,[n(e("input",{type:"text",class:"form-control",id:"input16",placeholder:l(o).type==1?"xxxxx-xxxxxxx-x":"","onUpdate:modelValue":s[5]||(s[5]=t=>l(o).cnic_no=t)},null,8,is),[[r,l(o).cnic_no]]),s[27]||(s[27]=e("span",{class:"position-absolute top-50 translate-middle-y"},[e("i",{class:"bx bx-id-card"})],-1))]),i(a,{message:l(o).errors.cnic_no},null,8,["message"])]),e("div",ns,[s[29]||(s[29]=e("label",{for:"input16",class:"form-label"},"Email",-1)),e("div",as,[n(e("input",{type:"text",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":s[6]||(s[6]=t=>l(o).email=t)},null,512),[[r,l(o).email]]),s[28]||(s[28]=e("span",{class:"position-absolute top-50 translate-middle-y"},[e("i",{class:"bx bx-envelope"})],-1))]),i(a,{message:l(o).errors.email},null,8,["message"])]),l(o).type=="individual"?(p(),u(v,{key:0},[e("div",rs,[s[31]||(s[31]=e("label",{for:"input16",class:"form-label"},"CNIC Expiry Date",-1)),e("div",ds,[n(e("input",{type:"date",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":s[7]||(s[7]=t=>l(o).cnic_expiry_date=t)},null,512),[[r,l(o).cnic_expiry_date]]),s[30]||(s[30]=e("span",{class:"position-absolute top-50 translate-middle-y"},[e("i",{class:"bx bx-id-card"})],-1))]),i(a,{message:l(o).errors.cnic_expiry_date},null,8,["message"])]),e("div",ps,[s[33]||(s[33]=e("label",{for:"input16",class:"form-label"},"Gender",-1)),n(e("select",{id:"input21",class:"form-select","onUpdate:modelValue":s[8]||(s[8]=t=>l(o).gender=t)},s[32]||(s[32]=[e("option",{selected:"",disabled:""},"Choose Gender",-1),e("option",{value:"male"},"Male",-1),e("option",{value:"female"},"Female",-1),e("option",{value:"others"},"Others",-1)]),512),[[w,l(o).gender]]),i(a,{message:l(o).errors.gender},null,8,["message"])]),e("div",us,[s[35]||(s[35]=e("label",{for:"input16",class:"form-label"},"Date Of Birth",-1)),e("div",ms,[n(e("input",{type:"date",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":s[9]||(s[9]=t=>l(o).dob=t)},null,512),[[r,l(o).dob]]),s[34]||(s[34]=e("span",{class:"position-absolute top-50 translate-middle-y"},[e("i",{class:"bx bx-id-card"})],-1))]),i(a,{message:l(o).errors.dob},null,8,["message"])]),e("div",cs,[s[37]||(s[37]=e("label",{for:"input16",class:"form-label"},"Designation",-1)),e("div",fs,[n(e("input",{type:"text",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":s[10]||(s[10]=t=>l(o).designation=t)},null,512),[[r,l(o).designation]]),s[36]||(s[36]=e("span",{class:"position-absolute top-50 translate-middle-y"},[e("i",{class:"bx bx-chair"})],-1))]),i(a,{message:l(o).errors.designation},null,8,["message"])]),e("div",bs,[s[39]||(s[39]=e("label",{for:"input16",class:"form-label"},"Qualification",-1)),e("div",vs,[n(e("input",{type:"text",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":s[11]||(s[11]=t=>l(o).qualification=t)},null,512),[[r,l(o).qualification]]),s[38]||(s[38]=e("span",{class:"position-absolute top-50 translate-middle-y"},[e("i",{class:"bx bx-book-reader"})],-1))]),i(a,{message:l(o).errors.qualification},null,8,["message"])])],64)):_("",!0),e("div",xs,[s[40]||(s[40]=e("label",{for:"input16",class:"form-label"},"Address",-1)),n(e("textarea",{"onUpdate:modelValue":s[12]||(s[12]=t=>l(o).address=t),class:"form-control",rows:"4"},null,512),[[r,l(o).address]]),i(a,{message:l(o).errors.address},null,8,["message"])]),!m.value&&l(o).role!=2?(p(),u(v,{key:1},[e("div",gs,[s[42]||(s[42]=e("label",{for:"input17",class:"form-label"},"Password",-1)),e("div",ys,[n(e("input",{type:"password",class:"form-control",id:"input17",placeholder:"","onUpdate:modelValue":s[13]||(s[13]=t=>l(o).password=t)},null,512),[[r,l(o).password]]),s[41]||(s[41]=e("span",{class:"position-absolute top-50 translate-middle-y"},[e("i",{class:"bx bx-lock-alt"})],-1))]),i(a,{message:l(o).errors.password},null,8,["message"])]),e("div",_s,[s[44]||(s[44]=e("label",{for:"input17",class:"form-label"},"Confirm Password",-1)),e("div",ws,[n(e("input",{type:"password",class:"form-control",id:"input17",placeholder:"","onUpdate:modelValue":s[14]||(s[14]=t=>l(o).password_confirmation=t)},null,512),[[r,l(o).password_confirmation]]),s[43]||(s[43]=e("span",{class:"position-absolute top-50 translate-middle-y"},[e("i",{class:"bx bx-lock-alt"})],-1))])])],64)):_("",!0)])]),e("div",Cs,[i(O,{onClick:f},{default:b(()=>s[45]||(s[45]=[y(" Cancel ")])),_:1}),i(P,{class:T(["ml-3",{"opacity-25":l(o).processing}]),disabled:l(o).processing},{default:b(()=>s[46]||(s[46]=[y(" Save ")])),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"])],64))}};export{Es as default};
