import{m as c,T as w,o as d,e as N,w as m,b as s,t as a,u as i,c as u,h as C,j as S,x as $,a as _,d as k,F as V,f as y,n as B,g as D}from"./app-1f90dc38.js";/* empty css                                               */import{_ as j}from"./InputError-d1d4538c.js";import{_ as E,a as F}from"./SecondaryButton-71e979f9.js";import{_ as L}from"./SuccessButton-df77c511.js";const M={class:"p-6"},T={class:"text-lg font-medium text-gray-900 flex justify-between items-center"},P={class:"text-sm text-gray-500"},U={key:0,class:"mr-2"},z={class:"mt-6"},A={class:"row g-3"},I={class:"col-md-12"},O={class:"card mt-3",style:{height:"300px","overflow-y":"auto"}},q={class:"card-body"},G={class:"table-responsive"},H={id:"example",class:"table table-striped table-bordered",style:{width:"100%"}},J={class:"mt-6 flex justify-end"},Z={__name:"Notes",setup(K,{expose:h}){const r=c(!1),n=c(!1),p=c([]),e=w({policy_id:"",policy_claim_id:"",note:""}),x=()=>{e.post(route("claim.store.claim-note"),{preserveScroll:!0,onSuccess:l=>{var t=l.props.flash.data;v(t.policy_claim_id,t.policy_id),e.note=""},onError:()=>{},onFinish:()=>{}})},f=()=>{r.value=!1},b=(l,t)=>{r.value=!0,n.value=!1,e.policy_id=t,e.policy_claim_id=l,e.note="",v(l,t)},v=(l,t)=>{axios.get(`/claims/fetch/claim-notes/${l}/${t}`).then(({data:o})=>{p.value=o.claim_notes})};return h({claimNote:(l,t)=>b(l,t)}),(l,t)=>(d(),N(E,{show:r.value,onClose:f},{default:m(()=>[s("form",{onSubmit:t[1]||(t[1]=D(o=>n.value?l.update():x(),["prevent"]))},[s("div",M,[s("h2",T,[s("span",null,a(n.value?"Edit":"Add")+" Note",1),s("span",P,[i(e).policy_claim_id?(d(),u("span",U,"CLM #"+a(i(e).policy_claim_id),1)):C("",!0),s("span",null,"POL #"+a(i(e).policy_id),1)])]),t[5]||(t[5]=s("p",{class:"mt-1 text-sm text-gray-600"},[s("hr")],-1)),s("div",z,[s("div",A,[s("div",I,[t[2]||(t[2]=s("label",{for:"input13",class:"form-label"},"Description",-1)),S(s("textarea",{class:"form-control",id:"detail","onUpdate:modelValue":t[0]||(t[0]=o=>i(e).note=o),rows:"5"},null,512),[[$,i(e).note]]),_(j,{message:i(e).errors.note},null,8,["message"])])]),s("div",O,[s("div",q,[s("div",G,[s("table",H,[t[3]||(t[3]=s("thead",null,[s("tr",null,[s("th",null,"Sr #"),s("th",null,"Note #"),s("th",null,"Policy/Claim ID"),s("th",null,"Notes")])],-1)),s("tbody",null,[(d(!0),u(V,null,k(p.value,(o,g)=>(d(),u("tr",{key:o.id},[s("td",null,a(++g),1),s("td",null,a(o.id),1),s("td",null,a(o.policy_id)+"/"+a(o.policy_claim_id),1),s("td",null,a(o.note),1)]))),128))])])])])])]),s("div",J,[_(F,{onClick:f},{default:m(()=>t[4]||(t[4]=[y("Close")])),_:1}),_(L,{class:B(["ml-3",{"opacity-25":i(e).processing}]),disabled:i(e).processing},{default:m(()=>[y(a(n.value?"Save & Update":"Save & Submit"),1)]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"]))}};export{Z as default};
