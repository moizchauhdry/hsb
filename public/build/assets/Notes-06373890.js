import{J as k,q as u,v as w,e as x,w as C,o as i,b as t,c as _,g as S,j as p,s as b,u as l,a as V,F as M,r as B,t as d,h as U}from"./app-1a2ef22b.js";import{_ as $}from"./AuthenticatedLayout-0b637b6a.js";import{_ as D}from"./InputError-fa885d88.js";/* empty css                                               */const F={class:"col"},L={key:0,class:"modal fade show",id:"notesLargeModal",tabindex:"-1","aria-hidden":"true",style:{display:"block"}},E={class:"modal fade show",id:"notesLargeModal",tabindex:"-1","aria-hidden":"true",style:{display:"block"}},j={class:"modal-dialog modal-lg"},q={class:"modal-content"},I=t("h5",{class:"modal-title"},"Claim Notes",-1),J={class:"modal-body"},T={class:"row g-3"},z={class:"col-md-12"},A=t("label",{for:"input13",class:"form-label"},"Note",-1),G={class:"card"},H={class:"card-body"},K={class:"table-responsive"},O={id:"example",class:"table table-striped table-bordered",style:{width:"100%"}},P=t("thead",null,[t("tr",null,[t("th",null,"Sr No."),t("th",null,"Claim ID"),t("th",null,"Notes")])],-1),Q={class:"modal-footer"},R={type:"submit",class:"btn btn-primary btn-sm"},et={__name:"Notes",setup(W,{expose:v}){const{props:n}=k(),h=u([]),c=u(!1),r=u(!1),e=w({policy_id:n.policy.id??"",policy_claim_id:"",note:""}),y=()=>{e.post(route("claim.claim-note"),{preserveScroll:!0,onSuccess:()=>m(),onError:()=>f(),onFinish:()=>{}})},f=()=>{},m=()=>{c.value=!1,e.reset()},g=a=>{c.value=!0,r.value=!1,e.policy_id=n.policy.id??"",e.policy_claim_id=a,e.note="",axios.get(`/claims/fetch/claim-note/${n.policy.id}`).then(({data:s})=>{h.value=s.claim_notes})};return v({claimNote:a=>g(a)}),(a,s)=>(i(),x($,null,{default:C(()=>[t("div",F,[c.value?(i(),_("div",L,[t("div",E,[t("div",j,[t("div",q,[t("form",{onSubmit:s[3]||(s[3]=S(o=>r.value?a.update():y(),["prevent"]))},[t("div",{class:"modal-header"},[I,t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:m})]),t("div",J,[p(t("input",{type:"hidden","onUpdate:modelValue":s[0]||(s[0]=o=>l(e).policy_id=o)},null,512),[[b,l(e).policy_id]]),p(t("input",{type:"hidden","onUpdate:modelValue":s[1]||(s[1]=o=>l(e).policy_claim_id=o)},null,512),[[b,l(e).policy_claim_id]]),t("div",T,[t("div",z,[A,p(t("textarea",{class:"form-control",id:"detail","onUpdate:modelValue":s[2]||(s[2]=o=>l(e).note=o)},null,512),[[b,l(e).note]]),V(D,{message:l(e).errors.note},null,8,["message"])])])]),t("div",G,[t("div",H,[t("div",K,[t("table",O,[P,t("tbody",null,[(i(!0),_(M,null,B(h.value,(o,N)=>(i(),_("tr",{key:o.id},[t("td",null,d(++N),1),t("td",null,d(o.id),1),t("td",null,d(o.note),1)]))),128))])])])])]),t("div",Q,[t("button",{type:"button",class:"btn btn-secondary btn-sm","data-bs-dismiss":"modal",onClick:m},"Close"),t("button",R,d(r.value?"Save & Update":"Save & Submit"),1)])],32)])])])])):U("",!0)])]),_:1}))}};export{et as default};
