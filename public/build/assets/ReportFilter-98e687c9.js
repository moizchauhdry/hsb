import{q as $,J as v,v as M,c as n,a,w as h,F as m,o as r,f as S,b as s,j as c,E as d,u as o,r as _,t as p,n as E,g as k}from"./app-3bc89020.js";import{_ as B,a as O}from"./SecondaryButton-a2115b0f.js";import{_ as T}from"./PrimaryButton-41de929e.js";import{_ as q}from"./SuccessButton-ada6df86.js";import{_ as u}from"./InputLabel-4820b072.js";import{_ as g}from"./InputError-2c8b3118.js";import"./vue-datepicker-b71193a0.js";/* empty css             */import"./moment-a9aaa855.js";const P=s("i",{class:"bx bx-search-alt text-lg mr-1"},null,-1),R={class:"p-6"},j=s("h2",{class:"text-lg font-medium text-gray-900"},"Search Filters",-1),L=s("p",{class:"mt-1 text-sm text-gray-600"},[s("hr")],-1),z={class:"mt-6"},W={class:"row g-2"},Y={class:"col-md-6"},G=s("option",{value:"date_of_issuance"},"Issuance Date",-1),H=s("option",{value:"policy_period_start"},"Inception Date",-1),K=s("option",{value:"policy_period_end"},"Expiry Date",-1),Q=s("option",{value:"created_at"},"Created At",-1),X=[G,H,K,Q],Z={class:"col-md-3"},ee=["value"],te={class:"col-md-3"},se=["value"],oe={class:"col-md-6"},le=s("option",{value:""},"All Types",-1),ae=s("option",{value:"new"},"New",-1),ne=s("option",{value:"renewal"},"Renewal",-1),re=s("option",{value:"endorsement"},"Endorsement",-1),ie=s("option",{value:"other"},"Other",-1),ce=[le,ae,ne,re,ie],de={class:"col-md-6"},ue=s("option",{value:""},"All Clients",-1),me=["value"],_e={class:"col-md-6"},pe=s("option",{value:""},"All Agencies",-1),ve=["value"],fe={class:"col-md-6"},ye=s("option",{value:""},"All Insurers",-1),he=["value"],ge={class:"col-md-6"},be=s("option",{value:""},"All Classes",-1),xe=["value"],Se={class:"mt-6 flex justify-end"},Ie={__name:"ReportFilter",props:{data:Array,filter_route:{type:String,required:!0}},setup(U){const w=U,b=$(!1),A=$(!1),f=v().props.data,F=v().props.slug,C=v().props.filter;v().props.filter_route,console.log(v().props);var D=[{id:1,name:"January"},{id:2,name:"February"},{id:3,name:"March"},{id:4,name:"April"},{id:5,name:"May"},{id:6,name:"June"},{id:7,name:"July"},{id:8,name:"August"},{id:9,name:"September"},{id:10,name:"October"},{id:11,name:"November"},{id:12,name:"December"}],N=[{id:1,value:"2023"},{id:2,value:"2024"},{id:3,value:"2025"},{id:4,value:"2026"},{id:5,value:"2027"},{id:6,value:"2028"},{id:7,value:"2029"},{id:8,value:"2030"}],i="";const e=M({date_type:"",month:"",year:"",policy_type:"",client:"",agency:"",insurer:"",cob:""}),I=()=>{b.value=!0,A.value=!1,e.month=C.month,e.year=C.year,e.date_type="date_of_insurance",i=localStorage.getItem("filters"),i&&(i=JSON.parse(i),e.date_type=i.date_type,e.month=i.month,e.year=i.year,e.policy_type=i.policy_type,e.client=i.client,e.agency=i.agency,e.cob=i.cob,e.insurer=i.insurer)},J=()=>{var y={date_type:e.date_type,month:e.month,year:e.year,policy_type:e.policy_type,client:e.client,agency:e.agency,cob:e.cob,insurer:e.insurer};const l=new URLSearchParams(y).toString();var t;w.filter_route==="report"&&(t=`${route("report.index",F)}?${l}`),w.filter_route==="policy"&&(t=`${route("policy.index")}?${l}`),e.post(t,{preserveScroll:!0,onSuccess:V=>{x(),localStorage.setItem("filters",JSON.stringify(y))},onError:V=>{console.log(V)},onFinish:()=>{}})},x=()=>{b.value=!1,e.reset()};return(y,l)=>(r(),n(m,null,[a(T,{onClick:I,type:"button",class:"mx-1"},{default:h(()=>[P,S(" Filters ")]),_:1}),a(B,{show:b.value,onClose:x},{default:h(()=>[s("form",{onSubmit:l[8]||(l[8]=k(t=>A.value?y.update():J(),["prevent"]))},[s("div",R,[j,L,s("div",z,[s("div",W,[s("div",Y,[a(u,{for:"",value:"Date Type",class:"mb-1"}),c(s("select",{"onUpdate:modelValue":l[0]||(l[0]=t=>o(e).date_type=t),class:"form-control"},X,512),[[d,o(e).date_type]])]),s("div",Z,[a(u,{for:"",value:"Month",class:"mb-1"}),c(s("select",{"onUpdate:modelValue":l[1]||(l[1]=t=>o(e).month=t),class:"form-control"},[(r(!0),n(m,null,_(o(D),t=>(r(),n("option",{value:t.id},p(t.name),9,ee))),256))],512),[[d,o(e).month]])]),s("div",te,[a(u,{for:"",value:"Year",class:"mb-1"}),c(s("select",{"onUpdate:modelValue":l[2]||(l[2]=t=>o(e).year=t),class:"form-control"},[(r(!0),n(m,null,_(o(N),t=>(r(),n("option",{value:t.value},p(t.value),9,se))),256))],512),[[d,o(e).year]])]),s("div",oe,[a(u,{for:"",value:"Policy Type",class:"mb-1"}),c(s("select",{"onUpdate:modelValue":l[3]||(l[3]=t=>o(e).policy_type=t),class:"form-control"},ce,512),[[d,o(e).policy_type]])]),s("div",de,[a(u,{for:"",value:"Client",class:"mb-1"}),c(s("select",{"onUpdate:modelValue":l[4]||(l[4]=t=>o(e).client=t),class:"form-control"},[ue,(r(!0),n(m,null,_(o(f).clients,t=>(r(),n("option",{value:t.id},p(t.name),9,me))),256))],512),[[d,o(e).client]]),a(g,{message:o(e).errors.client},null,8,["message"])]),s("div",_e,[a(u,{for:"",value:"Agency",class:"mb-1"}),c(s("select",{"onUpdate:modelValue":l[5]||(l[5]=t=>o(e).agency=t),class:"form-control"},[pe,(r(!0),n(m,null,_(o(f).agencies,t=>(r(),n("option",{value:t.id},p(t.name),9,ve))),256))],512),[[d,o(e).agency]]),a(g,{message:o(e).errors.agency},null,8,["message"])]),s("div",fe,[a(u,{for:"",value:"Insurer",class:"mb-1"}),c(s("select",{"onUpdate:modelValue":l[6]||(l[6]=t=>o(e).insurer=t),class:"form-control"},[ye,(r(!0),n(m,null,_(o(f).insurers,t=>(r(),n("option",{value:t.id},p(t.name),9,he))),256))],512),[[d,o(e).insurer]]),a(g,{message:o(e).errors.insurer},null,8,["message"])]),s("div",ge,[a(u,{for:"",value:"Class of Business",class:"mb-1"}),c(s("select",{"onUpdate:modelValue":l[7]||(l[7]=t=>o(e).cob=t),class:"form-control"},[be,(r(!0),n(m,null,_(o(f).cobs,t=>(r(),n("option",{value:t.id},p(t.class_name),9,xe))),256))],512),[[d,o(e).cob]]),a(g,{message:o(e).errors.cob},null,8,["message"])])])]),s("div",Se,[a(O,{onClick:x},{default:h(()=>[S(" Cancel ")]),_:1}),a(q,{class:E(["ml-3",{"opacity-25":o(e).processing}]),disabled:o(e).processing},{default:h(()=>[S(" Search ")]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"])],64))}};export{Ie as default};
