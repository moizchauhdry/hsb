import{q as d,J as M,v as N,c,b as e,f as w,g as B,j as b,y as D,u as o,F,r as $,a as n,s as f,t as h,h as E,z as y,o as u}from"./app-02db4d09.js";import{_ as m}from"./InputError-c83608ed.js";import{s as I}from"./multiselect-d8f2656d.js";/* empty css                                                         */const L={class:"col"},j=e("i",{class:"bx bx-plus"},null,-1),T={key:0,class:"modal fade show",id:"exampleLargeModal",tabindex:"-1","aria-hidden":"true",style:{display:"block"}},q={class:"modal-dialog modal-lg"},z={class:"modal-content"},A=e("h5",{class:"modal-title"},"Business Class",-1),J={class:"modal-body"},O={class:"row g-3"},P={class:"col-md-4"},G=e("label",{for:"input21",class:"form-label"},"Department",-1),H=["value"],K={class:"col-md-6"},Q=e("label",{for:"input13",class:"form-label"},"Class Name",-1),R={class:"col-md-2"},W=e("label",{for:"input13",class:"form-label"},"Percentage",-1),X={class:"col-md-12"},Y=e("label",{for:"input21",class:"form-label"},"Insurer",-1),Z={class:"modal-footer"},ee={type:"submit",class:"btn btn-primary btn-sm"},ne={__name:"CreateUpdate",props:{businessClass:Object},setup(se,{expose:x}){const r=d(!1),i=d(!1);M().props.businessClass;const p=d([]),v=d([]),V=()=>{r.value=!0,i.value=!1,y.get("/cobs/create").then(({data:l})=>{p.value=l.insurances,v.value=l.departments})},s=N({business_class_id:"",class_name:"",percentage:"",insurance_id:[],department_id:""}),C=()=>{s.post(route("cob.store"),{preserveScroll:!0,onSuccess:()=>_(),onError:()=>g(),onFinish:()=>{}})},g=()=>{},_=()=>{r.value=!1,s.reset()},S=l=>{const t=/^[0-9]*$/,a=l.target.value;t.test(a)?s.percentage=a:l.preventDefault()},k=l=>{r.value=!0,i.value=!0,y.get(`/cobs/edit/${l}`).then(({data:t})=>{s.business_class_id=t.business_cls.id,s.class_name=t.business_cls.class_name,s.percentage=t.business_cls.percentage,s.department_id=t.business_cls.department_id,p.value=t.insurances,s.insurance_id=t.selected_insurers})};x({edit:l=>k(l)});const U=()=>{s.post(route("cob.update"),{preserveScroll:!0,onSuccess:()=>_(),onError:()=>g(),onFinish:()=>{}})};return(l,t)=>(u(),c("div",L,[e("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-toggle":"modal","data-bs-target":"#exampleLargeModal",onClick:V},[j,w("Add")]),r.value?(u(),c("div",T,[e("div",q,[e("div",z,[e("form",{onSubmit:t[4]||(t[4]=B(a=>i.value?U():C(),["prevent"]))},[e("div",{class:"modal-header"},[A,e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:_})]),e("div",J,[e("div",O,[e("div",P,[G,b(e("select",{id:"input21",class:"form-select","onUpdate:modelValue":t[0]||(t[0]=a=>o(s).department_id=a)},[(u(!0),c(F,null,$(v.value,a=>(u(),c("option",{key:a.id,value:a.id},h(a.name),9,H))),128))],512),[[D,o(s).department_id]]),n(m,{message:o(s).errors.department_id},null,8,["message"])]),e("div",K,[Q,b(e("input",{type:"text",class:"form-control",id:"input13",placeholder:"","onUpdate:modelValue":t[1]||(t[1]=a=>o(s).class_name=a)},null,512),[[f,o(s).class_name]]),n(m,{message:o(s).errors.class_name},null,8,["message"])]),e("div",R,[W,b(e("input",{type:"number",class:"form-control",id:"input13",placeholder:"","onUpdate:modelValue":t[2]||(t[2]=a=>o(s).percentage=a),onInput:S},null,544),[[f,o(s).percentage]]),n(m,{message:o(s).errors.percentage},null,8,["message"])]),e("div",X,[Y,n(o(I),{style:{"margin-top":"3px !important"},mode:"tags",searchable:!1,modelValue:o(s).insurance_id,"onUpdate:modelValue":t[3]||(t[3]=a=>o(s).insurance_id=a),options:p.value},null,8,["modelValue","options"]),n(m,{message:o(s).errors.insurance_id},null,8,["message"])])])]),e("div",Z,[e("button",ee,h(i.value?"Update":"Save"),1)])],32)])])])):E("",!0)]))}};export{ne as default};
