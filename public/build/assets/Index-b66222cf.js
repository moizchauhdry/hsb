import{q as w,v as U,c as p,a as i,u as t,w as V,F as b,o as m,X as B,b as s,f as k,g as C,j as n,y as x,r as S,t as c,s as r,h as g,n as P}from"./app-a47d797a.js";import{_ as $}from"./AuthenticatedLayout-5c5ee6b1.js";import{_ as d}from"./InputError-6122a102.js";import{P as j}from"./Paginate-8a61757e.js";import{_ as I}from"./SuccessButton-0c539a11.js";/* empty css                                               */import"./_plugin-vue_export-helper-c27b6911.js";const L={class:"page-wrapper"},O={class:"page-content"},T={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},z=s("div",{class:"breadcrumb-title pe-3"},"User Management",-1),R=s("div",{class:"ps-3"},[s("nav",{"aria-label":"breadcrumb"},[s("ol",{class:"breadcrumb mb-0 p-0"},[s("li",{class:"breadcrumb-item"},[s("a",{href:"javascript:;"},[s("i",{class:"bx bx-home-alt"})])]),s("li",{class:"breadcrumb-item active","aria-current":"page"},"User List")])])],-1),A={class:"ms-auto"},G={class:"col"},Q=s("i",{class:"bx bx-plus"},null,-1),X={key:0,class:"modal fade show",id:"exampleLargeModal",tabindex:"-1","aria-hidden":"true",style:{display:"block"}},H={class:"modal-dialog modal-md"},J={class:"modal-content"},K=s("h5",{class:"modal-title"},"Manage Users",-1),W={class:"modal-body"},Y={class:"row g-3"},Z={class:"col-md-4"},ss=s("label",{for:"input21",class:"form-label"},"Role",-1),es=s("option",{value:""},"Choose...",-1),ts=["value"],os={class:"col-md-8"},ls=s("label",{for:"input13",class:"form-label"},"Name",-1),as={class:"position-relative input-icon"},is=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-user"})],-1),ns={class:"col-md-6"},ds=s("label",{for:"input13",class:"form-label"},"Father Name",-1),rs={class:"position-relative input-icon"},cs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-user"})],-1),ps={class:"col-md-6"},ms=s("label",{for:"input16",class:"form-label"},"Email",-1),us={class:"position-relative input-icon"},_s=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-envelope"})],-1),bs={class:"col-md-6"},hs=s("label",{for:"input15",class:"form-label"},"Phone",-1),fs={class:"position-relative input-icon"},vs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-phone"})],-1),xs={class:"col-md-6"},gs=s("label",{for:"input16",class:"form-label"},"Type",-1),ys=s("option",{value:1},"Individual",-1),ws=s("option",{value:2},"Business",-1),Us=[ys,ws],Vs={class:"col-md-6"},ks={for:"input16",class:"form-label"},Cs={class:"position-relative input-icon"},Ss=["placeholder"],Ns=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-id-card"})],-1),Ms={class:"col-md-6"},Es=s("label",{for:"input16",class:"form-label"},"CNIC Expiry Date",-1),qs={class:"position-relative input-icon"},Fs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-id-card"})],-1),Ds={class:"col-md-6"},Bs=s("label",{for:"input16",class:"form-label"},"Gender",-1),Ps=s("option",{selected:"",disabled:""},"Choose Gender",-1),$s=s("option",{value:"male"},"Male",-1),js=s("option",{value:"female"},"Female",-1),Is=s("option",{value:"others"},"Others",-1),Ls=[Ps,$s,js,Is],Os={class:"col-md-6"},Ts=s("label",{for:"input16",class:"form-label"},"Date Of Birth",-1),zs={class:"position-relative input-icon"},Rs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-id-card"})],-1),As={class:"col-md-6"},Gs=s("label",{for:"input16",class:"form-label"},"Designation",-1),Qs={class:"position-relative input-icon"},Xs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-chair"})],-1),Hs={class:"col-md-6"},Js=s("label",{for:"input16",class:"form-label"},"Qualification",-1),Ks={class:"position-relative input-icon"},Ws=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-book-reader"})],-1),Ys={class:"col-md-12"},Zs=s("label",{for:"input16",class:"form-label"},"Address",-1),se={class:"col-md-6"},ee=s("label",{for:"input17",class:"form-label"},"Password",-1),te={class:"position-relative input-icon"},oe=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-lock-alt"})],-1),le={class:"col-md-6"},ae=s("label",{for:"input17",class:"form-label"},"Confirm Password",-1),ie={class:"position-relative input-icon"},ne=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-lock-alt"})],-1),de={class:"modal-footer"},re={type:"submit",class:"btn btn-primary btn-sm"},ce={class:"card"},pe={class:"card-body"},me=["onSubmit"],ue={class:"row mb-3"},_e={class:"col-md-3"},be={class:"col-md-3"},he={class:"table-responsive"},fe={id:"example",class:"table table-striped table-bordered",style:{width:"100%"}},ve=s("thead",null,[s("tr",{class:"text-uppercase"},[s("th",null,"Sr.No."),s("th",null,"Code"),s("th",null,"Name"),s("th",null,"Email"),s("th",null,"Role"),s("th",null,"Register Date"),s("th")])],-1),xe={class:"text-capitalize"},ge={class:"text-capitalize"},ye=["onClick"],we=s("i",{class:"bx bx-edit"},null,-1),Ue=[we],Ve={class:"card-footer"},ke={class:"float-right"},Be={__name:"Index",props:{users:Object,roles:Object},setup(u){const h=w(!1),_=w(!1),e=U({user_id:"",name:"",phone:"",email:"",address:"",cnic_name:"",cnic_no:"",cnic_expiry_date:"",father_name:"",gender:"",dob:"",type:"",designation:"",qualification:"",password:"",password_confirmation:"",role:""}),N=()=>{h.value=!0,_.value=!1},M=()=>{e.post(route("user.create"),{preserveScroll:!0,onSuccess:()=>f(),onError:()=>y(),onFinish:()=>{}})},E=a=>{h.value=!0,_.value=!0,e.user_id=a.id,e.name=a.name,e.phone=a.phone,e.email=a.email,e.address=a.address,e.cnic_name=a.cnic_name,e.cnic_no=a.cnic_no,e.cnic_expiry_date=a.cnic_expiry_date,e.father_name=a.father_name,e.gender=a.gender,e.dob=a.dob,e.type=a.type,e.designation=a.designation,e.qualification=a.qualification,e.role=a.role_id},q=()=>{e.post(route("user.update"),{preserveScroll:!0,onSuccess:()=>f(),onError:()=>y(),onFinish:()=>{}})},y=()=>{},f=()=>{h.value=!1,e.reset()},v=U({search:""}),F=()=>{v.post(route("user.index"),{preserveScroll:!0,onSuccess:a=>{},onError:a=>{console.log(a)},onFinish:()=>{}})};return(a,l)=>(m(),p(b,null,[i(t(B),{title:"Users"}),i($,null,{default:V(()=>[s("div",L,[s("div",O,[s("div",T,[z,R,s("div",A,[s("div",G,[s("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-toggle":"modal","data-bs-target":"#exampleLargeModal",onClick:N},[Q,k("Add")]),h.value?(m(),p("div",X,[s("div",H,[s("div",J,[s("form",{onSubmit:l[15]||(l[15]=C(o=>_.value?q():M(),["prevent"]))},[s("div",{class:"modal-header"},[K,s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:f})]),s("div",W,[s("div",Y,[s("div",Z,[ss,n(s("select",{id:"input21",class:"form-select","onUpdate:modelValue":l[0]||(l[0]=o=>t(e).role=o)},[es,(m(!0),p(b,null,S(u.roles,o=>(m(),p("option",{key:o.id,value:o.id},c(o.name),9,ts))),128))],512),[[x,t(e).role]]),i(d,{message:t(e).errors.role},null,8,["message"])]),s("div",os,[ls,s("div",as,[n(s("input",{type:"text",class:"form-control",id:"input13",placeholder:"","onUpdate:modelValue":l[1]||(l[1]=o=>t(e).name=o)},null,512),[[r,t(e).name]]),is]),i(d,{message:t(e).errors.name},null,8,["message"])]),s("div",ns,[ds,s("div",rs,[n(s("input",{type:"text",class:"form-control",id:"input13",placeholder:"","onUpdate:modelValue":l[2]||(l[2]=o=>t(e).father_name=o)},null,512),[[r,t(e).father_name]]),cs]),i(d,{message:t(e).errors.father_name},null,8,["message"])]),s("div",ps,[ms,s("div",us,[n(s("input",{type:"text",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":l[3]||(l[3]=o=>t(e).email=o)},null,512),[[r,t(e).email]]),_s]),i(d,{message:t(e).errors.email},null,8,["message"])]),s("div",bs,[hs,s("div",fs,[n(s("input",{type:"text",class:"form-control",id:"input15",placeholder:"","onUpdate:modelValue":l[4]||(l[4]=o=>t(e).phone=o)},null,512),[[r,t(e).phone]]),vs]),i(d,{message:t(e).errors.phone},null,8,["message"])]),s("div",xs,[gs,n(s("select",{id:"input21",class:"form-select","onUpdate:modelValue":l[5]||(l[5]=o=>t(e).type=o)},Us,512),[[x,t(e).type]]),i(d,{message:t(e).errors.type},null,8,["message"])]),s("div",Vs,[s("label",ks,c(t(e).type==1?"CNIC":"NTN")+" #",1),s("div",Cs,[n(s("input",{type:"text",class:"form-control",id:"input16",placeholder:t(e).type==1?"xxxxx-xxxxxxx-x":"","onUpdate:modelValue":l[6]||(l[6]=o=>t(e).cnic_no=o)},null,8,Ss),[[r,t(e).cnic_no]]),Ns]),i(d,{message:t(e).errors.cnic_no},null,8,["message"])]),t(e).type==1?(m(),p(b,{key:0},[s("div",Ms,[Es,s("div",qs,[n(s("input",{type:"date",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":l[7]||(l[7]=o=>t(e).cnic_expiry_date=o)},null,512),[[r,t(e).cnic_expiry_date]]),Fs]),i(d,{message:t(e).errors.cnic_expiry_date},null,8,["message"])]),s("div",Ds,[Bs,n(s("select",{id:"input21",class:"form-select","onUpdate:modelValue":l[8]||(l[8]=o=>t(e).gender=o)},Ls,512),[[x,t(e).gender]]),i(d,{message:t(e).errors.gender},null,8,["message"])]),s("div",Os,[Ts,s("div",zs,[n(s("input",{type:"date",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":l[9]||(l[9]=o=>t(e).dob=o)},null,512),[[r,t(e).dob]]),Rs]),i(d,{message:t(e).errors.dob},null,8,["message"])]),s("div",As,[Gs,s("div",Qs,[n(s("input",{type:"text",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":l[10]||(l[10]=o=>t(e).designation=o)},null,512),[[r,t(e).designation]]),Xs]),i(d,{message:t(e).errors.designation},null,8,["message"])]),s("div",Hs,[Js,s("div",Ks,[n(s("input",{type:"text",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":l[11]||(l[11]=o=>t(e).qualification=o)},null,512),[[r,t(e).qualification]]),Ws]),i(d,{message:t(e).errors.qualification},null,8,["message"])])],64)):g("",!0),s("div",Ys,[Zs,n(s("textarea",{"onUpdate:modelValue":l[12]||(l[12]=o=>t(e).address=o),class:"form-control",rows:"4"},null,512),[[r,t(e).address]]),i(d,{message:t(e).errors.address},null,8,["message"])]),!_.value&&t(e).role!=2?(m(),p(b,{key:1},[s("div",se,[ee,s("div",te,[n(s("input",{type:"password",class:"form-control",id:"input17",placeholder:"","onUpdate:modelValue":l[13]||(l[13]=o=>t(e).password=o)},null,512),[[r,t(e).password]]),oe]),i(d,{message:t(e).errors.password},null,8,["message"])]),s("div",le,[ae,s("div",ie,[n(s("input",{type:"password",class:"form-control",id:"input17",placeholder:"","onUpdate:modelValue":l[14]||(l[14]=o=>t(e).password_confirmation=o)},null,512),[[r,t(e).password_confirmation]]),ne])])],64)):g("",!0)])]),s("div",de,[s("button",{type:"button",class:"btn btn-secondary btn-sm","data-bs-dismiss":"modal",onClick:f},"Close"),s("button",re,c(_.value?"Save & Update":"Save & Submit"),1)])],32)])])])):g("",!0)])])]),s("div",ce,[s("div",pe,[s("form",{onSubmit:C(F,["prevent"])},[s("div",ue,[s("div",_e,[n(s("input",{type:"text","onUpdate:modelValue":l[16]||(l[16]=o=>t(v).search=o),class:"form-control",placeholder:"Search"},null,512),[[r,t(v).search]])]),s("div",be,[i(I,{class:P(["px-4 py-1",{"opacity-25":t(e).processing}]),disabled:t(e).processing},{default:V(()=>[k(" Search ")]),_:1},8,["class","disabled"])])])],40,me),s("div",he,[s("table",fe,[ve,s("tbody",null,[(m(!0),p(b,null,S(u.users.data,(o,D)=>(m(),p("tr",null,[s("td",null,c((u.users.current_page-1)*u.users.per_page+D+1),1),s("td",null,c(o.code),1),s("td",xe,c(o.name),1),s("td",null,c(o.email),1),s("td",ge,c(o.role),1),s("td",null,c(o.created_at),1),s("td",null,[s("button",{type:"button",onClick:Ce=>E(o),title:"Edit",clas:"btn btn-primary"},Ue,8,ye)])]))),256))])])])]),s("div",Ve,[s("div",ke,[i(j,{links:u.users.links,scroll:!0},null,8,["links"])])])])])])]),_:1})],64))}};export{Be as default};
