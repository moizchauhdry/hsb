import{J as N,q as y,v as B,c as h,e as F,w as u,h as x,a,F as M,x as T,o as p,f,b as o,t as b,u as e,j as _,y as j,z as v,n as I,g as z}from"./app-2f89c27b.js";import{_ as r}from"./InputError-42a82a56.js";import{_ as A}from"./PrimaryButton-a3dd104c.js";import{_ as X,a as q}from"./SecondaryButton-186942b5.js";import{_ as J}from"./SuccessButton-414e372a.js";import{_ as c}from"./InputLabel-bd0e6909.js";import{X as V}from"./vue-datepicker-7f8ebc8e.js";/* empty css             */import{S as g}from"./sweetalert2.all-bd3282e6.js";const L=o("i",{class:"bx bx-plus mr-1"},null,-1),P={class:"p-6"},G={class:"text-lg font-medium text-gray-900 flex justify-between items-center"},H={class:"text-sm text-gray-500"},K={key:0,class:"mr-2"},O=o("p",{class:"mt-1 text-sm text-gray-600"},[o("hr")],-1),Q={class:"mt-6"},R={class:"row g-3"},W={class:"col-md-6"},Y=o("option",{value:"progress"},"In Progress",-1),Z=o("option",{value:"settled"},"Settled",-1),ss=[Y,Z],es={class:"col-md-6"},ts={class:"col-md-6"},os={class:"col-md-6"},as={class:"col-md-6"},ls={class:"col-md-12"},is={class:"mt-6 flex justify-end"},vs={__name:"CreateEdit",props:{create_mode:Boolean},setup(S,{expose:w}){const{props:C}=N(),n=y(!1),m=y(!1),s=B({claim_id:"",policy_id:"",description:"",status:"progress",claim_at:"",intimation_at:"",survivor_name:"",contact_no:""}),k=()=>{s.policy_id=C.policy.id,n.value=!0,m.value=!1},E=()=>{s.post(route("claim.store"),{preserveScroll:!0,onSuccess:()=>{g.fire("Added!","The claim added successfully.","success"),d()},onError:()=>U(),onFinish:()=>{}})},$=()=>{s.post(route("claim.update"),{preserveScroll:!0,onSuccess:()=>{g.fire("Updated!","The claim update successfully.","success"),d()},onError:i=>{i.status==!1&&g.fire("Error!",i.message,"error")},onFinish:()=>{}})},U=()=>{},d=()=>{n.value=!1},D=i=>{n.value=!0,m.value=!0,T.get(`/claims/fetch/claim/${i}`).then(({data:t})=>{s.claim_id=t.policy_claim.id,s.policy_id=t.policy_claim.policy_id,s.description=t.policy_claim.detail,s.status=t.policy_claim.status,s.claim_at=t.policy_claim.claim_at,s.intimation_at=t.policy_claim.intimation_at,s.survivor_name=t.policy_claim.survivor_name,s.contact_no=t.policy_claim.contact_no})};return w({claimEdit:i=>D(i)}),(i,t)=>(p(),h(M,null,[S.create_mode?(p(),F(A,{key:0,onClick:k,"data-bs-toggle":"modal","data-bs-target":"#claimsLargeModal"},{default:u(()=>[L,f(" Claim ")]),_:1})):x("",!0),a(X,{show:n.value,onClose:d},{default:u(()=>[o("form",{onSubmit:t[6]||(t[6]=z(l=>m.value?$():E(),["prevent"]))},[o("div",P,[o("h2",G,[o("span",null,b(m.value?"Edit":"Add")+" Claim",1),o("span",H,[e(s).claim_id?(p(),h("span",K,"ID #"+b(e(s).claim_id),1)):x("",!0)])]),O,o("div",Q,[o("div",R,[o("div",W,[a(c,{for:"",value:"Status",class:"mb-1"}),_(o("select",{id:"input21",class:"form-select","onUpdate:modelValue":t[0]||(t[0]=l=>e(s).status=l)},ss,512),[[j,e(s).status]]),a(r,{message:e(s).errors.status},null,8,["message"])]),o("div",es,[a(c,{for:"",value:"Claim Date",class:"mb-1"}),a(e(V),{modelValue:e(s).claim_at,"onUpdate:modelValue":t[1]||(t[1]=l=>e(s).claim_at=l),"enable-time-picker":!0,"show-time":!0},null,8,["modelValue"]),a(r,{message:e(s).errors.claim_at},null,8,["message"])]),o("div",ts,[a(c,{for:"",value:"Intimation Date",class:"mb-1"}),a(e(V),{modelValue:e(s).intimation_at,"onUpdate:modelValue":t[2]||(t[2]=l=>e(s).intimation_at=l),"enable-time-picker":!0,"show-time":!0},null,8,["modelValue"]),a(r,{message:e(s).errors.intimation_at},null,8,["message"])]),o("div",os,[a(c,{for:"",value:"Surveyor Name",class:"mb-1"}),_(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=l=>e(s).survivor_name=l)},null,512),[[v,e(s).survivor_name]]),a(r,{message:e(s).errors.survivor_name},null,8,["message"])]),o("div",as,[a(c,{for:"",value:"Contact No",class:"mb-1"}),_(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=l=>e(s).contact_no=l)},null,512),[[v,e(s).contact_no]]),a(r,{message:e(s).errors.contact_no},null,8,["message"])]),o("div",ls,[a(c,{for:"",value:"Description",class:"mb-1"}),_(o("textarea",{class:"form-control",id:"description","onUpdate:modelValue":t[5]||(t[5]=l=>e(s).description=l),rows:"10"},null,512),[[v,e(s).description]]),a(r,{message:e(s).errors.description},null,8,["message"])])])]),o("div",is,[a(q,{onClick:d},{default:u(()=>[f(" Cancel ")]),_:1}),a(J,{class:I(["ml-3",{"opacity-25":e(s).processing}]),disabled:e(s).processing},{default:u(()=>[f(" Save ")]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"])],64))}};export{vs as default};
