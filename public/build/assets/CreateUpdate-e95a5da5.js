import{q as d,J as N,v as U,c as u,a as l,w as m,x as y,o as _,f as v,b as s,t as g,u as o,h as j,j as b,y as E,F,r as I,z as C,n as B,g as M}from"./app-0e870a8e.js";import{s as z}from"./multiselect-fc889477.js";import{_ as A}from"./PrimaryButton-278d18e8.js";import{_ as T}from"./Modal-eebceae6.js";import{_ as p}from"./InputError-2ca478ba.js";import{_ as q}from"./SuccessButton-f3b74640.js";import{_ as J}from"./SecondaryButton-05253042.js";/* empty css                                                         */const L={class:"col"},O=s("i",{class:"bx bx-plus text-lg"},null,-1),P={class:"p-6"},G={class:"text-lg font-medium text-gray-900 flex justify-between items-center"},H={class:"text-sm text-gray-500"},K={key:0,class:"mr-2"},Q=s("p",{class:"mt-1 text-sm text-gray-600"},[s("hr")],-1),R={class:"mt-6"},W={class:"row g-3"},X={class:"col-md-4"},Y=s("label",{for:"input21",class:"form-label"},"Department",-1),Z=["value"],ee={class:"col-md-6"},se=s("label",{for:"input13",class:"form-label"},"Class Name",-1),te={class:"col-md-2"},oe=s("label",{for:"input13",class:"form-label"},"Percentage",-1),ae={class:"col-md-12"},ne=s("label",{for:"input21",class:"form-label"},"Insurer",-1),le={class:"mt-6 flex justify-end"},ve={__name:"CreateUpdate",props:{businessClass:Object},setup(re,{expose:V}){const r=d(!1),i=d(!1);N().props.businessClass;const f=d([]),h=d([]),w=()=>{r.value=!0,i.value=!1,y.get("/cobs/create").then(({data:n})=>{f.value=n.insurances,h.value=n.departments})},e=U({business_class_id:"",class_name:"",percentage:"",insurance_id:[],department_id:""}),S=()=>{e.post(route("cob.store"),{preserveScroll:!0,onSuccess:()=>c(),onError:()=>x(),onFinish:()=>{}})},x=()=>{},c=()=>{r.value=!1,e.reset()},$=n=>{const t=/^[0-9]*$/,a=n.target.value;t.test(a)?e.percentage=a:n.preventDefault()},k=n=>{r.value=!0,i.value=!0,y.get(`/cobs/edit/${n}`).then(({data:t})=>{e.business_class_id=t.cob.id,e.class_name=t.cob.class_name,e.percentage=t.cob.percentage,e.department_id=t.cob.department_id,f.value=t.insurances,e.insurance_id=t.selected_insurers})};V({edit:n=>k(n)});const D=()=>{e.post(route("cob.update"),{preserveScroll:!0,onSuccess:()=>c(),onError:()=>x(),onFinish:()=>{}})};return(n,t)=>(_(),u("div",L,[l(A,{onClick:w},{default:m(()=>[O,v("Add Class")]),_:1}),l(T,{show:r.value,onClose:c},{default:m(()=>[s("form",{onSubmit:t[4]||(t[4]=M(a=>i.value?D():S(),["prevent"]))},[s("div",P,[s("h2",G,[s("span",null,g(i.value?"Edit":"Add")+" Client",1),s("span",H,[o(e).user_id?(_(),u("span",K,"ID #"+g(o(e).user_id),1)):j("",!0)])]),Q,s("div",R,[s("div",W,[s("div",X,[Y,b(s("select",{id:"input21",class:"form-select","onUpdate:modelValue":t[0]||(t[0]=a=>o(e).department_id=a)},[(_(!0),u(F,null,I(h.value,a=>(_(),u("option",{key:a.id,value:a.id},g(a.name),9,Z))),128))],512),[[E,o(e).department_id]]),l(p,{message:o(e).errors.department_id},null,8,["message"])]),s("div",ee,[se,b(s("input",{type:"text",class:"form-control",id:"input13",placeholder:"","onUpdate:modelValue":t[1]||(t[1]=a=>o(e).class_name=a)},null,512),[[C,o(e).class_name]]),l(p,{message:o(e).errors.class_name},null,8,["message"])]),s("div",te,[oe,b(s("input",{type:"number",class:"form-control",id:"input13",placeholder:"","onUpdate:modelValue":t[2]||(t[2]=a=>o(e).percentage=a),onInput:$},null,544),[[C,o(e).percentage]]),l(p,{message:o(e).errors.percentage},null,8,["message"])]),s("div",ae,[ne,l(o(z),{style:{"margin-top":"3px !important"},mode:"tags",searchable:!1,modelValue:o(e).insurance_id,"onUpdate:modelValue":t[3]||(t[3]=a=>o(e).insurance_id=a),options:f.value},null,8,["modelValue","options"]),l(p,{message:o(e).errors.insurance_id},null,8,["message"])])])]),s("div",le,[l(J,{onClick:c},{default:m(()=>[v(" Cancel ")]),_:1}),l(q,{class:B(["ml-3",{"opacity-25":o(e).processing}]),disabled:o(e).processing},{default:m(()=>[v(" Save ")]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"])]))}};export{ve as default};
