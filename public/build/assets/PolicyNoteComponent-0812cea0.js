import{J as h,v as k,o,c as r,u,i as x,B as C,s as N,g as d,b as e,F as m,d as _,t as p,a as w,w as B,h as g}from"./app-2503355b.js";import v from"./AdditionalNotes-3d30c91a.js";import{S as l}from"./sweetalert2.all-4b615677.js";import{_ as E}from"./DangerButton-e9a67e6e.js";/* empty css                                               */import"./InputError-dd830035.js";import"./PrimaryButton-1d84b439.js";const P={key:1,class:"table-responsive mt-2"},S={key:0,class:"table table-bordered text-uppercase"},T={key:2},z={__name:"PolicyNoteComponent",props:{policy:Object,policyNotes:Array},setup(i){const{props:y}=h(),a=y.can,c=k({}),f=n=>{l.fire({title:"Are you sure?",text:"This note will be permanently deleted!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&c.delete(route("policy.notes.destroy",n),{preserveScroll:!0,onSuccess:()=>{l.fire("Deleted!","Policy note deleted successfully.","success")},onError:s=>{console.error(s),l.fire("Error!","Could not delete the note.","error")},onFinish:()=>c.reset()})})};return(n,t)=>(o(),r(m,null,[u(a).policy_note?(o(),x(v,C(N({key:0},n.$props)),null,16)):d("",!0),u(a).policy_note?(o(),r("div",P,[i.policyNotes.length>0?(o(),r("table",S,[e("tbody",null,[t[1]||(t[1]=e("tr",null,[e("th",{colspan:"4",class:"bg-warning text-white"}," Policy Notes ")],-1)),t[2]||(t[2]=e("tr",null,[e("th",null,"Sr No."),e("th",null,"Note"),e("th",null,"Actions")],-1)),(o(!0),r(m,null,_(i.policyNotes,(s,b)=>(o(),r("tr",{key:s.id},[e("td",null,p(++b),1),e("td",null,p(s.additional_notes),1),e("td",null,[w(E,{onClick:V=>f(s.id)},{default:B(()=>t[0]||(t[0]=[e("i",{class:"bx bxs-trash-alt mr-2"},null,-1),g(" DELETE ")])),_:2},1032,["onClick"])])]))),128))])])):d("",!0)])):(o(),r("div",T,t[3]||(t[3]=[e("h5",{class:"text-center"},"You do not have permission to view this tab.",-1)])))],64))}};export{z as default};
