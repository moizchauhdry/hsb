import{q as r,J as w,v as S,e as U,w as _,o as n,b as s,t as o,u as i,c as m,h as k,r as $,F,a as f,f as y,n as B,g as N}from"./app-2a783b01.js";/* empty css                                               */import{a as V,_ as E}from"./SecondaryButton-babcfb33.js";import{_ as L}from"./SuccessButton-59491c9b.js";const j={class:"p-6"},D={class:"text-lg font-medium text-gray-900 flex justify-between items-center"},M={class:"text-sm text-gray-500"},P={key:0,class:"mr-2"},q=s("p",{class:"mt-1 text-sm text-gray-600"},[s("hr")],-1),z={class:"mt-6"},A={class:"row g-3"},I={class:"col-md-12"},J=s("label",{for:"input13",class:"form-label"},"Uploads",-1),O={class:"card mt-3",style:{height:"300px","overflow-y":"auto"}},T={class:"card-body"},G={class:"table-responsive"},H={id:"example",class:"table table-striped table-bordered",style:{width:"100%"}},K=s("thead",null,[s("tr",null,[s("th",null,"Sr #"),s("th",null,"Upload #"),s("th",null,"Policy/Claim ID"),s("th",null,"File")])],-1),Q=["src"],R={class:"mt-6 flex justify-end"},es={__name:"Upload",setup(W,{expose:v}){const d=r(!1),c=r(!1),p=r([]);w().props.asset_url;const g=t=>{const e=t.target.files[0];l.file=e},l=S({policy_id:"",policy_claim_id:"",file:""}),b=()=>{l.post(route("claim.store.claim-upload"),{preserveScroll:!0,onSuccess:t=>{var e=t.props.flash.data;h(e.policy_claim_id,e.policy_id),l.uploads=""},onError:()=>{},onFinish:()=>{}})},u=()=>{d.value=!1,l.reset()},x=(t,e)=>{d.value=!0,c.value=!1,l.policy_claim_id=t,l.policy_id=e,h(t,e)},h=(t,e)=>{axios.get(`/claims/fetch/claim-uploads/${t}/${e}`).then(({data:a})=>{console.log(a),p.value=a.claim_uploads})};return v({claimUpload:(t,e)=>x(t,e)}),(t,e)=>(n(),U(V,{show:d.value,onClose:u},{default:_(()=>[s("form",{onSubmit:e[0]||(e[0]=N(a=>c.value?t.update():b(),["prevent"]))},[s("div",j,[s("h2",D,[s("span",null,o(c.value?"Edit":"Add")+" Upload",1),s("span",M,[i(l).policy_claim_id?(n(),m("span",P,"CLM #"+o(i(l).policy_claim_id),1)):k("",!0),s("span",null,"POL #"+o(i(l).policy_id),1)])]),q,s("div",z,[s("div",A,[s("div",I,[J,s("input",{type:"file",class:"form-control",id:"input13",onChange:g},null,32)])]),s("div",O,[s("div",T,[s("div",G,[s("table",H,[K,s("tbody",null,[(n(!0),m(F,null,$(p.value,(a,C)=>(n(),m("tr",{key:a.id},[s("td",null,o(++C),1),s("td",null,o(a.id),1),s("td",null,o(a.policy_id)+"/"+o(a.policy_claim_id),1),s("td",null,[s("img",{src:"/storage/"+a.file_url,alt:"",style:{height:"100px",width:"100px"}},null,8,Q)])]))),128))])])])])])]),s("div",R,[f(E,{onClick:u},{default:_(()=>[y("Close")]),_:1}),f(L,{class:B(["ml-3",{"opacity-25":i(l).processing}]),disabled:i(l).processing},{default:_(()=>[y(o(c.value?"Save & Update":"Save & Submit"),1)]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"]))}};export{es as default};
