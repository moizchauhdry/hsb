import{J as x,v as g,r as _,o,c as l,u as p,i as B,B as C,s as v,g as n,b as e,F as f,d as P,a as u,t as S,w as y,h}from"./app-971f6f04.js";import{P as E}from"./Paginate-8696aed4.js";import D from"./Uploads-803adf66.js";import{S as d}from"./sweetalert2.all-a47dd609.js";import{_ as F}from"./DangerButton-b8d05690.js";import"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                               */import"./InputError-c4308eb7.js";import"./PrimaryButton-10a61624.js";const N={key:1,class:"table-responsive mt-2"},T={key:0,class:"table table-bordered text-uppercase"},U={key:0},V={key:1},$=["src"],A=["href"],L={key:2},M={__name:"PolicyUploadComponent",props:{policy:Object,policyUploads:Array,assetUrl:String},setup(r){const{props:b}=x(),c=b.can,m=g({}),k=a=>{d.fire({title:"Are you sure?",text:"This file will be permanently deleted!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&m.delete(route("policy.uploads.destroy",a),{preserveScroll:!0,onSuccess:()=>{d.fire("Deleted!","File deleted successfully.","success")},onError:i=>{console.error(i),d.fire("Error!","Could not delete the file.","error")},onFinish:()=>m.reset()})})};return(a,t)=>{const i=_("PrimaryButton");return o(),l(f,null,[p(c).policy_upload?(o(),B(D,C(v({key:0},a.$props)),null,16)):n("",!0),p(c).policy_upload?(o(),l("div",N,[r.policyUploads.data.length>0?(o(),l("table",T,[e("tbody",null,[t[2]||(t[2]=e("tr",null,[e("th",{colspan:"5",class:"bg-warning text-white"}," Policy Uploads ")],-1)),t[3]||(t[3]=e("tr",null,[e("th",null,"Sr No."),e("th",null,"Type"),e("th",null,"File"),e("th",null,"Action")],-1)),(o(!0),l(f,null,P(r.policyUploads.data,(s,w)=>(o(),l("tr",{key:s.id},[e("td",null,S(++w),1),e("td",null,[s.type==1?(o(),l("span",U,"Image")):n("",!0),s.type==2?(o(),l("span",V,"Document")):n("",!0)]),e("td",null,[e("img",{src:r.assetUrl+"/"+s.upload,alt:"",style:{width:"70px"}},null,8,$)]),e("td",null,[e("a",{href:r.assetUrl+"/"+s.upload,download:""},[u(i,null,{default:y(()=>t[0]||(t[0]=[e("i",{class:"bx bxs-down-arrow-square mr-1"},null,-1),h(" Download ")])),_:1})],8,A),u(F,{onClick:Y=>k(s.id)},{default:y(()=>t[1]||(t[1]=[e("i",{class:"bx bxs-trash-alt mr-2"},null,-1),h(" DELETE ")])),_:2},1032,["onClick"])])]))),128)),e("tr",null,[e("td",null,[u(E,{links:r.policyUploads.links,scroll:!0},null,8,["links"])])])])])):n("",!0)])):(o(),l("div",L,t[4]||(t[4]=[e("h5",{class:"text-center"},"You do not have permission to view this tab.",-1)])))],64)}}};export{M as default};
