import{y as x,v as V,f as c,a,u as o,w as S,F as h,o as u,X as M,b as s,d as N,e as q,i as n,D,C as g,B as d,g as y,t as p}from"./app-2de70286.js";import{_ as E}from"./AuthenticatedLayout-b41caa0c.js";import{_ as r}from"./InputError-2de3d592.js";const B={class:"page-wrapper"},F={class:"page-content"},L={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},$=s("div",{class:"breadcrumb-title pe-3"},"User Management",-1),j=s("div",{class:"ps-3"},[s("nav",{"aria-label":"breadcrumb"},[s("ol",{class:"breadcrumb mb-0 p-0"},[s("li",{class:"breadcrumb-item"},[s("a",{href:"javascript:;"},[s("i",{class:"bx bx-home-alt"})])]),s("li",{class:"breadcrumb-item active","aria-current":"page"},"User List")])])],-1),I={class:"ms-auto"},P={class:"col"},R=s("i",{class:"bx bx-plus"},null,-1),A={key:0,class:"modal fade show",id:"exampleLargeModal",tabindex:"-1","aria-hidden":"true",style:{display:"block"}},O={class:"modal-dialog modal-md"},T={class:"modal-content"},Q=s("h5",{class:"modal-title"},"Manage Users",-1),X={class:"modal-body"},z={class:"row g-3"},G={class:"col-md-4"},H=s("label",{for:"input21",class:"form-label"},"Role",-1),J=s("option",{value:""},"Choose...",-1),K=["value"],W={class:"col-md-8"},Y=s("label",{for:"input13",class:"form-label"},"Name",-1),Z={class:"position-relative input-icon"},ss=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-user"})],-1),es={class:"col-md-12"},ts=s("label",{for:"input16",class:"form-label"},"Email",-1),os={class:"position-relative input-icon"},ls=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-envelope"})],-1),as={class:"col-md-6"},is=s("label",{for:"input15",class:"form-label"},"Phone",-1),ns={class:"position-relative input-icon"},ds=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-phone"})],-1),rs={class:"col-md-6"},cs=s("label",{for:"input16",class:"form-label"},"CNIC",-1),us={class:"position-relative input-icon"},ps=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-id-card"})],-1),ms={class:"col-md-6"},_s=s("label",{for:"input16",class:"form-label"},"Designation",-1),bs={class:"position-relative input-icon"},hs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-chair"})],-1),vs={class:"col-md-6"},fs=s("label",{for:"input16",class:"form-label"},"Qualification",-1),xs={class:"position-relative input-icon"},gs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-book-reader"})],-1),ys={class:"col-md-12"},ws=s("label",{for:"input16",class:"form-label"},"Address",-1),Us={class:"col-md-6"},ks=s("label",{for:"input17",class:"form-label"},"Password",-1),Cs={class:"position-relative input-icon"},Vs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-lock-alt"})],-1),Ss={class:"col-md-6"},Ms=s("label",{for:"input17",class:"form-label"},"Confirm Password",-1),Ns={class:"position-relative input-icon"},qs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-lock-alt"})],-1),Ds={class:"modal-footer"},Es={type:"submit",class:"btn btn-primary btn-sm"},Bs={class:"card"},Fs={class:"card-body"},Ls={class:"table-responsive"},$s={id:"example",class:"table table-striped table-bordered",style:{width:"100%"}},js=s("thead",null,[s("tr",null,[s("th",null,"ID"),s("th",null,"Name"),s("th",null,"Email"),s("th",null,"Role"),s("th",null,"Register Date"),s("th")])],-1),Is=["onClick"],Ps=s("i",{class:"bx bx-edit"},null,-1),Rs=[Ps],zs={__name:"Index",props:{users:Object,roles:Object},setup(v){const _=x(!1),m=x(!1),e=V({user_id:"",name:"",phone:"",email:"",address:"",cnic_no:"",designation:"",qualification:"",password:"",password_confirmation:"",role:""}),w=()=>{_.value=!0,m.value=!1},U=()=>{e.post(route("user.create"),{preserveScroll:!0,onSuccess:()=>b(),onError:()=>f(),onFinish:()=>{}})},k=i=>{_.value=!0,m.value=!0,e.user_id=i.id,e.name=i.name,e.phone=i.phone,e.email=i.email,e.address=i.address,e.cnic_no=i.cnic_no,e.designation=i.designation,e.qualification=i.qualification,e.role=i.role_id},C=()=>{e.post(route("user.update"),{preserveScroll:!0,onSuccess:()=>b(),onError:()=>f(),onFinish:()=>{}})},f=()=>{},b=()=>{_.value=!1,e.reset()};return(i,l)=>(u(),c(h,null,[a(o(M),{title:"Users"}),a(E,null,{default:S(()=>[s("div",B,[s("div",F,[s("div",L,[$,j,s("div",I,[s("div",P,[s("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-toggle":"modal","data-bs-target":"#exampleLargeModal",onClick:w},[R,N("Add")]),_.value?(u(),c("div",A,[s("div",O,[s("div",T,[s("form",{onSubmit:l[10]||(l[10]=q(t=>m.value?C():U(),["prevent"]))},[s("div",{class:"modal-header"},[Q,s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:b})]),s("div",X,[s("div",z,[s("div",G,[H,n(s("select",{id:"input21",class:"form-select","onUpdate:modelValue":l[0]||(l[0]=t=>o(e).role=t)},[J,(u(!0),c(h,null,g(v.roles,t=>(u(),c("option",{key:t.id,value:t.id},p(t.name),9,K))),128))],512),[[D,o(e).role]]),a(r,{message:o(e).errors.role},null,8,["message"])]),s("div",W,[Y,s("div",Z,[n(s("input",{type:"text",class:"form-control",id:"input13",placeholder:"","onUpdate:modelValue":l[1]||(l[1]=t=>o(e).name=t)},null,512),[[d,o(e).name]]),ss]),a(r,{message:o(e).errors.name},null,8,["message"])]),s("div",es,[ts,s("div",os,[n(s("input",{type:"text",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":l[2]||(l[2]=t=>o(e).email=t)},null,512),[[d,o(e).email]]),ls]),a(r,{message:o(e).errors.email},null,8,["message"])]),s("div",as,[is,s("div",ns,[n(s("input",{type:"text",class:"form-control",id:"input15",placeholder:"","onUpdate:modelValue":l[3]||(l[3]=t=>o(e).phone=t)},null,512),[[d,o(e).phone]]),ds]),a(r,{message:o(e).errors.phone},null,8,["message"])]),s("div",rs,[cs,s("div",us,[n(s("input",{type:"text",class:"form-control",id:"input16",placeholder:"xxxxx-xxxxxxx-x","onUpdate:modelValue":l[4]||(l[4]=t=>o(e).cnic_no=t)},null,512),[[d,o(e).cnic_no]]),ps]),a(r,{message:o(e).errors.cnic_no},null,8,["message"])]),s("div",ms,[_s,s("div",bs,[n(s("input",{type:"text",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":l[5]||(l[5]=t=>o(e).designation=t)},null,512),[[d,o(e).designation]]),hs]),a(r,{message:o(e).errors.designation},null,8,["message"])]),s("div",vs,[fs,s("div",xs,[n(s("input",{type:"text",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":l[6]||(l[6]=t=>o(e).qualification=t)},null,512),[[d,o(e).qualification]]),gs]),a(r,{message:o(e).errors.qualification},null,8,["message"])]),s("div",ys,[ws,n(s("textarea",{"onUpdate:modelValue":l[7]||(l[7]=t=>o(e).address=t),class:"form-control",rows:"4"},null,512),[[d,o(e).address]]),a(r,{message:o(e).errors.address},null,8,["message"])]),m.value?y("",!0):(u(),c(h,{key:0},[s("div",Us,[ks,s("div",Cs,[n(s("input",{type:"password",class:"form-control",id:"input17",placeholder:"","onUpdate:modelValue":l[8]||(l[8]=t=>o(e).password=t)},null,512),[[d,o(e).password]]),Vs]),a(r,{message:o(e).errors.password},null,8,["message"])]),s("div",Ss,[Ms,s("div",Ns,[n(s("input",{type:"password",class:"form-control",id:"input17",placeholder:"","onUpdate:modelValue":l[9]||(l[9]=t=>o(e).password_confirmation=t)},null,512),[[d,o(e).password_confirmation]]),qs])])],64))])]),s("div",Ds,[s("button",{type:"button",class:"btn btn-secondary btn-sm","data-bs-dismiss":"modal",onClick:b},"Close"),s("button",Es,p(m.value?"Save & Update":"Save & Submit"),1)])],32)])])])):y("",!0)])])]),s("div",Bs,[s("div",Fs,[s("div",Ls,[s("table",$s,[js,s("tbody",null,[(u(!0),c(h,null,g(v.users.data,(t,As)=>(u(),c("tr",null,[s("td",null,p(t.id),1),s("td",null,p(t.name),1),s("td",null,p(t.email),1),s("td",null,p(t.role),1),s("td",null,p(t.created_at),1),s("td",null,[s("button",{type:"button",onClick:Os=>k(t),title:"Edit",clas:"btn btn-primary"},Rs,8,Is)])]))),256))])])])])])])])]),_:1})],64))}};export{zs as default};
