import{J as C,q as B,c as o,a as b,s as N,b as e,F as f,r as v,o as n,t as s,f as u,h as i,u as r,e as m,w as c,m as $,v as S}from"./app-becb6c52.js";import{S as x}from"./sweetalert2.all-b55ff09d.js";import{_ as h}from"./IconButton-b025ac6d.js";import A from"./CreateEdit-6eafbd75.js";import"./InputError-16f11d1c.js";import"./vue-datepicker-a32aa7bb.js";/* empty css             */import"./PrimaryButton-ea2e0871.js";const D={style:{"overflow-x":"auto"}},F={class:"table table-bordered table-sm text-uppercase"},T=e("thead",{class:"table-light"},[e("tr",null,[e("th",null,"Sr."),e("th",{style:{"min-width":"250px"}},"Policy No"),e("th",{style:{"min-width":"200px"}},"Client Name"),e("th",{style:{"min-width":"200px"}},"Agency Name"),e("th",{style:{"min-width":"120px"}},"COB Name"),e("th",{style:{"min-width":"120px"}},"Expiry Date"),e("th",{style:{"min-width":"80px"}},"Claims"),e("th",{style:{"min-width":"80px"}},"Type"),e("th",{style:{"min-width":"150px"}},"Action")])],-1),V=["href"],E=e("i",{class:"bx bx-link-external"},null,-1),P=e("br",null,null,-1),Y={class:"badge bg-secondary"},O=["href"],j={class:"badge bg-dark"},q=e("i",{class:"bx bx-link-external"},null,-1),J={class:"badge bg-success mr-1"},L={class:"badge bg-warning mr-1"},R={key:0,class:"badge bg-info"},z=e("i",{class:"bx bx-edit bx-text-md"},null,-1),G=e("i",{class:"bx bxs-collection bx-text-md"},null,-1),H=e("i",{class:"bx bxs-trash bx-text-md text-danger"},null,-1),I={key:1},K=e("td",{colspan:"10",class:"text-center"},"No Record Found",-1),M=[K],le={__name:"PolicyTable",props:{policies:Array,filter:Object,detail:Boolean},setup(a){const d=C().props.can,p=B(null),y=l=>{p.value.edit(l)},g=l=>{const _=S({id:l});x.fire({title:"Are you sure?",text:"You will not be able to recover this policy!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(async t=>{t.isConfirmed&&_.delete(route("policy.delete"),{preserveScroll:!0,onSuccess:()=>{x.fire("Deleted!","Your policy has been deleted.","success")},onError:()=>{},onFinish:()=>_.reset()})})};return(l,_)=>(n(),o(f,null,[b(A,N(l.$props,{ref_key:"create_edit_ref",ref:p,create:!1}),null,16),e("div",D,[e("table",F,[T,e("tbody",null,[a.policies.data.length>0?(n(!0),o(f,{key:0},v(a.policies.data,(t,k)=>(n(),o("tr",null,[e("td",null,s((a.policies.current_page-1)*a.policies.per_page+k+1),1),e("td",null,[e("a",{href:l.route("policy.detail",t.p_id),target:"_blank"},[u(s(t.policy_no)+" ",1),E],8,V),u(),P,e("small",null,s(t.base_doc_no),1)]),e("td",null,s(t.client_name),1),e("td",null,s(t.agency_name),1),e("td",null,[e("span",Y,s(t.cob_name),1)]),e("td",null,s(t.expiry_date),1),e("td",null,[e("a",{href:`${l.route("claim.index")}?policy_id=${t.p_id}`,target:"_blank"},[e("span",j,[u(s(t.claim_count)+" ",1),q])],8,O)]),e("td",null,[e("span",J,s(t.policy_type),1),e("span",L,s(t.lead_type),1),t.policy_type=="renewal"?(n(),o("span",R,s(t.renewal_status),1)):i("",!0)]),e("td",null,[r(d).policy_update?(n(),m(h,{key:0,class:"m-1",onClick:w=>y(t.p_id)},{default:c(()=>[z]),_:2},1032,["onClick"])):i("",!0),r(d).policy_detail&&a.detail?(n(),m(r($),{key:1,href:l.route("policy.detail",t.p_id),class:"m-1"},{default:c(()=>[b(h,null,{default:c(()=>[G]),_:1})]),_:2},1032,["href"])):i("",!0),r(d).policy_delete?(n(),m(h,{key:2,class:"m-1",onClick:w=>g(t.p_id)},{default:c(()=>[H]),_:2},1032,["onClick"])):i("",!0)])]))),256)):(n(),o("tr",I,M))])])])],64))}};export{le as default};
