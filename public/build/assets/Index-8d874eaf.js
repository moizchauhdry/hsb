import{q as w,v as u,c as d,a as t,u as n,w as c,F as h,o as _,X as P,b as s,x as f,H as B,I as D,g as N,j,s as A,f as b,r as I,t as a,m as E}from"./app-cd546fce.js";import{_ as F}from"./AuthenticatedLayout-7a234e89.js";import"./index-ab5c2b15.js";/* empty css             */import M from"./CreateEdit-2f8097d1.js";import V from"./Import-9a63eeb9.js";import{_ as x}from"./SecondaryButton-8bc00f80.js";import{P as O}from"./Paginate-88df79fc.js";import{S as v}from"./sweetalert2.all-586236e0.js";import{_ as T}from"./SuccessButton-7c6606f5.js";import{_ as g}from"./DangerButton-26e4879c.js";import Y from"./ReportFilter-9ef5b535.js";/* empty css                                                         *//* empty css                                               */import"./InputError-23d3ae35.js";import"./vue-datepicker-2544dda7.js";import"./PrimaryButton-a494e05b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./InputLabel-9d61dce0.js";import"./moment-36af5c0a.js";const z={class:"page-wrapper"},R={class:"page-content"},q={class:"page-breadcrumb d-sm-flex align-items-center mb-3"},H=s("div",{class:"breadcrumb-title pe-3"},"Manage Reports",-1),L=s("div",{class:"ps-3"},[s("nav",{"aria-label":"breadcrumb"},[s("ol",{class:"breadcrumb mb-0 p-0"},[s("li",{class:"breadcrumb-item"},[s("a",{href:"javascript:;"},[s("i",{class:"bx bx-home-alt"})])]),s("li",{class:"breadcrumb-item active text-capitalize","aria-current":"page"},"Manage Policies ")])])],-1),U=s("div",{class:"ms-auto"},null,-1),X={class:"ms-auto",style:{display:"flex","justify-content":"space-between","align-items":"center"}},G={class:"card"},J={class:"card-body"},K=["onSubmit"],Q={class:"row mb-3 d-flex align-items-center"},W={class:"col-md-3"},Z={class:"col-md-3"},ss={class:"table-responsive"},es={class:"table table-bordered table-sm text-uppercase"},ts=s("thead",{class:"table-light"},[s("tr",null,[s("th",{class:"px-2"},"Sr #"),s("th",{class:"px-2"},"Policy ID"),s("th",{class:"px-2"},"Policy No"),s("th",{class:"px-2"},"Client Name"),s("th",{class:"px-2"},"Agency Name"),s("th",{class:"px-2"},"COB Name"),s("th",{class:"px-2"},"Issuance Date"),s("th",{class:"px-2"},"Inception Date"),s("th",{class:"px-2"},"Expiry Date"),s("th",{class:"px-2"},"Action")])],-1),os={class:"px-2"},as={class:"px-2"},is={class:"px-2"},cs={class:"px-2"},ls={class:"px-2"},rs={class:"px-2"},ns={class:"px-2"},ds={class:"px-2"},_s={class:"px-2"},ps={class:"px-2"},ms=s("i",{class:"bx bx-edit"},null,-1),us=s("i",{class:"bx bxs-collection"},null,-1),hs=s("i",{class:"bx bxs-trash"},null,-1),fs={class:"card-body"},bs={class:"float-right"},Os={__name:"Index",props:{policies:Array,policy:Object,filter:Object,data:Array},setup(l){const p=w(null),y=o=>{p.value.edit(o)},C=o=>{const i=u({id:o});v.fire({title:"Are you sure?",text:"You will not be able to recover this policy!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(async e=>{e.isConfirmed&&i.delete(route("policy.delete"),{preserveScroll:!0,onSuccess:()=>{v.fire("Deleted!","Your policy has been deleted.","success")},onError:()=>{},onFinish:()=>i.reset()})})},r=u({search:""}),m=()=>{r.post(route("policy.index"),{preserveScroll:!0,onSuccess:o=>{},onError:o=>{console.log(o)},onFinish:()=>{}})},$=()=>{r.search="",m()};return(o,i)=>(_(),d(h,null,[t(n(P),{title:"Policies"}),t(F,null,{default:c(()=>[s("div",z,[s("div",R,[s("div",q,[H,L,U,s("div",X,[t(M,f(o.$props,{ref_key:"create_edit_ref",ref:p}),null,16),t(V,B(D(o.$props)),null,16),t(Y,f(o.$props,{filter_route:"policy"}),null,16)])]),s("div",G,[s("div",J,[s("form",{onSubmit:N(m,["prevent"])},[s("div",Q,[s("div",W,[j(s("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=e=>n(r).search=e),class:"form-control",placeholder:"Search"},null,512),[[A,n(r).search]])]),s("div",Z,[t(T,{class:"px-4 py-1 mr-1"},{default:c(()=>[b("Search")]),_:1}),t(g,{class:"px-4 py-1 mr-1",onClick:i[1]||(i[1]=e=>$())},{default:c(()=>[b("Cancel")]),_:1})])])],40,K),s("div",ss,[s("table",es,[ts,s("tbody",null,[(_(!0),d(h,null,I(l.policies.data,(e,S)=>(_(),d("tr",null,[s("td",os,a((l.policies.current_page-1)*l.policies.per_page+S+1),1),s("td",as,a(e.id),1),s("td",is,a(e.data.policy_no),1),s("td",cs,a(e.client_name),1),s("td",ls,a(e.agency_name),1),s("td",rs,a(e.cob_name),1),s("td",ns,a(e.data.date_of_issuance),1),s("td",ds,a(e.data.policy_period_start),1),s("td",_s,a(e.data.policy_period_end),1),s("td",ps,[t(x,{onClick:k=>y(e.id)},{default:c(()=>[ms]),_:2},1032,["onClick"]),t(n(E),{href:o.route("policy.detail",e.id),class:"mx-1"},{default:c(()=>[t(x,null,{default:c(()=>[us]),_:1})]),_:2},1032,["href"]),t(g,{onClick:k=>C(e.id)},{default:c(()=>[hs]),_:2},1032,["onClick"])])]))),256))])])])]),s("div",fs,[s("div",bs,[t(O,{links:l.policies.links},null,8,["links"])])])])])])]),_:1})],64))}};export{Os as default};
