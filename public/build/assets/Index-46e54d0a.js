import{e as x,v as D,o as a,c as o,a as d,u as n,w as y,F as b,X as V,b as s,h as R,j as U,l as g,z as $,d as k,g as p,t as i,m as j}from"./app-971f6f04.js";import{_ as F}from"./AuthenticatedLayout-20a40868.js";import{_ as C}from"./InputError-c4308eb7.js";import{_ as B}from"./PrimaryButton-10a61624.js";/* empty css                                               */const E={class:"page-wrapper"},L={class:"page-content"},O={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},P={class:"ms-auto"},T={class:"col"},z={key:0,class:"modal fade show",id:"exampleLargeModal",tabindex:"-1","aria-hidden":"true",style:{display:"block"}},A={class:"modal-dialog modal-md"},I={class:"modal-content"},X={class:"modal-body"},q={class:"row"},G={class:"col-md-12"},H={class:"position-relative input-icon"},J={class:"row mt-3"},K={class:"col-md-12"},Q={class:"card p-3",style:{height:"400px","overflow-y":"auto"}},W={key:0},Y={key:0},Z={class:"text-uppercase"},ss={key:1,class:"form-check text-uppercase"},es=["value"],ts={class:"form-check-label",for:"flexCheckDefault"},ls={class:"modal-footer"},as={type:"submit",class:"btn btn-primary btn-sm"},os={class:"card"},ns={class:"card-body"},is={class:"table-responsive"},ds={id:"example",class:"table table-striped table-bordered",style:{width:"100%"}},ps={__name:"Index",props:{roles:Object,permissions:Object},setup(_){const r=x(!1),c=x(!1),l=D({id:"",name:"",permissions:[]}),w=()=>{r.value=!0,c.value=!1},S=()=>{l.post(route("role.create"),{preserveScroll:!0,onSuccess:()=>u(),onError:()=>f(),onFinish:()=>{}})},M=m=>{r.value=!0,c.value=!0,l.id=m.id,l.name=m.name,l.permissions=m.permissions},N=()=>{l.post(route("role.update"),{preserveScroll:!0,onSuccess:()=>u(),onError:()=>f(),onFinish:()=>{}})},f=()=>{},u=()=>{r.value=!1,l.reset()};return(m,e)=>(a(),o(b,null,[d(n(V),{title:"Roles"}),d(F,null,{default:y(()=>[s("div",E,[s("div",L,[s("div",O,[e[8]||(e[8]=s("div",{class:"breadcrumb-title pe-3"},"User Management",-1)),e[9]||(e[9]=s("div",{class:"ps-3"},[s("nav",{"aria-label":"breadcrumb"},[s("ol",{class:"breadcrumb mb-0 p-0"},[s("li",{class:"breadcrumb-item"},[s("a",{href:"javascript:;"},[s("i",{class:"bx bx-home-alt"})])]),s("li",{class:"breadcrumb-item active","aria-current":"page"},"Role & Permission")])])],-1)),s("div",P,[s("div",T,[s("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-toggle":"modal","data-bs-target":"#exampleLargeModal",onClick:w},e[3]||(e[3]=[s("i",{class:"bx bx-plus"},null,-1),R("Add")])),r.value?(a(),o("div",z,[s("div",A,[s("div",I,[s("form",{onSubmit:e[2]||(e[2]=U(t=>c.value?N():S(),["prevent"]))},[s("div",{class:"modal-header"},[e[4]||(e[4]=s("h5",{class:"modal-title"},"Role & Permission",-1)),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:u})]),s("div",X,[s("div",q,[s("div",G,[e[6]||(e[6]=s("label",{for:"input13",class:"form-label"},"Role",-1)),s("div",H,[g(s("input",{type:"text",class:"form-control",id:"input13",placeholder:"Name","onUpdate:modelValue":e[0]||(e[0]=t=>n(l).name=t)},null,512),[[$,n(l).name]]),e[5]||(e[5]=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-user"})],-1))]),d(C,{message:n(l).errors.name},null,8,["message"])])]),s("div",J,[s("div",K,[e[7]||(e[7]=s("label",{for:"input13",class:"form-label"},"Permissions",-1)),s("div",Q,[(a(!0),o(b,null,k(_.permissions,(t,v)=>(a(),o(b,{key:t.id},[t.level==1?(a(),o("div",W,[v!=0?(a(),o("hr",Y)):p("",!0),s("h6",Z,i(t.name),1)])):p("",!0),t.level!=1?(a(),o("div",ss,[g(s("input",{class:"form-check-input",type:"checkbox",value:t.id,id:"flexCheckDefault","onUpdate:modelValue":e[1]||(e[1]=h=>n(l).permissions=h)},null,8,es),[[j,n(l).permissions]]),s("label",ts,i(t.name),1)])):p("",!0)],64))),128))]),d(C,{message:n(l).errors.permissions},null,8,["message"])])])]),s("div",ls,[s("button",{type:"button",class:"btn btn-secondary btn-sm","data-bs-dismiss":"modal",onClick:u},"Close"),s("button",as,i(c.value?"Save & Update":"Save & Submit"),1)])],32)])])])):p("",!0)])])]),s("div",os,[s("div",ns,[s("div",is,[s("table",ds,[e[11]||(e[11]=s("thead",{class:"text-uppercase"},[s("tr",null,[s("th",null,"SR.NO."),s("th",null,"Name"),s("th",null,"Created Date"),s("th",null,"Updated Date"),s("td")])],-1)),s("tbody",null,[(a(!0),o(b,null,k(_.roles.data,(t,v)=>(a(),o("tr",null,[s("td",null,i(++v),1),s("td",null,i(t.name),1),s("td",null,i(t.created_at),1),s("td",null,i(t.updated_at),1),s("td",null,[d(B,{onClick:h=>M(t)},{default:y(()=>e[10]||(e[10]=[s("i",{class:"bx bx-edit"},null,-1)])),_:2},1032,["onClick"])])]))),256))])])])])])])])]),_:1})],64))}};export{ps as default};
