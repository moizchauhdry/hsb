import{J as v,q as d,v as b,c as m,a as r,w as y,b as e,g,j as C,y as w,u as a,t as k,h as x,o as p,f as I}from"./app-88062736.js";import{_}from"./InputError-a2c7923c.js";import{_ as S}from"./PrimaryButton-22ba9d84.js";const V={class:"col"},F={key:0,class:"modal fade show",id:"exampleLargeModal",tabindex:"-1","aria-hidden":"true",style:{display:"block"}},N={class:"modal-dialog modal-lg"},B={class:"modal-content"},M=e("h5",{class:"modal-title"},"Import",-1),P={class:"modal-body"},$={class:"row g-3"},D={class:"col-md-4"},E=e("label",{for:"input21",class:"form-label"},"Type",-1),O=e("option",{value:"1"},"Policy Import",-1),T=e("option",{value:"2"},"Client Import",-1),U=[O,T],j={class:"col-md-12"},q=e("label",{for:"input13",class:"form-label"},"Import File",-1),J={class:"modal-footer"},L={type:"submit",class:"btn btn-primary btn-sm"},K={__name:"Import",setup(z){v();const l=d(!1),i=d(!1),u=t=>{const o=t.target.files[0];s.file=o},s=b({file:null,type:""}),f=()=>{l.value=!0,i.value=!1},h=()=>{s.post(route("policy.import"),{preserveScroll:!0,onSuccess:()=>n(),onError:t=>{t.hasOwnProperty("errors")&&t.errors.hasOwnProperty("file")&&(s.errors.file=t.errors.file[0])},onFinish:()=>{}})},n=()=>{l.value=!1,s.reset()};return(t,o)=>(p(),m("div",V,[r(S,{onClick:f},{default:y(()=>[I("Import")]),_:1}),l.value?(p(),m("div",F,[e("div",N,[e("div",B,[e("form",{onSubmit:o[1]||(o[1]=g(c=>i.value?t.update():h(),["prevent"])),enctype:"multipart/form-data"},[e("div",{class:"modal-header"},[M,e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:n})]),e("div",P,[e("div",$,[e("div",D,[E,C(e("select",{id:"input21",class:"form-select","onUpdate:modelValue":o[0]||(o[0]=c=>a(s).type=c)},U,512),[[w,a(s).type]]),r(_,{message:a(s).errors.type},null,8,["message"])]),e("div",j,[q,e("input",{type:"file",class:"form-control",id:"input13",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",onChange:u},null,32),r(_,{message:a(s).errors.file},null,8,["message"])])])]),e("div",J,[e("button",{type:"button",class:"btn btn-secondary btn-sm","data-bs-dismiss":"modal",onClick:n},"Close"),e("button",L,k(i.value?"Save & Update":"Import"),1)])],32)])])])):x("",!0)]))}};export{K as default};
