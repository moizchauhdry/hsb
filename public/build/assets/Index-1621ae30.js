import{_ as C}from"./AuthenticatedLayout-5efad441.js";import"./index-3d08f527.js";import{J as $,q as B,c as u,a as o,u as n,w as r,F as f,o as a,X as N,b as e,s as b,e as d,B as P,h as m,r as S,t as i,f as x,m as A,v as D}from"./app-4d0731cb.js";import V from"./CreateEdit-2d9c9fb6.js";import j from"./Import-eba64e2e.js";import{P as E}from"./Paginate-cb7ade85.js";import{S as y}from"./sweetalert2.all-acdcf843.js";import F from"./ReportFilter-e36af370.js";import{_ as Y}from"./Search-63c426a6.js";import{_ as p}from"./IconButton-60f0a2c5.js";/* empty css                                               */import"./InputError-2e48b692.js";import"./vue-datepicker-d9636824.js";/* empty css             */import"./PrimaryButton-ce4b2367.js";import"./SecondaryButton-dec1a0ba.js";import"./SuccessButton-67274df0.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./InputLabel-967ac568.js";import"./multiselect-4fd4c722.js";import"./DarkButton-a539f5f8.js";import"./moment-a9aaa855.js";/* empty css                                                         */const z={class:"page-wrapper"},L={class:"page-content"},O={class:"page-breadcrumb d-sm-flex align-items-center mb-3"},T=e("div",{class:"breadcrumb-title pe-3"},"Manage Policies",-1),q=e("div",{class:"ps-3"},[e("nav",{"aria-label":"breadcrumb"},[e("ol",{class:"breadcrumb mb-0 p-0"},[e("li",{class:"breadcrumb-item"},[e("a",{href:"javascript:;"},[e("i",{class:"bx bx-home-alt"})])]),e("li",{class:"breadcrumb-item active text-capitalize","aria-current":"page"},"Policy List ")])])],-1),I=e("div",{class:"ms-auto"},null,-1),J={class:"ms-auto",style:{display:"flex","justify-content":"space-between","align-items":"center"}},M={class:"card"},X={class:"card-header"},G={class:"card-body"},H={style:{"overflow-x":"auto"}},K={class:"table table-bordered table-sm text-uppercase"},Q=e("thead",{class:"table-light"},[e("tr",null,[e("th",null,"Sr."),e("th",{style:{"min-width":"250px"}},"Policy No"),e("th",{style:{"min-width":"200px"}},"Client Name"),e("th",{style:{"min-width":"200px"}},"Agency Name"),e("th",{style:{"min-width":"120px"}},"COB Name"),e("th",{style:{"min-width":"120px"}},"Expiry Date"),e("th",{style:{"min-width":"80px"}},"Claims"),e("th",{style:{"min-width":"150px"}},"Action")])],-1),R=["href"],U=e("i",{class:"bx bx-link-external"},null,-1),W={class:"badge bg-secondary"},Z=["href"],ee={class:"badge bg-dark"},te=e("i",{class:"bx bx-link-external"},null,-1),se=e("i",{class:"bx bx-edit bx-text-md"},null,-1),ie=e("i",{class:"bx bxs-collection bx-text-md"},null,-1),le=e("i",{class:"bx bxs-trash bx-text-md text-danger"},null,-1),oe={class:"card-footer"},ae={class:"float-left"},ne={class:"float-right"},De={__name:"Index",props:{policies:Array,filter:Object},setup(l){const c=$().props.can,h=B(null),g=s=>{h.value.edit(s)},v=s=>{const _=D({id:s});y.fire({title:"Are you sure?",text:"You will not be able to recover this policy!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(async t=>{t.isConfirmed&&_.delete(route("policy.delete"),{preserveScroll:!0,onSuccess:()=>{y.fire("Deleted!","Your policy has been deleted.","success")},onError:()=>{},onFinish:()=>_.reset()})})};return(s,_)=>(a(),u(f,null,[o(n(N),{title:"Policies"}),o(C,null,{default:r(()=>[e("div",z,[e("div",L,[e("div",O,[T,q,I,e("div",J,[o(V,b(s.$props,{ref_key:"create_edit_ref",ref:h}),null,16),n(c).excel_import?(a(),d(j,P(b({key:0},s.$props)),null,16)):m("",!0),o(F,{filter_route:"policy"})])]),e("div",M,[e("div",X,[o(Y,{route_name:s.route("policy.index")},null,8,["route_name"])]),e("div",G,[e("div",H,[e("table",K,[Q,e("tbody",null,[(a(!0),u(f,null,S(l.policies.data,(t,k)=>(a(),u("tr",null,[e("td",null,i((l.policies.current_page-1)*l.policies.per_page+k+1),1),e("td",null,[e("a",{href:s.route("policy.detail",t.p_id),target:"_blank"},[x(i(t.policy_no)+" ",1),U],8,R)]),e("td",null,i(t.client_name),1),e("td",null,i(t.agency_name),1),e("td",null,[e("span",W,i(t.cob_name),1)]),e("td",null,i(t.expiry_date),1),e("td",null,[e("a",{href:`${s.route("claim.index")}?policy_id=${t.p_id}`,target:"_blank"},[e("span",ee,[x(i(t.claim_count)+" ",1),te])],8,Z)]),e("td",null,[n(c).policy_update?(a(),d(p,{key:0,class:"m-1",onClick:w=>g(t.p_id)},{default:r(()=>[se]),_:2},1032,["onClick"])):m("",!0),n(c).policy_detail?(a(),d(n(A),{key:1,href:s.route("policy.detail",t.p_id),class:"m-1"},{default:r(()=>[o(p,null,{default:r(()=>[ie]),_:1})]),_:2},1032,["href"])):m("",!0),n(c).policy_delete?(a(),d(p,{key:2,class:"m-1",onClick:w=>v(t.p_id)},{default:r(()=>[le]),_:2},1032,["onClick"])):m("",!0)])]))),256))])])])]),e("div",oe,[e("div",ae,[e("span",null,"Showing "+i(l.policies.from)+" to "+i(l.policies.to)+" of "+i(l.policies.total)+" entries",1)]),e("div",ne,[o(E,{links:l.policies.links},null,8,["links"])])])])])])]),_:1})],64))}};export{De as default};
