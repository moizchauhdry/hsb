import{J as w,v as x,c as o,u as p,e as C,C as g,s as B,h as r,b as e,F as h,r as v,a as i,o as t,t as P,w as _,f,d as S}from"./app-9be5a561.js";import{P as E}from"./Paginate-78c153a6.js";import D from"./Uploads-dab293d0.js";import{S as c}from"./sweetalert2.all-f06971bb.js";import{_ as F}from"./DangerButton-4d2ca392.js";import"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                               */import"./InputError-ef5b7e2a.js";import"./PrimaryButton-c1e17f0b.js";const N={key:1,class:"table-responsive mt-2"},T={key:0,class:"table table-bordered text-uppercase"},U=e("tr",null,[e("th",{colspan:"5",class:"bg-warning text-white"}," Policy Uploads ")],-1),V=e("tr",null,[e("th",null,"Sr No."),e("th",null,"Type"),e("th",null,"File"),e("th",null,"Action")],-1),$={key:0},A={key:1},L=["src"],Y=["href"],j=e("i",{class:"bx bxs-down-arrow-square mr-1"},null,-1),q=e("i",{class:"bx bxs-trash-alt mr-2"},null,-1),z={key:2},I=e("h5",{class:"text-center"},"You do not have permission to view this tab.",-1),J=[I],ee={__name:"PolicyUploadComponent",props:{policy:Object,policyUploads:Array,assetUrl:String},setup(l){const{props:y}=w(),d=y.can,u=x({}),b=n=>{c.fire({title:"Are you sure?",text:"This file will be permanently deleted!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(m=>{m.isConfirmed&&u.delete(route("policy.uploads.destroy",n),{preserveScroll:!0,onSuccess:()=>{c.fire("Deleted!","File deleted successfully.","success")},onError:a=>{console.error(a),c.fire("Error!","Could not delete the file.","error")},onFinish:()=>u.reset()})})};return(n,m)=>{const a=S("PrimaryButton");return t(),o(h,null,[p(d).policy_upload?(t(),C(D,g(B({key:0},n.$props)),null,16)):r("",!0),p(d).policy_upload?(t(),o("div",N,[l.policyUploads.data.length>0?(t(),o("table",T,[e("tbody",null,[U,V,(t(!0),o(h,null,v(l.policyUploads.data,(s,k)=>(t(),o("tr",{key:s.id},[e("td",null,P(++k),1),e("td",null,[s.type==1?(t(),o("span",$,"Image")):r("",!0),s.type==2?(t(),o("span",A,"Document")):r("",!0)]),e("td",null,[e("img",{src:l.assetUrl+"/"+s.upload,alt:"",style:{width:"70px"}},null,8,L)]),e("td",null,[e("a",{href:l.assetUrl+"/"+s.upload,download:""},[i(a,null,{default:_(()=>[j,f(" Download ")]),_:1})],8,Y),i(F,{onClick:O=>b(s.id)},{default:_(()=>[q,f(" DELETE ")]),_:2},1032,["onClick"])])]))),128)),e("tr",null,[e("td",null,[i(E,{links:l.policyUploads.links,scroll:!0},null,8,["links"])])])])])):r("",!0)])):(t(),o("div",z,J))],64)}}};export{ee as default};
