import{J as O,e as p,o,c as a,a as n,u as r,w as m,F as g,X as j,b as s,s as k,g as d,d as E,t as l,h as _,i as y,a5 as V}from"./app-0973401a.js";import{_ as z}from"./AuthenticatedLayout-c452d355.js";import{P}from"./Paginate-35510209.js";import{_ as b}from"./PrimaryButton-845612e0.js";import{_ as S}from"./Search-f29fd7f1.js";import U from"./CreateEdit-1bea076f.js";import A from"./AssignClient-78b7bd20.js";import D from"./AssignCOB-c9b56f7b.js";/* empty css                                               */import"./_plugin-vue_export-helper-c27b6911.js";import"./DarkButton-86daa20f.js";import"./SecondaryButton-b3527834.js";import"./Modal-293a94c6.js";import"./InputError-37c80b81.js";import"./SuccessButton-8db24ace.js";/* empty css                                                         */const F={class:"page-wrapper"},L={class:"page-content"},R={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},T={class:"ms-auto"},I={class:"card"},J={class:"card-header"},M={class:"card-body"},X={class:"table-responsive"},q={id:"example",class:"table table-bordered table-hover table-sm text-uppercase",style:{width:"100%"}},G={class:"table-light"},H={key:0},K={key:1},Q={key:0},W={class:"text-capitalize"},Y={key:1,class:"text-lowercase"},Z={class:"text-capitalize"},ss={class:"ml-1"},ts={class:"ml-1"},es={key:1,style:{"font-size":"10px"},class:"text-primary"},ls={class:"card-footer"},is={class:"float-left"},os={class:"float-right"},ys={__name:"Index",props:{users:Object,roles:Object,slug:Object},setup(u){const c=O().props.slug,v=p(null),h=i=>{v.value.edit(i)},x=p(null),$=i=>{x.value.assignClient(i)},C=p(null),w=i=>{C.value.assignCob(i)},B=i=>{V.get(route("user.audit",i))};return(i,t)=>(o(),a(g,null,[n(r(j),{title:"Users"}),n(z,null,{default:m(()=>[s("div",F,[s("div",L,[s("div",R,[t[0]||(t[0]=s("div",{class:"breadcrumb-title pe-3"},"User Management",-1)),t[1]||(t[1]=s("div",{class:"ps-3"},[s("nav",{"aria-label":"breadcrumb"},[s("ol",{class:"breadcrumb mb-0 p-0"},[s("li",{class:"breadcrumb-item"},[s("a",{href:"javascript:;"},[s("i",{class:"bx bx-home-alt"})])]),s("li",{class:"breadcrumb-item active","aria-current":"page"},"User List")])])],-1)),s("div",T,[n(U,k({ref_key:"user_create_edit_ref",ref:v},i.$props),null,16),n(A,k({ref_key:"assign_client_ref",ref:x},i.$props),null,16),n(D,k({ref_key:"assign_cob_ref",ref:C},i.$props),null,16)])]),s("div",I,[s("div",J,[n(S,{route_name:i.route("user.index",{slug:r(c)})},null,8,["route_name"])]),s("div",M,[s("div",X,[s("table",q,[s("thead",G,[s("tr",null,[t[2]||(t[2]=s("th",null,"Sr.No.",-1)),r(c)=="clients"?(o(),a("th",H,"Code")):d("",!0),t[3]||(t[3]=s("th",null,"Name",-1)),r(c)=="users"?(o(),a("th",K,"Email")):d("",!0),t[4]||(t[4]=s("th",null,"Role",-1)),t[5]||(t[5]=s("th",null,"Register Date",-1)),t[6]||(t[6]=s("th",{colspan:"3"},null,-1))])]),s("tbody",null,[(o(!0),a(g,null,E(u.users.data,(e,N)=>(o(),a("tr",null,[s("td",null,l((u.users.current_page-1)*u.users.per_page+N+1),1),r(c)=="clients"?(o(),a("td",Q,l(e.code),1)):d("",!0),s("td",W,l(e.name),1),r(c)=="users"?(o(),a("td",Y,l(e.email),1)):d("",!0),s("td",Z,l(e.role),1),s("td",null,l(e.created_at),1),s("td",null,[n(b,{class:"mr-1",onClick:f=>h(e.id),title:"Edit"},{default:m(()=>t[7]||(t[7]=[s("i",{class:"bx bx-edit mr-1"},null,-1),_(" Edit")])),_:2},1032,["onClick"]),n(b,{onClick:f=>B(e.id)},{default:m(()=>t[8]||(t[8]=[s("i",{class:"bx bx-list-ul mr-1"},null,-1),_(" Audit ")])),_:2},1032,["onClick"]),e.role_id!=1?(o(),a(g,{key:0},[r(c)=="users"?(o(),y(b,{key:0,class:"mr-1",onClick:f=>w(e.id)},{default:m(()=>[t[9]||(t[9]=s("i",{class:"bx bx-list-ul mr-1"},null,-1)),t[10]||(t[10]=_("COB ")),s("small",ss,l(e.user_cobs_count)+"/"+l(e.total_cob_count),1)]),_:2},1032,["onClick"])):d("",!0),r(c)=="users"?(o(),y(b,{key:1,class:"",onClick:f=>$(e.id)},{default:m(()=>[t[11]||(t[11]=s("i",{class:"bx bx-list-ul mr-1"},null,-1)),t[12]||(t[12]=_("Client ")),s("small",ts,l(e.user_clients_count)+"/"+l(e.total_client_count),1)]),_:2},1032,["onClick"])):d("",!0)],64)):d("",!0),e.role_id==1?(o(),a("span",es,t[13]||(t[13]=[s("b",null,"The admin has access to all COBs & clients.",-1)]))):d("",!0)])]))),256))])])])]),s("div",ls,[s("div",is,[s("h6",null,"Showing "+l(u.users.from)+" to "+l(u.users.to)+" of "+l(u.users.total)+" entries",1)]),s("div",os,[n(P,{links:u.users.links},null,8,["links"])])])])])])]),_:1})],64))}};export{ys as default};
