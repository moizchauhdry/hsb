import{o as p,c as u,p as $,q as w,v as U,a as n,u as t,w as S,F as h,X as B,b as s,f as V,g as k,j as i,D as g,r as C,t as c,E as r,h as x,n as I}from"./app-6207ad3c.js";import{_ as P}from"./AuthenticatedLayout-7b621b27.js";import{_ as d}from"./InputError-4b93e2ef.js";import{P as j}from"./Paginate-fb3de2c2.js";import"./_plugin-vue_export-helper-c27b6911.js";const L=["type"],O={__name:"SuccessButton",props:{type:{type:String,default:"submit"}},setup(m){return(_,b)=>(p(),u("button",{type:m.type,class:"inline-flex items-center px-3 py-2 bg-green-800 border border-transparent rounded-md font-semibold text-xs text-white tracking-widest hover:bg-green-700 focus:bg-green-700 active:bg-green-900 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition ease-in-out duration-150"},[$(_.$slots,"default")],8,L))}},T={class:"page-wrapper"},z={class:"page-content"},R={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},A=s("div",{class:"breadcrumb-title pe-3"},"User Management",-1),G=s("div",{class:"ps-3"},[s("nav",{"aria-label":"breadcrumb"},[s("ol",{class:"breadcrumb mb-0 p-0"},[s("li",{class:"breadcrumb-item"},[s("a",{href:"javascript:;"},[s("i",{class:"bx bx-home-alt"})])]),s("li",{class:"breadcrumb-item active","aria-current":"page"},"User List")])])],-1),Q={class:"ms-auto"},X={class:"col"},H=s("i",{class:"bx bx-plus"},null,-1),J={key:0,class:"modal fade show",id:"exampleLargeModal",tabindex:"-1","aria-hidden":"true",style:{display:"block"}},K={class:"modal-dialog modal-md"},W={class:"modal-content"},Y=s("h5",{class:"modal-title"},"Manage Users",-1),Z={class:"modal-body"},ss={class:"row g-3"},es={class:"col-md-4"},ts=s("label",{for:"input21",class:"form-label"},"Role",-1),os=s("option",{value:""},"Choose...",-1),ls=["value"],as={class:"col-md-8"},ns=s("label",{for:"input13",class:"form-label"},"Name",-1),is={class:"position-relative input-icon"},ds=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-user"})],-1),rs={class:"col-md-6"},cs=s("label",{for:"input13",class:"form-label"},"Father Name",-1),ps={class:"position-relative input-icon"},us=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-user"})],-1),ms={class:"col-md-6"},_s=s("label",{for:"input16",class:"form-label"},"Email",-1),bs={class:"position-relative input-icon"},hs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-envelope"})],-1),fs={class:"col-md-6"},vs=s("label",{for:"input15",class:"form-label"},"Phone",-1),gs={class:"position-relative input-icon"},xs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-phone"})],-1),ys={class:"col-md-6"},ws=s("label",{for:"input16",class:"form-label"},"Type",-1),Us=s("option",{value:1},"Individual",-1),Ss=s("option",{value:2},"Business",-1),Vs=[Us,Ss],ks={class:"col-md-6"},Cs={for:"input16",class:"form-label"},Ns={class:"position-relative input-icon"},Es=["placeholder"],Ms=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-id-card"})],-1),Ds={class:"col-md-6"},qs=s("label",{for:"input16",class:"form-label"},"CNIC Expiry Date",-1),Fs={class:"position-relative input-icon"},$s=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-id-card"})],-1),Bs={class:"col-md-6"},Is=s("label",{for:"input16",class:"form-label"},"Gender",-1),Ps=s("option",{selected:"",disabled:""},"Choose Gender",-1),js=s("option",{value:"male"},"Male",-1),Ls=s("option",{value:"female"},"Female",-1),Os=s("option",{value:"others"},"Others",-1),Ts=[Ps,js,Ls,Os],zs={class:"col-md-6"},Rs=s("label",{for:"input16",class:"form-label"},"Date Of Birth",-1),As={class:"position-relative input-icon"},Gs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-id-card"})],-1),Qs={class:"col-md-6"},Xs=s("label",{for:"input16",class:"form-label"},"Designation",-1),Hs={class:"position-relative input-icon"},Js=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-chair"})],-1),Ks={class:"col-md-6"},Ws=s("label",{for:"input16",class:"form-label"},"Qualification",-1),Ys={class:"position-relative input-icon"},Zs=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-book-reader"})],-1),se={class:"col-md-12"},ee=s("label",{for:"input16",class:"form-label"},"Address",-1),te={class:"col-md-6"},oe=s("label",{for:"input17",class:"form-label"},"Password",-1),le={class:"position-relative input-icon"},ae=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-lock-alt"})],-1),ne={class:"col-md-6"},ie=s("label",{for:"input17",class:"form-label"},"Confirm Password",-1),de={class:"position-relative input-icon"},re=s("span",{class:"position-absolute top-50 translate-middle-y"},[s("i",{class:"bx bx-lock-alt"})],-1),ce={class:"modal-footer"},pe={type:"submit",class:"btn btn-primary btn-sm"},ue={class:"card"},me={class:"card-body"},_e=["onSubmit"],be={class:"row mb-3"},he={class:"col-md-3"},fe={class:"col-md-3"},ve={class:"table-responsive"},ge={id:"example",class:"table table-striped table-bordered",style:{width:"100%"}},xe=s("thead",null,[s("tr",{class:"text-uppercase"},[s("th",null,"Sr.No."),s("th",null,"User ID"),s("th",null,"Name"),s("th",null,"Email"),s("th",null,"Role"),s("th",null,"Register Date"),s("th")])],-1),ye={class:"text-capitalize"},we={class:"text-capitalize"},Ue=["onClick"],Se=s("i",{class:"bx bx-edit"},null,-1),Ve=[Se],ke={class:"card-body"},Ce={class:"float-right"},$e={__name:"Index",props:{users:Object,roles:Object},setup(m){const _=w(!1),b=w(!1),e=U({user_id:"",name:"",phone:"",email:"",address:"",cnic_name:"",cnic_no:"",cnic_expiry_date:"",father_name:"",gender:"",dob:"",type:"",designation:"",qualification:"",password:"",password_confirmation:"",role:""}),N=()=>{_.value=!0,b.value=!1},E=()=>{e.post(route("user.create"),{preserveScroll:!0,onSuccess:()=>f(),onError:()=>y(),onFinish:()=>{}})},M=a=>{_.value=!0,b.value=!0,e.user_id=a.id,e.name=a.name,e.phone=a.phone,e.email=a.email,e.address=a.address,e.cnic_name=a.cnic_name,e.cnic_no=a.cnic_no,e.cnic_expiry_date=a.cnic_expiry_date,e.father_name=a.father_name,e.gender=a.gender,e.dob=a.dob,e.type=a.type,e.designation=a.designation,e.qualification=a.qualification,e.role=a.role_id},D=()=>{e.post(route("user.update"),{preserveScroll:!0,onSuccess:()=>f(),onError:()=>y(),onFinish:()=>{}})},y=()=>{},f=()=>{_.value=!1,e.reset()},v=U({search:""}),q=()=>{v.post(route("user.index"),{preserveScroll:!0,onSuccess:a=>{},onError:a=>{console.log(a)},onFinish:()=>{}})};return(a,l)=>(p(),u(h,null,[n(t(B),{title:"Users"}),n(P,null,{default:S(()=>[s("div",T,[s("div",z,[s("div",R,[A,G,s("div",Q,[s("div",X,[s("button",{type:"button",class:"btn btn-primary btn-sm","data-bs-toggle":"modal","data-bs-target":"#exampleLargeModal",onClick:N},[H,V("Add")]),_.value?(p(),u("div",J,[s("div",K,[s("div",W,[s("form",{onSubmit:l[15]||(l[15]=k(o=>b.value?D():E(),["prevent"]))},[s("div",{class:"modal-header"},[Y,s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:f})]),s("div",Z,[s("div",ss,[s("div",es,[ts,i(s("select",{id:"input21",class:"form-select","onUpdate:modelValue":l[0]||(l[0]=o=>t(e).role=o)},[os,(p(!0),u(h,null,C(m.roles,o=>(p(),u("option",{key:o.id,value:o.id},c(o.name),9,ls))),128))],512),[[g,t(e).role]]),n(d,{message:t(e).errors.role},null,8,["message"])]),s("div",as,[ns,s("div",is,[i(s("input",{type:"text",class:"form-control",id:"input13",placeholder:"","onUpdate:modelValue":l[1]||(l[1]=o=>t(e).name=o)},null,512),[[r,t(e).name]]),ds]),n(d,{message:t(e).errors.name},null,8,["message"])]),s("div",rs,[cs,s("div",ps,[i(s("input",{type:"text",class:"form-control",id:"input13",placeholder:"","onUpdate:modelValue":l[2]||(l[2]=o=>t(e).father_name=o)},null,512),[[r,t(e).father_name]]),us]),n(d,{message:t(e).errors.father_name},null,8,["message"])]),s("div",ms,[_s,s("div",bs,[i(s("input",{type:"text",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":l[3]||(l[3]=o=>t(e).email=o)},null,512),[[r,t(e).email]]),hs]),n(d,{message:t(e).errors.email},null,8,["message"])]),s("div",fs,[vs,s("div",gs,[i(s("input",{type:"text",class:"form-control",id:"input15",placeholder:"","onUpdate:modelValue":l[4]||(l[4]=o=>t(e).phone=o)},null,512),[[r,t(e).phone]]),xs]),n(d,{message:t(e).errors.phone},null,8,["message"])]),s("div",ys,[ws,i(s("select",{id:"input21",class:"form-select","onUpdate:modelValue":l[5]||(l[5]=o=>t(e).type=o)},Vs,512),[[g,t(e).type]]),n(d,{message:t(e).errors.type},null,8,["message"])]),s("div",ks,[s("label",Cs,c(t(e).type==1?"CNIC":"NTN")+" #",1),s("div",Ns,[i(s("input",{type:"text",class:"form-control",id:"input16",placeholder:t(e).type==1?"xxxxx-xxxxxxx-x":"","onUpdate:modelValue":l[6]||(l[6]=o=>t(e).cnic_no=o)},null,8,Es),[[r,t(e).cnic_no]]),Ms]),n(d,{message:t(e).errors.cnic_no},null,8,["message"])]),t(e).type==1?(p(),u(h,{key:0},[s("div",Ds,[qs,s("div",Fs,[i(s("input",{type:"date",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":l[7]||(l[7]=o=>t(e).cnic_expiry_date=o)},null,512),[[r,t(e).cnic_expiry_date]]),$s]),n(d,{message:t(e).errors.cnic_expiry_date},null,8,["message"])]),s("div",Bs,[Is,i(s("select",{id:"input21",class:"form-select","onUpdate:modelValue":l[8]||(l[8]=o=>t(e).gender=o)},Ts,512),[[g,t(e).gender]]),n(d,{message:t(e).errors.gender},null,8,["message"])]),s("div",zs,[Rs,s("div",As,[i(s("input",{type:"date",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":l[9]||(l[9]=o=>t(e).dob=o)},null,512),[[r,t(e).dob]]),Gs]),n(d,{message:t(e).errors.dob},null,8,["message"])]),s("div",Qs,[Xs,s("div",Hs,[i(s("input",{type:"text",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":l[10]||(l[10]=o=>t(e).designation=o)},null,512),[[r,t(e).designation]]),Js]),n(d,{message:t(e).errors.designation},null,8,["message"])]),s("div",Ks,[Ws,s("div",Ys,[i(s("input",{type:"text",class:"form-control",id:"input16",placeholder:"","onUpdate:modelValue":l[11]||(l[11]=o=>t(e).qualification=o)},null,512),[[r,t(e).qualification]]),Zs]),n(d,{message:t(e).errors.qualification},null,8,["message"])])],64)):x("",!0),s("div",se,[ee,i(s("textarea",{"onUpdate:modelValue":l[12]||(l[12]=o=>t(e).address=o),class:"form-control",rows:"4"},null,512),[[r,t(e).address]]),n(d,{message:t(e).errors.address},null,8,["message"])]),!b.value&&t(e).role!=2?(p(),u(h,{key:1},[s("div",te,[oe,s("div",le,[i(s("input",{type:"password",class:"form-control",id:"input17",placeholder:"","onUpdate:modelValue":l[13]||(l[13]=o=>t(e).password=o)},null,512),[[r,t(e).password]]),ae]),n(d,{message:t(e).errors.password},null,8,["message"])]),s("div",ne,[ie,s("div",de,[i(s("input",{type:"password",class:"form-control",id:"input17",placeholder:"","onUpdate:modelValue":l[14]||(l[14]=o=>t(e).password_confirmation=o)},null,512),[[r,t(e).password_confirmation]]),re])])],64)):x("",!0)])]),s("div",ce,[s("button",{type:"button",class:"btn btn-secondary btn-sm","data-bs-dismiss":"modal",onClick:f},"Close"),s("button",pe,c(b.value?"Save & Update":"Save & Submit"),1)])],32)])])])):x("",!0)])])]),s("div",ue,[s("div",me,[s("form",{onSubmit:k(q,["prevent"])},[s("div",be,[s("div",he,[i(s("input",{type:"text","onUpdate:modelValue":l[16]||(l[16]=o=>t(v).search=o),class:"form-control",placeholder:"Search"},null,512),[[r,t(v).search]])]),s("div",fe,[n(O,{class:I(["px-4 py-1",{"opacity-25":t(e).processing}]),disabled:t(e).processing},{default:S(()=>[V(" Search ")]),_:1},8,["class","disabled"])])])],40,_e),s("div",ve,[s("table",ge,[xe,s("tbody",null,[(p(!0),u(h,null,C(m.users.data,(o,F)=>(p(),u("tr",null,[s("td",null,c((m.users.current_page-1)*m.users.per_page+F+1),1),s("td",null," 00"+c(o.id),1),s("td",ye,c(o.name),1),s("td",null,c(o.email),1),s("td",we,c(o.role),1),s("td",null,c(o.created_at),1),s("td",null,[s("button",{type:"button",onClick:Ne=>M(o),title:"Edit",clas:"btn btn-primary"},Ve,8,Ue)])]))),256))])])])]),s("div",ke,[s("div",Ce,[n(j,{links:m.users.links,scroll:!0},null,8,["links"])])])])])])]),_:1})],64))}};export{$e as default};
