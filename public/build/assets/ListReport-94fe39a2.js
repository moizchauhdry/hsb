import{_ as J}from"./AuthenticatedLayout-421a1eef.js";import{J as O,c as d,a as c,u as o,w as $,F as i,o as n,X as U,b as s,t as e,A as X,B as q,f as H,h as _,r as K,n as h,d as Q}from"./app-6cb4f813.js";import W from"./ReportFilter-df980831.js";import{_ as Y}from"./SuccessButton-0cabc0b3.js";import{P as Z}from"./Paginate-e3d672f2.js";/* empty css                                                         *//* empty css                                               */import"./Modal-8e78fe78.js";import"./PrimaryButton-146931bb.js";import"./SecondaryButton-4aa0e041.js";import"./InputLabel-a2ae13f0.js";import"./InputError-0be1826b.js";import"./vue-datepicker-1b6e969e.js";/* empty css             */import"./_plugin-vue_export-helper-c27b6911.js";const y={class:"page-wrapper"},ss={class:"page-content"},ts={class:"page-breadcrumb d-sm-flex align-items-center mb-3"},es=s("div",{class:"breadcrumb-title pe-3"},"Manage Reports",-1),as={class:"ps-3"},os={"aria-label":"breadcrumb"},ds={class:"breadcrumb mb-0 p-0"},ns=s("li",{class:"breadcrumb-item"},[s("a",{href:"javascript:;"},[s("i",{class:"bx bx-home-alt"})])],-1),rs={class:"breadcrumb-item active text-capitalize","aria-current":"page"},_s=s("div",{class:"ms-auto"},null,-1),is={class:"ms-auto"},cs={class:"row row-cols-1 row-cols-md-2 row-cols-xxl-4"},ms={class:"col"},ls={class:"card radius-10"},hs={class:"card-body"},us={class:"d-flex align-items-center"},xs=s("p",{class:"mb-0 text-secondary"},"Total Sum Insured",-1),gs={class:"my-1"},bs=s("div",{class:"widgets-icons bg-light-info text-info ms-auto"},[s("i",{class:"bx bx-dollar"})],-1),vs={class:"col"},fs={class:"card radius-10"},ks={class:"card-body"},ws={class:"d-flex align-items-center"},Ps=s("p",{class:"mb-0 text-secondary"},"Total Gross Premium",-1),Bs={class:"my-1"},Ns=s("div",{class:"widgets-icons bg-light-warning text-warning ms-auto"},[s("i",{class:"bx bx-dollar"})],-1),Ss={class:"col"},As={class:"card radius-10"},Cs={class:"card-body"},Ds={class:"d-flex align-items-center"},Is=s("p",{class:"mb-0 text-secondary"},"Total Net Premium",-1),Rs={class:"my-1"},ps=s("div",{class:"widgets-icons bg-light-success text-success ms-auto"},[s("i",{class:"bx bx-dollar"})],-1),Es={class:"card"},Fs={class:"card-header"},Ts={class:"text-center mt-1"},zs={class:"card-body"},Gs={class:"table-responsive"},Vs={class:"table table-bordered table-sm text-uppercase",style:{"font-size":"12px"}},$s={class:"table-light"},Ms=s("th",{class:"px-2"},"Sr #",-1),Ls=s("th",{class:"px-2"},"Policy Number",-1),js=s("th",{class:"px-2"},"Client Name",-1),Js=s("th",{class:"px-2"},"Insurer Name",-1),Os=s("th",{class:"px-2"},"Agency",-1),Us=s("th",{class:"px-2"},"Class of Business",-1),Xs=s("th",{class:"px-2"},"Policy Type",-1),qs=s("th",{class:"px-2"},"Policy Start",-1),Hs=s("th",{class:"px-2"},"Policy End",-1),Ks=s("th",{class:"px-2"},"Insurance Date",-1),Qs=s("th",{class:"px-2"},"Brokerage amount",-1),Ws=s("th",{class:"px-2"},"Brokerage Paid Date ",-1),Ys=s("th",{class:"px-2"},"Brokerage Percentage",-1),Zs=s("th",{class:"px-2"},"Brokerage Received Amount",-1),ys=s("th",{class:"px-2"},"Brokerage Status",-1),st={key:3,class:"px-2"},tt=s("th",{class:"px-2"},"Sum Insured",-1),et=s("th",{class:"px-2"},"Gross Premium",-1),at=s("th",{class:"px-2"},"Gross Premium Received",-1),ot=s("th",{class:"px-2"},"Gross Premium OutStanding",-1),dt=s("th",{class:"px-2"},"Net Premium",-1),nt={class:"px-2"},rt={class:"px-2"},_t={class:"px-2"},it={class:"px-2"},ct={class:"px-2"},mt={class:"px-2"},lt={class:"px-2"},ht={class:"px-2"},ut={class:"px-2"},xt={class:"px-2"},gt={class:"px-2"},bt={class:"px-2"},vt={key:3,class:"px-2"},ft={class:"px-2"},kt={class:"px-2"},wt={class:"px-2"},Pt={class:"px-2"},Bt={class:"px-2"},Nt={key:0},St=s("td",{class:"text-center",colspan:"5"},"No record",-1),At=[St],Ct={class:"card-body"},Dt={class:"float-right"},Xt={__name:"ListReport",props:{policies:Array,data:Array,filter:Array,grand_total:Array},setup(r){const a=O().props.slug,m=l=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(l),M=()=>{window.location.href=route("report.export",a)};return(l,It)=>{const L=Q("InvoiceDetailModal");return n(),d(i,null,[c(o(U),{title:"Sales Report"}),c(J,null,{default:$(()=>[s("div",y,[s("div",ss,[s("div",ts,[es,s("div",as,[s("nav",os,[s("ol",ds,[ns,s("li",rs,e(o(a))+" Report ",1)])])]),_s,s("div",is,[c(W,X(q(l.$props)),null,16),c(Y,{onClick:M},{default:$(()=>[H("Excel Export")]),_:1})])]),s("div",cs,[s("div",ms,[s("div",ls,[s("div",hs,[s("div",us,[s("div",null,[xs,s("h4",gs,e(m(r.grand_total.sum_insured)),1)]),bs])])])]),s("div",vs,[s("div",fs,[s("div",ks,[s("div",ws,[s("div",null,[Ps,s("h4",Bs,e(m(r.grand_total.gross_premium)),1)]),Ns])])])]),s("div",Ss,[s("div",As,[s("div",Cs,[s("div",Ds,[s("div",null,[Is,s("h4",Rs,e(m(r.grand_total.net_premium)),1)]),ps])])])])]),s("div",Es,[s("div",Fs,[s("h5",Ts,[s("b",null,e(r.filter.month_name)+" "+e(r.filter.year),1)])]),s("div",zs,[s("div",Gs,[s("table",Vs,[s("thead",$s,[s("tr",null,[Ms,Ls,js,Js,Os,Us,Xs,o(a)=="renewal"||o(a)=="outstanding"?(n(),d(i,{key:0},[qs,Hs,Ks],64)):_("",!0),o(a)=="commission-recovery"||o(a)=="commission-outstanding-recovery"?(n(),d(i,{key:1},[Qs,Ws],64)):_("",!0),o(a)=="commission-recovery"?(n(),d(i,{key:2},[Ys,Zs,ys],64)):_("",!0),o(a)=="commission-outstanding-recovery"?(n(),d("th",st,"Balance Amount")):_("",!0),tt,et,o(a)=="outstanding"?(n(),d(i,{key:4},[at,ot],64)):_("",!0),dt])]),s("tbody",null,[(n(!0),d(i,null,K(r.policies.data,(t,j)=>{var u,x,g,b,v,f,k,w,P,B,N,S,A,C,D,I,R,p,E,F,T,z,G,V;return n(),d("tr",null,[s("td",nt,e((r.policies.current_page-1)*r.policies.per_page+j+1),1),s("td",rt,e((u=t==null?void 0:t.data)==null?void 0:u.policy_no),1),s("td",_t,e((g=(x=t==null?void 0:t.data)==null?void 0:x.client)==null?void 0:g.name),1),s("td",it,e((v=(b=t==null?void 0:t.data)==null?void 0:b.insurance)==null?void 0:v.name),1),s("td",ct,e((k=(f=t==null?void 0:t.data)==null?void 0:f.agency)==null?void 0:k.name),1),s("td",mt,e((P=(w=t==null?void 0:t.data)==null?void 0:w.business_class)==null?void 0:P.class_name),1),s("td",lt,e((B=t==null?void 0:t.data)==null?void 0:B.orignal_endorsment),1),o(a)=="renewal"||o(a)=="outstanding"?(n(),d(i,{key:0},[s("td",{class:h([{"bg-info":r.filter.date_type==="policy_start_period"},"px-2"])},e((N=t==null?void 0:t.data)==null?void 0:N.policy_start_period),3),s("td",{class:h([{"bg-info":r.filter.date_type==="policy_end_period"},"px-2"])},e((S=t==null?void 0:t.data)==null?void 0:S.policy_end_period),3),s("td",{class:h([{"bg-info":r.filter.date_type==="date_of_insurance"},"px-2"])},e((A=t==null?void 0:t.data)==null?void 0:A.date_of_insurance),3)],64)):_("",!0),o(a)=="commission-recovery"||o(a)=="commission-outstanding-recovery"?(n(),d(i,{key:1},[s("td",ht,e((C=t==null?void 0:t.data)==null?void 0:C.brokerage_amount),1),s("td",ut,e((D=t==null?void 0:t.data)==null?void 0:D.brokerage_paid_date),1)],64)):_("",!0),o(a)=="commission-recovery"?(n(),d(i,{key:2},[s("td",xt,e((I=t==null?void 0:t.data)==null?void 0:I.brokerage_percentage),1),s("td",gt,e((R=t==null?void 0:t.data)==null?void 0:R.brokerage_received_amount),1),s("td",bt,e((p=t==null?void 0:t.data)==null?void 0:p.brokerage_status),1)],64)):_("",!0),o(a)=="commission-outstanding-recovery"?(n(),d("td",vt,e((E=t==null?void 0:t.data)==null?void 0:E.balance_amount),1)):_("",!0),s("td",ft,e((F=t==null?void 0:t.data)==null?void 0:F.sum_insured),1),s("td",kt,e((T=t==null?void 0:t.data)==null?void 0:T.gross_premium),1),o(a)=="outstanding"?(n(),d(i,{key:4},[s("td",wt,e((z=t==null?void 0:t.data)==null?void 0:z.gross_premium_received),1),s("td",Pt,e((G=t==null?void 0:t.data)==null?void 0:G.gross_premium_outstanding),1)],64)):_("",!0),s("td",Bt,e((V=t==null?void 0:t.data)==null?void 0:V.net_premium),1)])}),256)),r.policies.data.length==0?(n(),d("tr",Nt,At)):_("",!0)])])])]),s("div",Ct,[s("div",Dt,[c(Z,{links:r.policies.links},null,8,["links"])])])])])]),c(L,{ref:"invoice_detail_ref"},null,512)]),_:1})],64)}}};export{Xt as default};
