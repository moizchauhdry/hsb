import{J as S,q as p,v as C,e as E,w as k,z as x,o as _,b as s,c as w,g as V,j as d,s as r,u as o,y as M,a as v,t as N,h as U}from"./app-df2e6ace.js";import{_ as B}from"./AuthenticatedLayout-d2afb518.js";import{_ as b}from"./InputError-e361f0c4.js";/* empty css                                               */const $={class:"col"},D={key:0,class:"modal fade show",id:"EditLargeModal",tabindex:"-1","aria-hidden":"true",style:{display:"block"}},J={class:"modal fade show",id:"EditLargeModal",tabindex:"-1","aria-hidden":"true",style:{display:"block"}},O={class:"modal-dialog modal-lg"},F={class:"modal-content"},L=s("h5",{class:"modal-title"},"Edit Claims",-1),j={class:"modal-body"},q={class:"row g-3"},z={class:"col-md-4"},P=s("label",{for:"input21",class:"form-label"},"Status",-1),T=s("option",{value:"open"},"Open",-1),A=s("option",{value:"progress"},"Progress",-1),G=s("option",{value:"settled"},"Settled",-1),H=s("option",{value:"close"},"Close",-1),I=[T,A,G,H],K={class:"col-md-12"},Q=s("label",{for:"input13",class:"form-label"},"Detail",-1),R={class:"modal-footer"},W={type:"submit",class:"btn btn-primary btn-sm"},es={__name:"Edit",setup(X,{expose:y}){const{props:m}=S(),n=p(!1),c=p(!1),t=C({policy_id:JSON.parse(JSON.stringify(m.policy.id))??"",claim_id:"",detail:"",status:""}),f=()=>{t.post(route("policy.claims"),{preserveScroll:!0,onSuccess:()=>i(),onError:()=>u(),onFinish:()=>{}})},u=()=>{},i=()=>{n.value=!1,t.reset()},h=a=>{n.value=!0,c.value=!0,x.get(`/policy/get/claim/${a}`).then(({data:e})=>{t.policy_id=m.policy.id??"",t.claim_id=a,t.detail=e.policyClaim.detail,t.status=e.policyClaim.status})};y({claimEdit:a=>h(a)});const g=()=>{t.post(route("policy.updateClaim"),{preserveScroll:!0,onSuccess:()=>i(),onError:()=>u(),onFinish:()=>{}})};return(a,e)=>(_(),E(B,null,{default:k(()=>[s("div",$,[n.value?(_(),w("div",D,[s("div",J,[s("div",O,[s("div",F,[s("form",{onSubmit:e[4]||(e[4]=V(l=>c.value?g():f(),["prevent"]))},[s("div",{class:"modal-header"},[L,s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:i})]),s("div",j,[d(s("input",{type:"hidden","onUpdate:modelValue":e[0]||(e[0]=l=>o(t).policy_id=l)},null,512),[[r,o(t).policy_id]]),d(s("input",{type:"hidden","onUpdate:modelValue":e[1]||(e[1]=l=>o(t).claim_id=l)},null,512),[[r,o(t).claim_id]]),s("div",q,[s("div",z,[P,d(s("select",{id:"input21",class:"form-select","onUpdate:modelValue":e[2]||(e[2]=l=>o(t).status=l)},I,512),[[M,o(t).status]]),v(b,{message:o(t).errors.status},null,8,["message"])]),s("div",K,[Q,d(s("textarea",{class:"form-control",id:"detail","onUpdate:modelValue":e[3]||(e[3]=l=>o(t).detail=l)},null,512),[[r,o(t).detail]]),v(b,{message:o(t).errors.detail},null,8,["message"])])])]),s("div",R,[s("button",{type:"button",class:"btn btn-secondary btn-sm","data-bs-dismiss":"modal",onClick:i},"Close"),s("button",W,N(c.value?"Save & Update":"Save & Submit"),1)])],32)])])])])):U("",!0)])]),_:1}))}};export{es as default};
