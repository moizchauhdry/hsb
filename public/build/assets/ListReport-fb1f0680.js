import{_ as G}from"./AuthenticatedLayout-63ab9449.js";import{Q as V,r as $,o as n,c as o,a as _,u as d,w as R,F as u,Z as z,b as s,t as a,p as M,f as L,h as l,d as j,n as g}from"./app-7f4e59a8.js";import O from"./ReportFilter-c6e4e577.js";import{_ as Q}from"./SuccessButton-f0eb3a8e.js";import{P as U}from"./Paginate-ec4c10e8.js";/* empty css                                                         *//* empty css                                               */import"./SecondaryButton-723b2ff4.js";import"./InputLabel-bc6fa5d2.js";import"./vue-datepicker-dd50d621.js";/* empty css             */import"./multiselect-db6413a4.js";import"./DarkButton-e08a7ea5.js";import"./_plugin-vue_export-helper-c27b6911.js";const Z={class:"page-wrapper"},q={class:"page-content"},H={class:"page-breadcrumb d-sm-flex align-items-center mb-3"},J={class:"ps-3"},K={"aria-label":"breadcrumb"},W={class:"breadcrumb mb-0 p-0"},X={class:"breadcrumb-item active text-capitalize","aria-current":"page"},Y={class:"ms-auto"},y={class:"row row-cols-1 row-cols-md-2 row-cols-xxl-4"},ss={class:"col"},ts={class:"card radius-10"},es={class:"card-body"},as={class:"d-flex align-items-center"},rs={class:"my-1"},ds={class:"col"},ns={class:"card radius-10"},os={class:"card-body"},is={class:"d-flex align-items-center"},ls={class:"my-1"},ms={class:"col"},us={class:"card radius-10"},_s={class:"card-body"},xs={class:"d-flex align-items-center"},gs={class:"my-1"},bs={class:"card"},cs={class:"card-header"},vs={class:"text-center mt-1"},fs={class:"card-body"},hs={class:"table-responsive"},ks={class:"table table-bordered table-sm text-uppercase",style:{"font-size":"12px"}},ps={class:"table-light"},ws={key:3,class:"px-2"},Ps={class:"px-2"},Ns={class:"px-2"},Bs={class:"px-2"},Ds={class:"px-2"},Is={class:"px-2"},Ss={class:"px-2"},As={class:"px-2"},Cs={class:"px-2"},Rs={class:"px-2"},Es={class:"px-2"},Fs={class:"px-2"},Ts={class:"px-2"},Gs={key:3,class:"px-2"},Vs={class:"px-2"},$s={class:"px-2"},zs={class:"px-2"},Ms={class:"px-2"},Ls={class:"px-2"},js={key:0},Os={class:"card-body"},Qs={class:"float-right"},rt={__name:"ListReport",props:{policies:Array,data:Array,filter:Array,grand_total:Array},setup(i){const r=V().props.slug,m=x=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(x),E=()=>{window.location.href=route("report.export",r)};return(x,t)=>{const F=$("InvoiceDetailModal");return n(),o(u,null,[_(d(z),{title:"Sales Report"}),_(G,null,{default:R(()=>[s("div",Z,[s("div",q,[s("div",H,[t[2]||(t[2]=s("div",{class:"breadcrumb-title pe-3"},"Manage Reports",-1)),s("div",J,[s("nav",K,[s("ol",W,[t[0]||(t[0]=s("li",{class:"breadcrumb-item"},[s("a",{href:"javascript:;"},[s("i",{class:"bx bx-home-alt"})])],-1)),s("li",X,a(d(r))+" Report ",1)])])]),t[3]||(t[3]=s("div",{class:"ms-auto"},null,-1)),s("div",Y,[_(O,M(x.$props,{filter_route:"report"}),null,16),_(Q,{onClick:E},{default:R(()=>t[1]||(t[1]=[s("i",{class:"bx bx-export text-lg mr-1"},null,-1),L(" Excel Export")])),_:1})])]),s("div",y,[s("div",ss,[s("div",ts,[s("div",es,[s("div",as,[s("div",null,[t[4]||(t[4]=s("p",{class:"mb-0 text-secondary"},"Total Sum Insured",-1)),s("h4",rs,a(m(i.grand_total.sum_insured)),1)]),t[5]||(t[5]=s("div",{class:"widgets-icons bg-light-info text-info ms-auto"},[s("i",{class:"bx bx-dollar"})],-1))])])])]),s("div",ds,[s("div",ns,[s("div",os,[s("div",is,[s("div",null,[t[6]||(t[6]=s("p",{class:"mb-0 text-secondary"},"Total Gross Premium",-1)),s("h4",ls,a(m(i.grand_total.gross_premium)),1)]),t[7]||(t[7]=s("div",{class:"widgets-icons bg-light-warning text-warning ms-auto"},[s("i",{class:"bx bx-dollar"})],-1))])])])]),s("div",ms,[s("div",us,[s("div",_s,[s("div",xs,[s("div",null,[t[8]||(t[8]=s("p",{class:"mb-0 text-secondary"},"Total Net Premium",-1)),s("h4",gs,a(m(i.grand_total.net_premium)),1)]),t[9]||(t[9]=s("div",{class:"widgets-icons bg-light-success text-success ms-auto"},[s("i",{class:"bx bx-dollar"})],-1))])])])])]),s("div",bs,[s("div",cs,[s("h5",vs,[s("b",null,a(i.filter.month_name)+" "+a(i.filter.year),1)])]),s("div",fs,[s("div",hs,[s("table",ks,[s("thead",ps,[s("tr",null,[t[20]||(t[20]=s("th",{class:"px-2"},"Sr #",-1)),t[21]||(t[21]=s("th",{class:"px-2"},"Policy Number",-1)),t[22]||(t[22]=s("th",{class:"px-2"},"Client Name",-1)),t[23]||(t[23]=s("th",{class:"px-2"},"Insurer Name",-1)),t[24]||(t[24]=s("th",{class:"px-2"},"Agency Name",-1)),t[25]||(t[25]=s("th",{class:"px-2"},"Class of Business",-1)),t[26]||(t[26]=s("th",{class:"px-2"},"Policy Type",-1)),d(r)=="renewal"||d(r)=="outstanding"?(n(),o(u,{key:0},[t[10]||(t[10]=s("th",{class:"px-2"},"Inception Date",-1)),t[11]||(t[11]=s("th",{class:"px-2"},"Expiry Date",-1)),t[12]||(t[12]=s("th",{class:"px-2"},"Issuance Date",-1))],64)):l("",!0),d(r)=="commission-recovery"||d(r)=="commission-outstanding-recovery"?(n(),o(u,{key:1},[t[13]||(t[13]=s("th",{class:"px-2"},"Brokerage amount",-1)),t[14]||(t[14]=s("th",{class:"px-2"},"Brokerage Paid Date ",-1))],64)):l("",!0),d(r)=="commission-recovery"?(n(),o(u,{key:2},[t[15]||(t[15]=s("th",{class:"px-2"},"Brokerage Percentage",-1)),t[16]||(t[16]=s("th",{class:"px-2"},"Brokerage Received Amount",-1)),t[17]||(t[17]=s("th",{class:"px-2"},"Brokerage Status",-1))],64)):l("",!0),d(r)=="commission-outstanding-recovery"?(n(),o("th",ws,"Balance Amount")):l("",!0),t[27]||(t[27]=s("th",{class:"px-2"},"Sum Insured",-1)),t[28]||(t[28]=s("th",{class:"px-2"},"Gross Premium",-1)),d(r)=="outstanding"?(n(),o(u,{key:4},[t[18]||(t[18]=s("th",{class:"px-2"},"Gross Premium Received",-1)),t[19]||(t[19]=s("th",{class:"px-2"},"Gross Premium OutStanding",-1))],64)):l("",!0),t[29]||(t[29]=s("th",{class:"px-2"},"Net Premium",-1))])]),s("tbody",null,[(n(!0),o(u,null,j(i.policies.data,(e,T)=>{var b,c,v,f,h,k,p,w,P,N,B,D,I,S,A,C;return n(),o("tr",null,[s("td",Ps,a((i.policies.current_page-1)*i.policies.per_page+T+1),1),s("td",Ns,a((b=e==null?void 0:e.data)==null?void 0:b.policy_no),1),s("td",Bs,a(e.client_name),1),s("td",Ds,a(e.insurer_name),1),s("td",Is,a(e.agency_name),1),s("td",Ss,a(e.cob_name),1),s("td",As,a((c=e==null?void 0:e.data)==null?void 0:c.policy_type),1),d(r)=="renewal"||d(r)=="outstanding"?(n(),o(u,{key:0},[s("td",{class:g([{"bg-info":i.filter.date_type==="policy_period_start"},"px-2"])},a((v=e==null?void 0:e.data)==null?void 0:v.policy_period_start),3),s("td",{class:g([{"bg-info":i.filter.date_type==="policy_period_end"},"px-2"])},a((f=e==null?void 0:e.data)==null?void 0:f.policy_period_end),3),s("td",{class:g([{"bg-info":i.filter.date_type==="date_of_issuance"},"px-2"])},a((h=e==null?void 0:e.data)==null?void 0:h.date_of_issuance),3)],64)):l("",!0),d(r)=="commission-recovery"||d(r)=="commission-outstanding-recovery"?(n(),o(u,{key:1},[s("td",Cs,a(m((k=e==null?void 0:e.data)==null?void 0:k.brokerage_amount)),1),s("td",Rs,a((p=e==null?void 0:e.data)==null?void 0:p.brokerage_paid_date),1)],64)):l("",!0),d(r)=="commission-recovery"?(n(),o(u,{key:2},[s("td",Es,a((w=e==null?void 0:e.data)==null?void 0:w.brokerage_percentage)+"%",1),s("td",Fs,a(m((P=e==null?void 0:e.data)==null?void 0:P.brokerage_received_amount)),1),s("td",Ts,a((N=e==null?void 0:e.data)==null?void 0:N.brokerage_status),1)],64)):l("",!0),d(r)=="commission-outstanding-recovery"?(n(),o("td",Gs,a((B=e==null?void 0:e.data)==null?void 0:B.balance_amount),1)):l("",!0),s("td",Vs,a(m((D=e==null?void 0:e.data)==null?void 0:D.sum_insured)),1),s("td",$s,a(m((I=e==null?void 0:e.data)==null?void 0:I.gross_premium)),1),d(r)=="outstanding"?(n(),o(u,{key:4},[s("td",zs,a(m((S=e==null?void 0:e.data)==null?void 0:S.gross_premium_received)),1),s("td",Ms,a(m((A=e==null?void 0:e.data)==null?void 0:A.gross_premium_outstanding)),1)],64)):l("",!0),s("td",Ls,a(m((C=e==null?void 0:e.data)==null?void 0:C.net_premium)),1)])}),256)),i.policies.data.length==0?(n(),o("tr",js,t[30]||(t[30]=[s("td",{class:"text-center",colspan:"5"},"No record",-1)]))):l("",!0)])])])]),s("div",Os,[s("div",Qs,[_(U,{links:i.policies.links},null,8,["links"])])])])])]),_(F,{ref:"invoice_detail_ref"},null,512)]),_:1})],64)}}};export{rt as default};
