import{q as r,v as w,e as N,w as _,o as c,b as e,t as a,u as i,c as m,h as C,j as S,z as $,a as u,r as k,F as V,f as v,n as B,g as D}from"./app-a4909ee3.js";/* empty css                                               */import{_ as j}from"./InputError-a7cae60c.js";import{_ as E,a as F}from"./SecondaryButton-23c828f9.js";import{_ as L}from"./SuccessButton-4c37d959.js";const M={class:"p-6"},z={class:"text-lg font-medium text-gray-900 flex justify-between items-center"},P={class:"text-sm text-gray-500"},T={key:0,class:"mr-2"},U=e("p",{class:"mt-1 text-sm text-gray-600"},[e("hr")],-1),q={class:"mt-6"},A={class:"row g-3"},I={class:"col-md-12"},O=e("label",{for:"input13",class:"form-label"},"Description",-1),G={class:"card mt-3",style:{height:"300px","overflow-y":"auto"}},H={class:"card-body"},J={class:"table-responsive"},K={id:"example",class:"table table-striped table-bordered",style:{width:"100%"}},Q=e("thead",null,[e("tr",null,[e("th",null,"Sr #"),e("th",null,"Note #"),e("th",null,"Policy/Claim ID"),e("th",null,"Notes")])],-1),R={class:"mt-6 flex justify-end"},se={__name:"Note",setup(W,{expose:y}){const d=r(!1),n=r(!1),p=r([]),s=w({policy_id:"",policy_claim_id:"",note:""}),b=()=>{s.post(route("claim.store.claim-note"),{preserveScroll:!0,onSuccess:o=>{var t=o.props.flash.data;h(t.policy_claim_id,t.policy_id),s.note=""},onError:()=>{},onFinish:()=>{}})},f=()=>{d.value=!1},x=(o,t)=>{d.value=!0,n.value=!1,s.policy_id=t,s.policy_claim_id=o,s.note="",h(o,t)},h=(o,t)=>{axios.get(`/claims/fetch/claim-notes/${o}/${t}`).then(({data:l})=>{p.value=l.claim_notes})};return y({claimNote:(o,t)=>x(o,t)}),(o,t)=>(c(),N(E,{show:d.value,onClose:f},{default:_(()=>[e("form",{onSubmit:t[1]||(t[1]=D(l=>n.value?o.update():b(),["prevent"]))},[e("div",M,[e("h2",z,[e("span",null,a(n.value?"Edit":"Add")+" Note",1),e("span",P,[i(s).policy_claim_id?(c(),m("span",T,"CLM #"+a(i(s).policy_claim_id),1)):C("",!0),e("span",null,"POL #"+a(i(s).policy_id),1)])]),U,e("div",q,[e("div",A,[e("div",I,[O,S(e("textarea",{class:"form-control",id:"detail","onUpdate:modelValue":t[0]||(t[0]=l=>i(s).note=l),rows:"5"},null,512),[[$,i(s).note]]),u(j,{message:i(s).errors.note},null,8,["message"])])]),e("div",G,[e("div",H,[e("div",J,[e("table",K,[Q,e("tbody",null,[(c(!0),m(V,null,k(p.value,(l,g)=>(c(),m("tr",{key:l.id},[e("td",null,a(++g),1),e("td",null,a(l.id),1),e("td",null,a(l.policy_id)+"/"+a(l.policy_claim_id),1),e("td",null,a(l.note),1)]))),128))])])])])])]),e("div",R,[u(F,{onClick:f},{default:_(()=>[v("Close")]),_:1}),u(L,{class:B(["ml-3",{"opacity-25":i(s).processing}]),disabled:i(s).processing},{default:_(()=>[v(a(n.value?"Save & Update":"Save & Submit"),1)]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"]))}};export{se as default};
