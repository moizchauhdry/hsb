import{q as P,v as h,c as m,a as o,u as r,w as n,F as f,o as p,X as B,b as e,x,A as D,B as N,j as b,y as j,g as A,s as M,f as v,r as V,t as a,m as E}from"./app-d456894c.js";import{_ as F}from"./AuthenticatedLayout-cfcba6e2.js";import"./index-5de79a3b.js";/* empty css             */import I from"./CreateEdit-cacd76c0.js";import O from"./Import-64e1d7eb.js";import{_ as g}from"./SecondaryButton-9d36caa5.js";import{P as R}from"./Paginate-d09eb4e3.js";import{S as y}from"./sweetalert2.all-2a03c97b.js";import{_ as T}from"./SuccessButton-11ffc6ac.js";import{_ as w}from"./DangerButton-88b3a629.js";import U from"./ReportFilter-6b39d873.js";/* empty css                                                         *//* empty css                                               */import"./InputError-00dbcb17.js";import"./vue-datepicker-b5b032d5.js";import"./PrimaryButton-d325bc80.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./InputLabel-d68dd06a.js";import"./moment-a9aaa855.js";const Y={class:"page-wrapper"},q={class:"page-content"},z={class:"page-breadcrumb d-sm-flex align-items-center mb-3"},L=e("div",{class:"breadcrumb-title pe-3"},"Manage Reports",-1),X=e("div",{class:"ps-3"},[e("nav",{"aria-label":"breadcrumb"},[e("ol",{class:"breadcrumb mb-0 p-0"},[e("li",{class:"breadcrumb-item"},[e("a",{href:"javascript:;"},[e("i",{class:"bx bx-home-alt"})])]),e("li",{class:"breadcrumb-item active text-capitalize","aria-current":"page"},"Manage Policies ")])])],-1),G=e("div",{class:"ms-auto"},null,-1),H={class:"ms-auto",style:{display:"flex","justify-content":"space-between","align-items":"center"}},J={class:"card"},K={class:"card-body"},Q={class:"row align-items-center mb-3"},W={class:"col-12 col-md-2 d-flex align-items-center mb-2 mb-md-0"},Z=e("span",{class:"mr-2"},"Show",-1),ee=e("option",{value:"10"},"10",-1),se=e("option",{value:"25"},"25",-1),te=e("option",{value:"50"},"50",-1),oe=e("option",{value:"100"},"100",-1),ae=e("option",{value:"500"},"500",-1),ie=[ee,se,te,oe,ae],le=e("span",{class:"ml-2"},"entries",-1),ce={class:"col-12 col-md-10"},ne=["onSubmit"],re={class:"d-flex flex-column flex-md-row align-items-md-center"},de={class:"d-flex"},_e=e("i",{class:"bx bx-reset text-lg"},null,-1),me={class:"table-responsive"},pe={class:"table table-bordered table-sm text-uppercase"},ue=e("thead",{class:"table-light"},[e("tr",null,[e("th",{class:"px-2"},"Sr #"),e("th",{class:"px-2"},"Policy ID"),e("th",{class:"px-2"},"Policy No"),e("th",{class:"px-2"},"Client Name"),e("th",{class:"px-2"},"Agency Name"),e("th",{class:"px-2"},"COB Name"),e("th",{class:"px-2"},"Issuance Date"),e("th",{class:"px-2"},"Inception Date"),e("th",{class:"px-2"},"Expiry Date"),e("th",{class:"px-2"},"Action")])],-1),he={class:"px-2"},fe={class:"px-2"},xe={class:"px-2"},be=["href"],ve=e("i",{class:"bx bx-link-external"},null,-1),ge={class:"px-2"},ye={class:"px-2"},we={class:"px-2"},Se={class:"px-2"},$e={class:"px-2"},ke={class:"px-2"},Ce={class:"px-2"},Pe=e("i",{class:"bx bx-edit"},null,-1),Be=e("i",{class:"bx bxs-collection"},null,-1),De=e("i",{class:"bx bxs-trash"},null,-1),Ne={class:"card-body"},je={class:"float-left"},Ae={class:"float-right"},Ze={__name:"Index",props:{policies:Array,policy:Object,filter:Object,data:Array},setup(c){const u=P(null),S=i=>{u.value.edit(i)},$=i=>{const t=h({id:i});y.fire({title:"Are you sure?",text:"You will not be able to recover this policy!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(async s=>{s.isConfirmed&&t.delete(route("policy.delete"),{preserveScroll:!0,onSuccess:()=>{y.fire("Deleted!","Your policy has been deleted.","success")},onError:()=>{},onFinish:()=>t.reset()})})},l=h({search:"",page_count:10}),_=()=>{var i={search:l.search,page_count:l.page_count};const t=new URLSearchParams(i).toString();var s=`${route("policy.index")}?${t}`;l.post(s,{preserveScroll:!0,onSuccess:d=>{},onError:d=>{console.log(d)},onFinish:()=>{}})},k=()=>{l.search="",_()};return(i,t)=>(p(),m(f,null,[o(r(B),{title:"Policies"}),o(F,null,{default:n(()=>[e("div",Y,[e("div",q,[e("div",z,[L,X,G,e("div",H,[o(I,x(i.$props,{ref_key:"create_edit_ref",ref:u}),null,16),o(O,D(N(i.$props)),null,16),o(U,x(i.$props,{filter_route:"policy"}),null,16)])]),e("div",J,[e("div",K,[e("div",Q,[e("div",W,[Z,b(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>r(l).page_count=s),class:"form-control",style:{width:"70px"},onChange:t[1]||(t[1]=s=>_())},ie,544),[[j,r(l).page_count]]),le]),e("div",ce,[e("form",{class:"d-flex flex-column flex-md-row justify-content-md-end align-items-md-center",onSubmit:A(_,["prevent"])},[e("div",re,[b(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=s=>r(l).search=s),class:"form-control mr-2 mb-2",placeholder:"Search",style:{width:"100%"}},null,512),[[M,r(l).search]]),e("div",de,[o(T,{class:"mb-2 px-4 py-1 mr-1"},{default:n(()=>[v("Search")]),_:1}),o(w,{class:"mb-2 px-2 py-1",onClick:t[3]||(t[3]=s=>k())},{default:n(()=>[_e]),_:1})])])],40,ne)])]),e("div",me,[e("table",pe,[ue,e("tbody",null,[(p(!0),m(f,null,V(c.policies.data,(s,d)=>(p(),m("tr",null,[e("td",he,a((c.policies.current_page-1)*c.policies.per_page+d+1),1),e("td",fe,a(s.id),1),e("td",xe,[e("a",{href:i.route("policy.detail",s.id),target:"_blank"},[v(a(s.data.policy_no)+" ",1),ve],8,be)]),e("td",ge,a(s.client_name),1),e("td",ye,a(s.agency_name),1),e("td",we,a(s.cob_name),1),e("td",Se,a(s.data.date_of_issuance),1),e("td",$e,a(s.data.policy_period_start),1),e("td",ke,a(s.data.policy_period_end),1),e("td",Ce,[o(g,{onClick:C=>S(s.id)},{default:n(()=>[Pe]),_:2},1032,["onClick"]),o(r(E),{href:i.route("policy.detail",s.id),class:"mx-1"},{default:n(()=>[o(g,null,{default:n(()=>[Be]),_:1})]),_:2},1032,["href"]),o(w,{onClick:C=>$(s.id)},{default:n(()=>[De]),_:2},1032,["onClick"])])]))),256))])])])]),e("div",Ne,[e("div",je,[e("span",null,"Showing "+a(c.policies.from)+" to "+a(c.policies.to)+" of "+a(c.policies.total)+" entries",1)]),e("div",Ae,[o(R,{links:c.policies.links},null,8,["links"])])])])])])]),_:1})],64))}};export{Ze as default};
