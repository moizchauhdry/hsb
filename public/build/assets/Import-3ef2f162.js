import{J as _,e as f,v as x,o as b,c as w,a,w as r,F as C,b as s,h as m,l as I,y as F,u as l,n as S,t as $,j as k}from"./app-2503355b.js";import{_ as u}from"./InputError-dd830035.js";import{_ as E}from"./Modal-214ce95c.js";import{_ as P}from"./SecondaryButton-87a4c4ba.js";import{_ as c}from"./SuccessButton-55f9f62b.js";const V={class:"p-6"},h={class:"mt-6"},B={class:"row g-3"},M={class:"col-md-6"},N={class:"col-md-6"},j={class:"mt-6 flex justify-end"},q={__name:"Import",setup(D){_();const i=f(!1),p=f(!1),v=o=>{const e=o.target.files[0];t.file=e},t=x({file:null,type:""}),g=()=>{i.value=!0,p.value=!1},y=()=>{t.post(route("policy.import"),{preserveScroll:!0,onSuccess:()=>d(),onError:o=>{o.hasOwnProperty("errors")&&o.errors.hasOwnProperty("file")&&(t.errors.file=o.errors.file[0])},onFinish:()=>{}})},d=()=>{i.value=!1,t.reset()};return(o,e)=>(b(),w(C,null,[a(c,{onClick:g},{default:r(()=>e[3]||(e[3]=[s("i",{class:"bx bx-import mr-1"},null,-1),m(" Excel Import")])),_:1}),a(E,{show:i.value,onClose:o.closeModal},{default:r(()=>[s("form",{onSubmit:e[2]||(e[2]=k(n=>p.value?o.update():y(),["prevent"])),enctype:"multipart/form-data"},[s("div",V,[e[8]||(e[8]=s("h2",{class:"text-lg font-medium text-gray-900"},"Excel Import",-1)),e[9]||(e[9]=s("p",{class:"mt-1 text-sm text-gray-600"},[s("hr")],-1)),s("div",h,[s("div",B,[s("div",M,[e[5]||(e[5]=s("label",{for:"input21",class:"form-label"},"Type",-1)),I(s("select",{id:"input21",class:"form-select","onUpdate:modelValue":e[0]||(e[0]=n=>l(t).type=n)},e[4]||(e[4]=[s("option",{value:"1"},"Policy Import",-1),s("option",{value:"2"},"Commission Statement",-1)]),512),[[F,l(t).type]]),a(u,{message:l(t).errors.type},null,8,["message"])]),s("div",N,[e[6]||(e[6]=s("label",{for:"input13",class:"form-label"},"Import File",-1)),s("input",{type:"file",class:"form-control",id:"input13",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",onChange:v},null,32),a(u,{message:l(t).errors.file},null,8,["message"])])])]),s("div",j,[a(P,{onClick:e[1]||(e[1]=n=>d())},{default:r(()=>e[7]||(e[7]=[m(" Cancel ")])),_:1}),a(c,{class:S(["ml-3",{"opacity-25":l(t).processing}]),disabled:l(t).processing},{default:r(()=>[m($(l(t).processing?"Please wait ... Importing data":"Import"),1)]),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show","onClose"])],64))}};export{q as default};
