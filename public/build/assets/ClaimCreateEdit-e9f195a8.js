import{Q as N,m as y,T as B,o as _,c as x,e as T,w as u,h as b,a,F,q as M,b as o,f,t as V,u as t,j as p,s as j,x as v,n as I,g as A}from"./app-1f90dc38.js";import{_ as r}from"./InputError-d1d4538c.js";import{_ as X}from"./PrimaryButton-c923937f.js";import{_ as q,a as z}from"./SecondaryButton-71e979f9.js";import{_ as L}from"./SuccessButton-df77c511.js";import{_ as n}from"./InputLabel-c81240e3.js";import{X as C}from"./vue-datepicker-985c485d.js";/* empty css             */import{S as g}from"./sweetalert2.esm.all-c4900d15.js";const P={class:"p-6"},Q={class:"text-lg font-medium text-gray-900 flex justify-between items-center"},G={class:"text-sm text-gray-500"},H={key:0,class:"mr-2"},J={class:"mt-6"},K={class:"row g-3"},O={class:"col-md-6"},R={class:"col-md-6"},W={class:"col-md-6"},Y={class:"col-md-6"},Z={class:"col-md-6"},ss={class:"col-md-12"},es={class:"mt-6 flex justify-end"},ds={__name:"ClaimCreateEdit",props:{create_mode:Boolean},setup(S,{expose:w}){const{props:k}=N(),m=y(!1),c=y(!1),s=B({claim_id:"",policy_id:"",description:"",status:"progress",claim_at:"",intimation_at:"",survivor_name:"",contact_no:""}),E=()=>{s.policy_id=k.policy.id,m.value=!0,c.value=!1},$=()=>{s.post(route("claim.store"),{preserveScroll:!0,onSuccess:()=>{g.fire("Added!","The claim added successfully.","success"),d()},onError:()=>h(),onFinish:()=>{}})},U=()=>{s.post(route("claim.update"),{preserveScroll:!0,onSuccess:()=>{g.fire("Updated!","The claim update successfully.","success"),d()},onError:i=>{i.status==!1&&g.fire("Error!",i.message,"error")},onFinish:()=>{}})},h=()=>{},d=()=>{m.value=!1},D=i=>{m.value=!0,c.value=!0,M.get(`/claims/fetch/claim/${i}`).then(({data:e})=>{s.claim_id=e.policy_claim.id,s.policy_id=e.policy_claim.policy_id,s.description=e.policy_claim.detail,s.status=e.policy_claim.status,s.claim_at=e.policy_claim.claim_at,s.intimation_at=e.policy_claim.intimation_at,s.survivor_name=e.policy_claim.survivor_name,s.contact_no=e.policy_claim.contact_no})};return w({claimEdit:i=>D(i)}),(i,e)=>(_(),x(F,null,[S.create_mode?(_(),T(X,{key:0,onClick:E,"data-bs-toggle":"modal","data-bs-target":"#claimsLargeModal"},{default:u(()=>e[7]||(e[7]=[o("i",{class:"bx bx-plus mr-1"},null,-1),f(" Claim ")])),_:1})):b("",!0),a(q,{show:m.value,onClose:d},{default:u(()=>[o("form",{onSubmit:e[6]||(e[6]=A(l=>c.value?U():$(),["prevent"]))},[o("div",P,[o("h2",Q,[o("span",null,V(c.value?"Edit":"Add")+" Claim",1),o("span",G,[t(s).claim_id?(_(),x("span",H,"ID #"+V(t(s).claim_id),1)):b("",!0)])]),e[11]||(e[11]=o("p",{class:"mt-1 text-sm text-gray-600"},[o("hr")],-1)),o("div",J,[o("div",K,[o("div",O,[a(n,{for:"",value:"Status",class:"mb-1"}),p(o("select",{id:"input21",class:"form-select","onUpdate:modelValue":e[0]||(e[0]=l=>t(s).status=l)},e[8]||(e[8]=[o("option",{value:"progress"},"In Progress",-1),o("option",{value:"settled"},"Settled",-1)]),512),[[j,t(s).status]]),a(r,{message:t(s).errors.status},null,8,["message"])]),o("div",R,[a(n,{for:"",value:"Claim Date",class:"mb-1"}),a(t(C),{modelValue:t(s).claim_at,"onUpdate:modelValue":e[1]||(e[1]=l=>t(s).claim_at=l),"enable-time-picker":!0,"show-time":!0},null,8,["modelValue"]),a(r,{message:t(s).errors.claim_at},null,8,["message"])]),o("div",W,[a(n,{for:"",value:"Intimation Date",class:"mb-1"}),a(t(C),{modelValue:t(s).intimation_at,"onUpdate:modelValue":e[2]||(e[2]=l=>t(s).intimation_at=l),"enable-time-picker":!0,"show-time":!0},null,8,["modelValue"]),a(r,{message:t(s).errors.intimation_at},null,8,["message"])]),o("div",Y,[a(n,{for:"",value:"Surveyor Name",class:"mb-1"}),p(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=l=>t(s).survivor_name=l)},null,512),[[v,t(s).survivor_name]]),a(r,{message:t(s).errors.survivor_name},null,8,["message"])]),o("div",Z,[a(n,{for:"",value:"Contact No",class:"mb-1"}),p(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=l=>t(s).contact_no=l)},null,512),[[v,t(s).contact_no]]),a(r,{message:t(s).errors.contact_no},null,8,["message"])]),o("div",ss,[a(n,{for:"",value:"Description",class:"mb-1"}),p(o("textarea",{class:"form-control",id:"description","onUpdate:modelValue":e[5]||(e[5]=l=>t(s).description=l),rows:"10"},null,512),[[v,t(s).description]]),a(r,{message:t(s).errors.description},null,8,["message"])])])]),o("div",es,[a(z,{onClick:d},{default:u(()=>e[9]||(e[9]=[f(" Cancel ")])),_:1}),a(L,{class:I(["ml-3",{"opacity-25":t(s).processing}]),disabled:t(s).processing},{default:u(()=>e[10]||(e[10]=[f(" Save ")])),_:1},8,["class","disabled"])])])],32)]),_:1},8,["show"])],64))}};export{ds as default};
