import{_ as C}from"./AuthenticatedLayout-af78c0ad.js";import"./index-07d9a9d7.js";import{J as $,q as w,c as m,a as i,u as c,w as r,F as f,o as l,X as B,b as e,x as u,e as d,H as P,h as _,r as N,t as s,f as D,m as S,v as A}from"./app-0991505c.js";import j from"./CreateEdit-99a580d6.js";import I from"./Import-8eabf3ec.js";import{_ as b}from"./SecondaryButton-181067a9.js";import{P as V}from"./Paginate-76cbc5cc.js";import{S as x}from"./sweetalert2.all-cb270ee6.js";import{_ as E}from"./DangerButton-926db664.js";import F from"./ReportFilter-620214c8.js";import{_ as O}from"./Search-2549432e.js";/* empty css                                               */import"./InputError-5f757f33.js";import"./vue-datepicker-96857d51.js";/* empty css             */import"./SuccessButton-4288c0b5.js";import"./PrimaryButton-fc3f89f9.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./InputLabel-090943d6.js";import"./moment-a9aaa855.js";const Y={class:"page-wrapper"},z={class:"page-content"},L={class:"page-breadcrumb d-sm-flex align-items-center mb-3"},T=e("div",{class:"breadcrumb-title pe-3"},"Manage Policies",-1),q=e("div",{class:"ps-3"},[e("nav",{"aria-label":"breadcrumb"},[e("ol",{class:"breadcrumb mb-0 p-0"},[e("li",{class:"breadcrumb-item"},[e("a",{href:"javascript:;"},[e("i",{class:"bx bx-home-alt"})])]),e("li",{class:"breadcrumb-item active text-capitalize","aria-current":"page"},"Policy List ")])])],-1),H=e("div",{class:"ms-auto"},null,-1),J={class:"ms-auto",style:{display:"flex","justify-content":"space-between","align-items":"center"}},M={class:"card"},X={class:"card-header"},G={class:"card-body"},K={class:"table-responsive"},Q={class:"table table-bordered table-sm text-uppercase"},R=e("thead",{class:"table-light"},[e("tr",null,[e("th",{class:"px-2"},"Sr #"),e("th",{class:"px-2"},"Policy ID"),e("th",{class:"px-2"},"Policy No"),e("th",{class:"px-2"},"Client Name"),e("th",{class:"px-2"},"Agency Name"),e("th",{class:"px-2"},"COB Name"),e("th",{class:"px-2"},"Issuance Date"),e("th",{class:"px-2"},"Inception Date"),e("th",{class:"px-2"},"Expiry Date"),e("th",{class:"px-2"},"Action")])],-1),U={class:"px-2"},W={class:"px-2"},Z={class:"px-2"},ee=["href"],te=e("i",{class:"bx bx-link-external"},null,-1),se={class:"px-2"},ae={class:"px-2"},oe={class:"px-2"},ie={class:"px-2"},le={class:"px-2"},ce={class:"px-2"},re={class:"px-2"},ne=e("i",{class:"bx bx-edit"},null,-1),de=e("i",{class:"bx bxs-collection"},null,-1),_e=e("i",{class:"bx bxs-trash"},null,-1),pe={class:"card-footer"},me={class:"float-left"},ue={class:"float-right"},Ee={__name:"Index",props:{policies:Array,policy:Object,filter:Object,data:Array},setup(o){const n=$().props.can,h=w(null),v=a=>{h.value.edit(a)},y=a=>{const p=A({id:a});x.fire({title:"Are you sure?",text:"You will not be able to recover this policy!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(async t=>{t.isConfirmed&&p.delete(route("policy.delete"),{preserveScroll:!0,onSuccess:()=>{x.fire("Deleted!","Your policy has been deleted.","success")},onError:()=>{},onFinish:()=>p.reset()})})};return(a,p)=>(l(),m(f,null,[i(c(B),{title:"Policies"}),i(C,null,{default:r(()=>[e("div",Y,[e("div",z,[e("div",L,[T,q,H,e("div",J,[i(j,u(a.$props,{ref_key:"create_edit_ref",ref:h}),null,16),c(n).excel_import?(l(),d(I,P(u({key:0},a.$props)),null,16)):_("",!0),i(F,u(a.$props,{filter_route:"policy"}),null,16)])]),e("div",M,[e("div",X,[i(O,{route_name:a.route("policy.index")},null,8,["route_name"])]),e("div",G,[e("div",K,[e("table",Q,[R,e("tbody",null,[(l(!0),m(f,null,N(o.policies.data,(t,g)=>(l(),m("tr",null,[e("td",U,s((o.policies.current_page-1)*o.policies.per_page+g+1),1),e("td",W,s(t.id),1),e("td",Z,[e("a",{href:a.route("policy.detail",t.id),target:"_blank"},[D(s(t.data.policy_no)+" ",1),te],8,ee)]),e("td",se,s(t.client_name),1),e("td",ae,s(t.agency_name),1),e("td",oe,s(t.cob_name),1),e("td",ie,s(t.data.date_of_issuance),1),e("td",le,s(t.data.policy_period_start),1),e("td",ce,s(t.data.policy_period_end),1),e("td",re,[c(n).policy_update?(l(),d(b,{key:0,onClick:k=>v(t.id)},{default:r(()=>[ne]),_:2},1032,["onClick"])):_("",!0),c(n).policy_detail?(l(),d(c(S),{key:1,href:a.route("policy.detail",t.id),class:"mx-1"},{default:r(()=>[i(b,null,{default:r(()=>[de]),_:1})]),_:2},1032,["href"])):_("",!0),c(n).policy_delete?(l(),d(E,{key:2,onClick:k=>y(t.id)},{default:r(()=>[_e]),_:2},1032,["onClick"])):_("",!0)])]))),256))])])])]),e("div",pe,[e("div",me,[e("span",null,"Showing "+s(o.policies.from)+" to "+s(o.policies.to)+" of "+s(o.policies.total)+" entries",1)]),e("div",ue,[i(V,{links:o.policies.links},null,8,["links"])])])])])])]),_:1})],64))}};export{Ee as default};
